"use strict";(self.webpackChunkA2_WMG=self.webpackChunkA2_WMG||[]).push([[179],{2011:(lt,we,k)=>{k.d(we,{Dh:()=>ce,GT:()=>he,cc:()=>Se,hO:()=>Ve,on:()=>H,pX:()=>oe,xv:()=>le});var f=k(4650),Q=k(127),O=k(5813);lt=k.hmd(lt);const ne=["ngOnDestroy"],oe=(re,Le,We,Ue={})=>new Proxy(re,{get:(Ye,Te)=>We.runOutsideAngular(()=>{var Qe;if(re[Te])return!(null===(Qe=Ue?.spy)||void 0===Qe)&&Qe.get&&Ue.spy.get(Te,re[Te]),re[Te];if(ne.indexOf(Te)>-1)return()=>{};const Ze=Le.toPromise().then(de=>{const B=de&&de[Te];return"function"==typeof B?B.bind(de):B&&B.then?B.then(ee=>We.run(()=>ee)):We.run(()=>B)});return new Proxy(()=>{},{get:(de,B)=>Ze[B],apply:(de,B,ee)=>Ze.then(te=>{var _e;const pe=te&&te(...ee);return!(null===(_e=Ue?.spy)||void 0===_e)&&_e.apply&&Ue.spy.apply(Te,ee,pe),pe})})})}),he=(re,Le)=>{Le.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Ue=>{Object.defineProperty(re.prototype,Ue,Object.getOwnPropertyDescriptor(We.prototype||We,Ue))})})};class ae{constructor(Le){return Le}}const ce=new f.OlP("angularfire2.app.options"),le=new f.OlP("angularfire2.app.name");function H(re,Le,We){const Ye="object"==typeof We&&We||{};Ye.name=Ye.name||"string"==typeof We&&We||"[DEFAULT]";const Qe=Q.Z.apps.filter(Ze=>Ze&&Ze.name===Ye.name)[0]||Le.runOutsideAngular(()=>Q.Z.initializeApp(re,Ye));try{JSON.stringify(re)!==JSON.stringify(Qe.options)&&G("error",`${Qe.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Qe)}const G=(re,...Le)=>{(0,f.X6Q)()&&typeof console<"u"&&console[re](...Le)},Z={provide:ae,useFactory:H,deps:[ce,f.R0b,[new f.FiY,le]]};let Ve=(()=>{class re{constructor(We){Q.Z.registerVersion("angularfire",O.q4.full,"core"),Q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Q.Z.registerVersion("angular",f.q4F.full,We.toString())}static initializeApp(We,Ue){return{ngModule:re,providers:[{provide:ce,useValue:We},{provide:le,useValue:Ue}]}}}return re.\u0275fac=function(We){return new(We||re)(f.LFG(f.Lbi))},re.\u0275mod=f.oAB({type:re}),re.\u0275inj=f.cJS({providers:[Z]}),re})();function Se(re,Le,We,Ue,Ye){const[,Te,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===re)||[];if(Te)return function me(re,Le){try{return re.toString()===Le.toString()}catch{return re===Le}}(Ye,Qe)||(ge("error",`${Le} was already initialized on the ${We} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ye,was:Qe})),Te;{const Ze=Ue();return globalThis.\u0275AngularfireInstanceCache.push([re,Ze,Ye]),Ze}}const Xe=!!lt.hot,ge=(re,...Le)=>{(0,f.X6Q)()&&typeof console<"u"&&console[re](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,we,k)=>{k.d(we,{q4:()=>ei,iC:()=>Zi,HU:()=>ks,vb:()=>io,JM:()=>Vu});var f=k(4650),Q=k(5867),O=k(5861),ne=k(9681),oe=k(2090),he=k(4859),ae=k(1877),ce=k(8766);const le="@firebase/installations",H="0.5.15",Z=`w:${H}`,Ve="FIS_v2",Le=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function Ue({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ye(b){return{token:b.token,requestStatus:2,expiresIn:te(b.expiresIn),creationTime:Date.now()}}function Te(b,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(b,T){const F=(yield T.json()).error;return Le.create("request-failed",{requestName:b,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ze({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function de(b,{refreshToken:T}){const M=Ze(b);return M.append("Authorization",function _e(b){return`${Ve} ${b}`}(T)),M}function B(b){return ee.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(b){const T=yield b();return T.status>=500&&T.status<600?b():T})).apply(this,arguments)}function te(b){return Number(b.replace("s","000"))}function pe(b,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:T},{fid:M}){const F=Ue(b),W=Ze(b),se=T.getImmediate({optional:!0});if(se){const _t=yield se.getHeartbeatsHeader();_t&&W.append("x-firebase-client",_t)}const Be={method:"POST",headers:W,body:JSON.stringify({fid:M,authVersion:Ve,appId:b.appId,sdkVersion:Z})},pt=yield B(()=>fetch(F,Be));if(pt.ok){const _t=yield pt.json();return{fid:_t.fid||M,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Ye(_t.authToken)}}throw yield Te("Create Installation",pt)})).apply(this,arguments)}function vt(b){return new Promise(T=>{setTimeout(T,b)})}const Rn=/^[cdef][\w-]{21}$/;function wt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function An(b){return function Ut(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Rn.test(M)?M:""}catch{return""}}function Wt(b){return`${b.appName}!${b.appId}`}const Sn=new Map;function on(b,T){const M=Wt(b);Xi(M,T),function Ts(b,T){const M=function nn(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=b=>{Xi(b.data.key,b.data.fid)}),Zr}();M&&M.postMessage({key:b,fid:T}),function On(){0===Sn.size&&Zr&&(Zr.close(),Zr=null)}()}(M,T)}function Xi(b,T){const M=Sn.get(b);if(M)for(const F of M)F(T)}let Zr=null;const Lr="firebase-installations-store";let Me=null;function Vr(){return Me||(Me=(0,ce.X3)("firebase-installations-database",1,{upgrade:(b,T)=>{0===T&&b.createObjectStore(Lr)}})),Me}function He(b,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,O.Z)(function*(b,T){const M=Wt(b),W=(yield Vr()).transaction(Lr,"readwrite"),se=W.objectStore(Lr),be=yield se.get(M);return yield se.put(T,M),yield W.done,(!be||be.fid!==T.fid)&&on(b,T.fid),T})).apply(this,arguments)}function Xn(b){return er.apply(this,arguments)}function er(){return(er=(0,O.Z)(function*(b){const T=Wt(b),F=(yield Vr()).transaction(Lr,"readwrite");yield F.objectStore(Lr).delete(T),yield F.done})).apply(this,arguments)}function Vi(b,T){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,O.Z)(function*(b,T){const M=Wt(b),W=(yield Vr()).transaction(Lr,"readwrite"),se=W.objectStore(Lr),be=yield se.get(M),Be=T(be);return void 0===Be?yield se.delete(M):yield se.put(Be,M),yield W.done,Be&&(!be||be.fid!==Be.fid)&&on(b,Be.fid),Be})).apply(this,arguments)}function wn(b){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,O.Z)(function*(b){let T;const M=yield Vi(b.appConfig,F=>{const W=En(F),se=gt(b,W);return T=se.registrationPromise,se.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function En(b){return nt(b||{fid:wt(),registrationStatus:0})}function gt(b,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Le.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function ot(b,T){return Kt.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:es(b)}:{installationEntry:T}}function Kt(){return(Kt=(0,O.Z)(function*(b,T){try{const M=yield pe(b,T);return He(b.appConfig,M)}catch(M){throw We(M)&&409===M.customData.serverCode?yield Xn(b.appConfig):yield He(b.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function es(b){return lr.apply(this,arguments)}function lr(){return(lr=(0,O.Z)(function*(b){let T=yield Kr(b.appConfig);for(;1===T.registrationStatus;)yield vt(100),T=yield Kr(b.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield wn(b);return F||M}return T})).apply(this,arguments)}function Kr(b){return Vi(b,T=>{if(!T)throw Le.create("installation-not-found");return nt(T)})}function nt(b){return function gn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function an(b,T){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:T},M){const F=Zt(b,M),W=de(b,M),se=T.getImmediate({optional:!0});if(se){const _t=yield se.getHeartbeatsHeader();_t&&W.append("x-firebase-client",_t)}const Be={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Z,appId:b.appId}})},pt=yield B(()=>fetch(F,Be));if(pt.ok)return Ye(yield pt.json());throw yield Te("Generate Auth Token",pt)})).apply(this,arguments)}function Zt(b,{fid:T}){return`${Ue(b)}/${T}/authTokens:generate`}function mn(b){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(b,T=!1){let M;const F=yield Vi(b.appConfig,se=>{if(!Ht(se))throw Le.create("not-registered");const be=se.authToken;if(!T&&j(be))return se;if(1===be.requestStatus)return M=Je(b,T),se;{if(!navigator.onLine)throw Le.create("app-offline");const Be=q(se);return M=Ct(b,Be),Be}});return M?yield M:F.authToken})).apply(this,arguments)}function Je(b,T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(b,T){let M=yield Ke(b.appConfig);for(;1===M.authToken.requestStatus;)yield vt(100),M=yield Ke(b.appConfig);const F=M.authToken;return 0===F.requestStatus?mn(b,T):F})).apply(this,arguments)}function Ke(b){return Vi(b,T=>{if(!Ht(T))throw Le.create("not-registered");return function ve(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ct(b,T){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(b,T){try{const M=yield an(b,T),F=Object.assign(Object.assign({},T),{authToken:M});return yield He(b.appConfig,F),M}catch(M){if(!We(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield He(b.appConfig,F)}else yield Xn(b.appConfig);throw M}})).apply(this,arguments)}function Ht(b){return void 0!==b&&2===b.registrationStatus}function j(b){return 2===b.requestStatus&&!function V(b){const T=Date.now();return T<b.creationTime||b.creationTime+b.expiresIn<T+36e5}(b)}function q(b){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:T})}function $e(){return($e=(0,O.Z)(function*(b){const T=b,{installationEntry:M,registrationPromise:F}=yield wn(T);return F?F.catch(console.error):mn(T).catch(console.error),M.fid})).apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(b,T=!1){const M=b;return yield un(M),(yield mn(M,T)).token})).apply(this,arguments)}function un(b){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(b){const{registrationPromise:T}=yield wn(b);T&&(yield T)})).apply(this,arguments)}function ns(b){return Le.create("missing-app-config-values",{valueName:b})}const To="installations",Ao=b=>{const T=b.getProvider("app").getImmediate(),M=function yn(b){if(!b||!b.options)throw ns("App Configuration");if(!b.name)throw ns("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!b.options[M])throw ns(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ne._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ss=b=>{const T=b.getProvider("app").getImmediate(),M=(0,ne._getProvider)(T,To).getImmediate();return{getId:()=>function K(b){return $e.apply(this,arguments)}(M),getToken:W=>function dt(b){return qt.apply(this,arguments)}(M,W)}};(function Ks(){(0,ne._registerComponent)(new he.wA(To,Ao,"PUBLIC")),(0,ne._registerComponent)(new he.wA("installations-internal",Ss,"PRIVATE"))})(),(0,ne.registerVersion)(le,H),(0,ne.registerVersion)(le,H,"esm2017");const vr="@firebase/remote-config",In=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kc{constructor(T,M,F,W){this.client=T,this.storage=M,this.storageCache=F,this.logger=W}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,W=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var M=this;return(0,O.Z)(function*(){const[F,W]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(W&&M.isCachedDataFresh(T.cacheMaxAgeMillis,F))return W;T.eTag=W&&W.eTag;const se=yield M.client.fetch(T),be=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&be.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(be),se})()}}function Fc(b=navigator){return b.languages&&b.languages[0]||b.language}class vy{constructor(T,M,F,W,se,be){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=F,this.projectId=W,this.apiKey=se,this.appId=be}fetch(T){var M=this;return(0,O.Z)(function*(){var F,W,se;const[be,Be]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ht={sdk_version:M.sdkVersion,app_instance_id:be,app_instance_id_token:Be,app_id:M.appId,language_code:Fc()},vn={method:"POST",headers:Pt,body:JSON.stringify(ht)},fr=fetch(_t,vn),fs=new Promise((Qo,Ls)=>{T.signal.addEventListener(()=>{const yd=new Error("The operation was aborted.");yd.name="AbortError",Ls(yd)})});let so;try{yield Promise.race([fr,fs]),so=yield fr}catch(Qo){let Ls="fetch-client-network";throw"AbortError"===(null===(F=Qo)||void 0===F?void 0:F.name)&&(Ls="fetch-timeout"),In.create(Ls,{originalErrorMessage:null===(W=Qo)||void 0===W?void 0:W.message})}let Yo=so.status;const oo=so.headers.get("ETag")||void 0;let Fs,ao;if(200===so.status){let Qo;try{Qo=yield so.json()}catch(Ls){throw In.create("fetch-client-parse",{originalErrorMessage:null===(se=Ls)||void 0===se?void 0:se.message})}Fs=Qo.entries,ao=Qo.state}if("INSTANCE_STATE_UNSPECIFIED"===ao?Yo=500:"NO_CHANGE"===ao?Yo=304:("NO_TEMPLATE"===ao||"EMPTY_CONFIG"===ao)&&(Fs={}),304!==Yo&&200!==Yo)throw In.create("fetch-status",{httpStatus:Yo});return{status:Yo,eTag:oo,config:Fs}})()}}class ma{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,O.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:F}){var W=this;return(0,O.Z)(function*(){yield function Di(b,T){return new Promise((M,F)=>{const W=Math.max(T-Date.now(),0),se=setTimeout(M,W);b.addEventListener(()=>{clearTimeout(se),F(In.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const se=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),se}catch(se){if(!function Yp(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}(se))throw se;const be={throttleEndTimeMillis:Date.now()+(0,oe.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(be),W.attemptFetch(T,be)}})()}}class hl{constructor(T,M,F,W,se){this.app=T,this._client=M,this._storageCache=F,this._storage=W,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ya(b,T){var M;const F=b.target.error||void 0;return In.create(T,{originalErrorMessage:F&&(null===(M=F)||void 0===M?void 0:M.message)})}const Ro="app_namespace_store";class fl{constructor(T,M,F,W=function Uc(){return new Promise((b,T)=>{var M;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=W=>{T(ya(W,"storage-open"))},F.onsuccess=W=>{b(W.target.result)},F.onupgradeneeded=W=>{0===W.oldVersion&&W.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(F){T(In.create("storage-open",{originalErrorMessage:null===(M=F)||void 0===M?void 0:M.message}))}})}()){this.appId=T,this.appName=M,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,O.Z)(function*(){const F=yield M.openDbPromise;return new Promise((W,se)=>{var be;const pt=F.transaction([Ro],"readonly").objectStore(Ro),_t=M.createCompositeKey(T);try{const Pt=pt.get(_t);Pt.onerror=ht=>{se(ya(ht,"storage-get"))},Pt.onsuccess=ht=>{const vn=ht.target.result;W(vn?vn.value:void 0)}}catch(Pt){se(In.create("storage-get",{originalErrorMessage:null===(be=Pt)||void 0===be?void 0:be.message}))}})})()}set(T,M){var F=this;return(0,O.Z)(function*(){const W=yield F.openDbPromise;return new Promise((se,be)=>{var Be;const _t=W.transaction([Ro],"readwrite").objectStore(Ro),Pt=F.createCompositeKey(T);try{const ht=_t.put({compositeKey:Pt,value:M});ht.onerror=vn=>{be(ya(vn,"storage-set"))},ht.onsuccess=()=>{se()}}catch(ht){be(In.create("storage-set",{originalErrorMessage:null===(Be=ht)||void 0===Be?void 0:Be.message}))}})})()}delete(T){var M=this;return(0,O.Z)(function*(){const F=yield M.openDbPromise;return new Promise((W,se)=>{var be;const pt=F.transaction([Ro],"readwrite").objectStore(Ro),_t=M.createCompositeKey(T);try{const Pt=pt.delete(_t);Pt.onerror=ht=>{se(ya(ht,"storage-delete"))},Pt.onsuccess=()=>{W()}}catch(Pt){se(In.create("storage-delete",{originalErrorMessage:null===(be=Pt)||void 0===be?void 0:be.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Bc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const M=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),se=yield M;se&&(T.lastFetchStatus=se);const be=yield F;be&&(T.lastSuccessfulFetchTimestampMillis=be);const Be=yield W;Be&&(T.activeConfig=Be)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function $c(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function jc(){(0,ne._registerComponent)(new he.wA("remote-config",function b(T,{instanceIdentifier:M}){const F=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw In.create("registration-window");if(!(0,oe.hl)())throw In.create("indexed-db-unavailable");const{projectId:se,apiKey:be,appId:Be}=F.options;if(!se)throw In.create("registration-project-id");if(!be)throw In.create("registration-api-key");if(!Be)throw In.create("registration-app-id");const pt=new fl(Be,F.name,M=M||"firebase"),_t=new Bc(pt),Pt=new ae.Yd(vr);Pt.logLevel=ae.in.ERROR;const ht=new vy(W,ne.SDK_VERSION,M,se,be,Be),vn=new ma(ht,pt),fr=new kc(vn,pt,_t,Pt),fs=new hl(F,fr,_t,pt,Pt);return function Un(b){const T=(0,oe.m9)(b);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(vr,"0.3.14"),(0,ne.registerVersion)(vr,"0.3.14","esm2017")}();const Bi="/firebase-messaging-sw.js",zh="/firebase-cloud-messaging-push-scope",Oo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="google.c.a.c_id",pl="google.c.a.c_l",Iu="google.c.a.ts",va="google.c.a.e";var Ci=(()=>{return(b=Ci||(Ci={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Ci;var b})();function is(b){const T=new Uint8Array(b);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pn(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),W=new Uint8Array(F.length);for(let se=0;se<F.length;++se)W[se]=F.charCodeAt(se);return W}const _a="fcm_token_details_db",wa="fcm_token_object_Store";function Wc(b){return qh.apply(this,arguments)}function qh(){return qh=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(_a))return null;let T=null;return(yield(0,ce.X3)(_a,5,{upgrade:(F=(0,O.Z)(function*(W,se,be,Be){var pt;if(se<2||!W.objectStoreNames.contains(wa))return;const _t=Be.objectStore(wa),Pt=yield _t.index("fcmSenderId").get(b);if(yield _t.clear(),Pt)if(2===se){const ht=Pt;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;T={token:ht.fcmToken,createTime:null!==(pt=ht.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:is(ht.vapidKey)}}}else if(3===se){const ht=Pt;T={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:is(ht.auth),p256dh:is(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:is(ht.vapidKey)}}}else if(4===se){const ht=Pt;T={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:is(ht.auth),p256dh:is(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:is(ht.vapidKey)}}}}),function(se,be,Be,pt){return F.apply(this,arguments)})})).close(),yield(0,ce.Lj)(_a),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),kn(T)?T:null;var F}),qh.apply(this,arguments)}function kn(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:T}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Xr="firebase-messaging-store";let Bn=null;function Zc(){return Bn||(Bn=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(b,T)=>{0===T&&b.createObjectStore(Xr)}})),Bn}function Ea(b){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,O.Z)(function*(b){const T=Ar(b),F=yield(yield Zc()).transaction(Xr).objectStore(Xr).get(T);if(F)return F;{const W=yield Wc(b.appConfig.senderId);if(W)return yield sn(b,W),W}})).apply(this,arguments)}function sn(b,T){return bu.apply(this,arguments)}function bu(){return(bu=(0,O.Z)(function*(b,T){const M=Ar(b),W=(yield Zc()).transaction(Xr,"readwrite");return yield W.objectStore(Xr).put(T,M),yield W.done,T})).apply(this,arguments)}function jr(b){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(b){const T=Ar(b),F=(yield Zc()).transaction(Xr,"readwrite");yield F.objectStore(Xr).delete(T),yield F.done})).apply(this,arguments)}function Ar({appConfig:b}){return b.appId}const jn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(b,T){return ml.apply(this,arguments)}function ml(){return(ml=(0,O.Z)(function*(b,T){var M;const F=yield ba(b),W=Ie(T),se={method:"POST",headers:F,body:JSON.stringify(W)};let be;try{be=yield(yield fetch(xs(b.appConfig),se)).json()}catch(Be){throw jn.create("token-subscribe-failed",{errorInfo:null===(M=Be)||void 0===M?void 0:M.toString()})}if(be.error)throw jn.create("token-subscribe-failed",{errorInfo:be.error.message});if(!be.token)throw jn.create("token-subscribe-no-token");return be.token})).apply(this,arguments)}function Du(b,T){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(b,T){var M;const F=yield ba(b),W=Ie(T.subscriptionOptions),se={method:"PATCH",headers:F,body:JSON.stringify(W)};let be;try{be=yield(yield fetch(`${xs(b.appConfig)}/${T.token}`,se)).json()}catch(Be){throw jn.create("token-update-failed",{errorInfo:null===(M=Be)||void 0===M?void 0:M.toString()})}if(be.error)throw jn.create("token-update-failed",{errorInfo:be.error.message});if(!be.token)throw jn.create("token-update-no-token");return be.token})).apply(this,arguments)}function Ia(b,T){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,O.Z)(function*(b,T){var M;const W={method:"DELETE",headers:yield ba(b)};try{const be=yield(yield fetch(`${xs(b.appConfig)}/${T}`,W)).json();if(be.error)throw jn.create("token-unsubscribe-failed",{errorInfo:be.error.message})}catch(se){throw jn.create("token-unsubscribe-failed",{errorInfo:null===(M=se)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function xs({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function ba(b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*({appConfig:b,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Ie({p256dh:b,auth:T,endpoint:M,vapidKey:F}){const W={web:{endpoint:M,auth:T,p256dh:b}};return F!==Oo&&(W.web.applicationPubKey=F),W}const Gt=6048e5;function vl(b){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(b){const T=yield Au(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:T.endpoint,auth:is(T.getKey("auth")),p256dh:is(T.getKey("p256dh"))},F=yield Ea(b.firebaseDependencies);if(F){if(Zh(F.subscriptionOptions,M))return Date.now()>=F.createTime+Gt?Tu(b,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Ia(b.firebaseDependencies,F.token)}catch(W){console.warn(W)}return Ca(b.firebaseDependencies,M)}return Ca(b.firebaseDependencies,M)})).apply(this,arguments)}function Hn(b){return Da.apply(this,arguments)}function Da(){return(Da=(0,O.Z)(function*(b){const T=yield Ea(b.firebaseDependencies);T&&(yield Ia(b.firebaseDependencies,T.token),yield jr(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Tu(b,T){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(b,T){try{const M=yield Du(b.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield sn(b.firebaseDependencies,F),M}catch(M){throw yield Hn(b),M}})).apply(this,arguments)}function Ca(b,T){return ko.apply(this,arguments)}function ko(){return(ko=(0,O.Z)(function*(b,T){const F={token:yield Dt(b,T),createTime:Date.now(),subscriptionOptions:T};return yield sn(b,F),F.token})).apply(this,arguments)}function Au(b,T){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(b,T){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pn(T)})})).apply(this,arguments)}function Zh(b,T){return T.vapidKey===b.vapidKey&&T.endpoint===b.endpoint&&T.auth===b.auth&&T.p256dh===b.p256dh}function Js(b){const T={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function $n(b,T){if(!T.notification)return;b.notification={};const M=T.notification.title;M&&(b.notification.title=M);const F=T.notification.body;F&&(b.notification.body=F);const W=T.notification.image;W&&(b.notification.image=W)}(T,b),function fi(b,T){!T.data||(b.data=T.data)}(T,b),function Fo(b,T){var M,F,W,se,be;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;b.fcmOptions={};const Be=null!==(W=null===(F=T.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==W?W:null===(se=T.notification)||void 0===se?void 0:se.click_action;Be&&(b.fcmOptions.link=Be);const pt=null===(be=T.fcmOptions)||void 0===be?void 0:be.analytics_label;pt&&(b.fcmOptions.analyticsLabel=pt)}(T,b),T}function Xs(b){return"object"==typeof b&&!!b&&Po in b}function Hi(b,T){const M=[];for(let F=0;F<b.length;F++)M.push(b.charAt(F)),F<T.length&&M.push(T.charAt(F));return M.join("")}function Su(b){return jn.create("missing-app-config-values",{valueName:b})}Hi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yc{constructor(T,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Kc(b){if(!b||!b.options)throw Su("App Configuration Object");if(!b.name)throw Su("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const F of T)if(!M[F])throw Su(F);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Kh(b){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(b){var T;try{b.swRegistration=yield navigator.serviceWorker.register(Bi,{scope:zh}),b.swRegistration.update().catch(()=>{})}catch(M){throw jn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=M)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function _l(b,T){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(b,T){if(!T&&!b.swRegistration&&(yield Kh(b)),T||!b.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");b.swRegistration=T}})).apply(this,arguments)}function Vo(b,T){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,O.Z)(function*(b,T){T?b.vapidKey=T:b.vapidKey||(b.vapidKey=Oo)})).apply(this,arguments)}function xu(){return(xu=(0,O.Z)(function*(b,T){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield Vo(b,T?.vapidKey),yield _l(b,T?.serviceWorkerRegistration),vl(b)})).apply(this,arguments)}function wl(b,T,M){return El.apply(this,arguments)}function El(){return(El=(0,O.Z)(function*(b,T,M){const F=Il(T);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[Po],message_name:M[pl],message_time:M[Iu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Il(b){switch(b){case Ci.NOTIFICATION_CLICKED:return"notification_open";case Ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ss(){return(ss=(0,O.Z)(function*(b,T){const M=T.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===Ci.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Js(M)):b.onMessageHandler.next(Js(M)));const F=M.data;Xs(F)&&"1"===F[va]&&(yield wl(b,M.messageType,F))})).apply(this,arguments)}const eo="@firebase/messaging",nr=b=>{const T=new Yc(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Qc(b,T){return ss.apply(this,arguments)}(T,M)),T},$i=b=>{const T=b.getProvider("messaging").getImmediate();return{getToken:F=>function xa(b,T){return xu.apply(this,arguments)}(T,F)}};function Ma(){return bl.apply(this,arguments)}function bl(){return(bl=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bn(){(0,ne._registerComponent)(new he.wA("messaging",nr,"PUBLIC")),(0,ne._registerComponent)(new he.wA("messaging-internal",$i,"PRIVATE")),(0,ne.registerVersion)(eo,"0.9.19"),(0,ne.registerVersion)(eo,"0.9.19","esm2017")}();const as="analytics",Tl="firebase_id",Al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xc="https://www.googletagmanager.com/gtag/js",Dn=new ae.Yd("@firebase/analytics");function Ru(b){return Promise.all(b.map(T=>T.catch(M=>M)))}function jo(b,T){const M=document.createElement("script");M.src=`${Xc}?l=${b}&id=${T}`,M.async=!0,document.head.appendChild(M)}function _y(b,T,M,F,W,se){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,O.Z)(function*(b,T,M,F,W,se){const be=F[W];try{if(be)yield T[be];else{const pt=(yield Ru(M)).find(_t=>_t.measurementId===W);pt&&(yield T[pt.appId])}}catch(Be){Dn.error(Be)}b("config",W,se)})).apply(this,arguments)}function Ms(b,T,M,F,W){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,O.Z)(function*(b,T,M,F,W){try{let se=[];if(W&&W.send_to){let be=W.send_to;Array.isArray(be)||(be=[be]);const Be=yield Ru(M);for(const pt of be){const _t=Be.find(ht=>ht.measurementId===pt),Pt=_t&&T[_t.appId];if(!Pt){se=[];break}se.push(Pt)}}0===se.length&&(se=Object.values(T)),yield Promise.all(se),b("event",F,W||{})}catch(se){Dn.error(se)}})).apply(this,arguments)}function td(b){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(Xc)&&M.src.includes(b))return M;return null}const rr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oa=new class id{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function sd(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Xp(b){return od.apply(this,arguments)}function od(){return(od=(0,O.Z)(function*(b){var T;const{appId:M,apiKey:F}=b,W={method:"GET",headers:sd(F)},se=Al.replace("{app-id}",M),be=yield fetch(se,W);if(200!==be.status&&304!==be.status){let Be="";try{const pt=yield be.json();null!==(T=pt.error)&&void 0!==T&&T.message&&(Be=pt.error.message)}catch{}throw rr.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Be})}return be.json()})).apply(this,arguments)}function Yh(b){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(b,T=Oa,M){const{appId:F,apiKey:W,measurementId:se}=b.options;if(!F)throw rr.create("no-app-id");if(!W){if(se)return{measurementId:se,appId:F};throw rr.create("no-api-key")}const be=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Pu;return setTimeout((0,O.Z)(function*(){Be.abort()}),void 0!==M?M:6e4),Qh({appId:F,apiKey:W,measurementId:se},be,Be,T)})).apply(this,arguments)}function Qh(b,T,M){return us.apply(this,arguments)}function us(){return(us=(0,O.Z)(function*(b,{throttleEndTimeMillis:T,backoffCount:M},F,W=Oa){var se,be;const{appId:Be,measurementId:pt}=b;try{yield ls(F,T)}catch(_t){if(pt)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${null===(se=_t)||void 0===se?void 0:se.message}]`),{appId:Be,measurementId:pt};throw _t}try{const _t=yield Xp(b);return W.deleteThrottleMetadata(Be),_t}catch(_t){const Pt=_t;if(!Go(Pt)){if(W.deleteThrottleMetadata(Be),pt)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Be,measurementId:pt};throw _t}const ht=503===Number(null===(be=Pt?.customData)||void 0===be?void 0:be.httpStatus)?(0,oe.$s)(M,W.intervalMillis,30):(0,oe.$s)(M,W.intervalMillis),vn={throttleEndTimeMillis:Date.now()+ht,backoffCount:M+1};return W.setThrottleMetadata(Be,vn),Dn.debug(`Calling attemptFetch again in ${ht} millis`),Qh(b,vn,F,W)}})).apply(this,arguments)}function ls(b,T){return new Promise((M,F)=>{const W=Math.max(T-Date.now(),0),se=setTimeout(M,W);b.addEventListener(()=>{clearTimeout(se),F(rr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Go(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Pu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let no,ld;function Pa(){return(Pa=(0,O.Z)(function*(b,T,M,F,W){if(W&&W.global)b("event",M,F);else{const se=yield T;b("event",M,Object.assign(Object.assign({},F),{send_to:se}))}})).apply(this,arguments)}function cs(b){ld=b}function cd(b){no=b}function _r(){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(){var b;if(!(0,oe.hl)())return Dn.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Dn.warn(rr.create("indexeddb-unavailable",{errorInfo:null===(b=T)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function zi(){return(zi=(0,O.Z)(function*(b,T,M,F,W,se,be){var Be;const pt=Yh(b);pt.then(fr=>{M[fr.measurementId]=fr.appId,b.options.measurementId&&fr.measurementId!==b.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>Dn.error(fr)),T.push(pt);const _t=_r().then(fr=>{if(fr)return F.getId()}),[Pt,ht]=yield Promise.all([pt,_t]);td(se)||jo(se,Pt.measurementId),ld&&(W("consent","default",ld),cs(void 0)),W("js",new Date);const vn=null!==(Be=be?.config)&&void 0!==Be?Be:{};return vn.origin="firebase",vn.update=!0,null!=ht&&(vn[Tl]=ht),W("config",Pt.measurementId,vn),no&&(W("set",no),cd(void 0)),Pt.measurementId})).apply(this,arguments)}class Lu{constructor(T){this.app=T}_delete(){return delete Yt[this.app.options.appId],Promise.resolve()}}let Yt={},zo=[];const Os={};let qo,ro,Ua="dataLayer",Sl=!1;function eg(b,T,M){!function xl(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const T=b.map((F,W)=>`(${W+1}) ${F}`).join(" "),M=rr.create("invalid-analytics-context",{errorInfo:T});Dn.warn(M.message)}}();const F=b.options.appId;if(!F)throw rr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw rr.create("no-api-key");Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yt[F])throw rr.create("already-exists",{id:F});if(!Sl){!function ed(b){let T=[];Array.isArray(window[b])?T=window[b]:window[b]=T}(Ua);const{wrappedGtag:se,gtagCore:be}=function Ho(b,T,M,F,W){let se=function(...be){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(se=window[W]),window[W]=function Ns(b,T,M,F){function se(){return(se=(0,O.Z)(function*(be,Be,pt){try{"event"===be?yield Ms(b,T,M,Be,pt):"config"===be?yield _y(b,T,M,F,Be,pt):"consent"===be?b("consent","update",pt):b("set",Be)}catch(_t){Dn.error(_t)}})).apply(this,arguments)}return function W(be,Be,pt){return se.apply(this,arguments)}}(se,b,T,M),{gtagCore:se,wrappedGtag:window[W]}}(Yt,zo,Os,Ua,"gtag");ro=se,qo=be,Sl=!0}return Yt[F]=function Xh(b,T,M,F,W,se,be){return zi.apply(this,arguments)}(b,zo,Os,T,qo,Ua,M),new Lu(b)}function wy(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const at="@firebase/analytics";!function cn(){(0,ne._registerComponent)(new he.wA(as,(T,{options:M})=>eg(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ne._registerComponent)(new he.wA("analytics-internal",function b(T){try{const M=T.getProvider(as).getImmediate();return{logEvent:(F,W,se)=>function Ps(b,T,M,F){b=(0,oe.m9)(b),function ad(b,T,M,F,W){return Pa.apply(this,arguments)}(ro,Yt[b.app.options.appId],T,M,F).catch(W=>Dn.error(W))}(M,F,W,se)}}catch(M){throw rr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ne.registerVersion)(at,"0.8.3"),(0,ne.registerVersion)(at,"0.8.3","esm2017")}();var Si=k(4408),qn=k(7565);const Gr=new class Wn extends qn.v{}(class ds extends Si.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(T,M,F):T.flush(this)}});var fd=k(4986),tf=k(8505),xi=k(9468),nf=k(5363);const ei=new f.GfV("7.4.1"),Ha="__angularfire_symbol__analyticsIsSupportedValue",qi="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",$a="__angularfire_symbol__remoteConfigIsSupported",Wo="__angularfire_symbol__messagingIsSupportedValue",Wi="__angularfire_symbol__messagingIsSupported";function Vu(b,T,M){if(T){if(1===T.length)return T[0];const se=T.filter(be=>be.app===M);if(1===se.length)return se[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[qi]||(globalThis[qi]=wy().then(b=>globalThis[Ha]=b).catch(()=>globalThis[Ha]=!1)),globalThis[Wi]||(globalThis[Wi]=Ma().then(b=>globalThis[Wo]=b).catch(()=>globalThis[Wo]=!1)),globalThis[$a]||(globalThis[$a]=$c().then(b=>globalThis[pd]=b).catch(()=>globalThis[pd]=!1));const io=(b,T)=>{const M=T?[T]:(0,Q.C6)(),F=[];return M.forEach(W=>{W.container.getProvider(b).instances.forEach(be=>{F.includes(be)||F.push(be)})}),F};function Ga(){}class pi{constructor(T,M=Gr){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,F){const W=this.zone;return this.delegate.schedule(function(be){W.runGuarded(()=>{T.apply(this,[be])})},M,F)}}class Nn{constructor(T){this.zone=T,this.task=null}call(T,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),M.pipe((0,tf.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ks=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new pi(Zone.current)),this.insideAngular=M.run(()=>new pi(Zone.current,fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(f.LFG(f.R0b))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function hs(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Zi(b){return hs(),function Ko(b){return function(M){return(M=M.lift(new Nn(b.ngZone))).pipe((0,xi.R)(b.outsideAngular),(0,nf.Q)(b.insideAngular))}}(hs())(b)}},2090:(lt,we,k)=>{k.d(we,{$s:()=>Ke,BH:()=>et,G6:()=>Te,L:()=>ce,LL:()=>Sn,Pz:()=>Rn,Sg:()=>wt,UG:()=>me,US:()=>he,ZB:()=>G,ZR:()=>Wt,aH:()=>Ut,b$:()=>re,eu:()=>Ze,hl:()=>Qe,jU:()=>Xe,m9:()=>Ht,ne:()=>Vn,pd:()=>Ui,r3:()=>Tr,ru:()=>ge,tV:()=>le,uI:()=>Se,vZ:()=>He,w1:()=>We,xO:()=>er,xb:()=>Me,z$:()=>Ve,zI:()=>de,zd:()=>Vi});const ne=function(j){const V=[];let q=0;for(let ve=0;ve<j.length;ve++){let K=j.charCodeAt(ve);K<128?V[q++]=K:K<2048?(V[q++]=K>>6|192,V[q++]=63&K|128):55296==(64512&K)&&ve+1<j.length&&56320==(64512&j.charCodeAt(ve+1))?(K=65536+((1023&K)<<10)+(1023&j.charCodeAt(++ve)),V[q++]=K>>18|240,V[q++]=K>>12&63|128,V[q++]=K>>6&63|128,V[q++]=63&K|128):(V[q++]=K>>12|224,V[q++]=K>>6&63|128,V[q++]=63&K|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let K=0;K<j.length;K+=3){const $e=j[K],dt=K+1<j.length,qt=dt?j[K+1]:0,un=K+2<j.length,rn=un?j[K+2]:0;let $t=(15&qt)<<2|rn>>6,cr=63&rn;un||(cr=64,dt||($t=64)),ve.push(q[$e>>2],q[(3&$e)<<4|qt>>4],q[$t],q[cr])}return ve.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(ne(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,ve=0;for(;q<j.length;){const K=j[q++];if(K<128)V[ve++]=String.fromCharCode(K);else if(K>191&&K<224){const $e=j[q++];V[ve++]=String.fromCharCode((31&K)<<6|63&$e)}else if(K>239&&K<365){const un=((7&K)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[ve++]=String.fromCharCode(55296+(un>>10)),V[ve++]=String.fromCharCode(56320+(1023&un))}else{const $e=j[q++],dt=j[q++];V[ve++]=String.fromCharCode((15&K)<<12|(63&$e)<<6|63&dt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let K=0;K<j.length;){const $e=q[j.charAt(K++)],qt=K<j.length?q[j.charAt(K)]:0;++K;const rn=K<j.length?q[j.charAt(K)]:64;++K;const je=K<j.length?q[j.charAt(K)]:64;if(++K,null==$e||null==qt||null==rn||null==je)throw Error();ve.push($e<<2|qt>>4),64!==rn&&(ve.push(qt<<4&240|rn>>2),64!==je&&ve.push(rn<<6&192|je))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const V=ne(j);return he.encodeByteArray(V,!0)}(j).replace(/\./g,"")},le=function(j){try{return he.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function G(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!Z(q)||(j[q]=G(j[q],V[q]));return j}function Z(j){return"__proto__"!==j}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function ge(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Te(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){return"object"==typeof indexedDB}function Ze(){return new Promise((j,V)=>{try{let q=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ve);K.onsuccess=()=>{K.result.close(),q||self.indexedDB.deleteDatabase(ve),j(!0)},K.onupgradeneeded=()=>{q=!1},K.onerror=()=>{var $e;V((null===($e=K.error)||void 0===$e?void 0:$e.message)||"")}}catch(q){V(q)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pe=()=>{try{return function B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=j&&le(j[1]);return V&&JSON.parse(V)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Ut=()=>{var j;return null===(j=pe())||void 0===j?void 0:j.config},Rn=j=>{var V;return null===(V=pe())||void 0===V?void 0:V[`_${j}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,ve)=>{q?this.reject(q):this.resolve(ve),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,ve))}}}function wt(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=V||"demo-project",K=j.iat||0,$e=j.sub||j.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:K,exp:K+3600,auth_time:K,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(dt)),""].join(".")}class Wt extends Error{constructor(V,q,ve){super(q),this.code=V,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}}class Sn{constructor(V,q,ve){this.service=V,this.serviceName=q,this.errors=ve}create(V,...q){const ve=q[0]||{},K=`${this.service}/${V}`,$e=this.errors[V],dt=$e?function on(j,V){return j.replace(hi,(q,ve)=>{const K=V[ve];return null!=K?String(K):`<${ve}?>`})}($e,ve):"Error";return new Wt(K,`${this.serviceName}: ${dt} (${K}).`,ve)}}const hi=/\{\$([^}]+)}/g;function Tr(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function Me(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function He(j,V){if(j===V)return!0;const q=Object.keys(j),ve=Object.keys(V);for(const K of q){if(!ve.includes(K))return!1;const $e=j[K],dt=V[K];if(mr($e)&&mr(dt)){if(!He($e,dt))return!1}else if($e!==dt)return!1}for(const K of ve)if(!q.includes(K))return!1;return!0}function mr(j){return null!==j&&"object"==typeof j}function er(j){const V=[];for(const[q,ve]of Object.entries(j))Array.isArray(ve)?ve.forEach(K=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(K))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(ve));return V.length?"&"+V.join("&"):""}function Vi(j){const V={};return j.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[K,$e]=ve.split("=");V[decodeURIComponent(K)]=decodeURIComponent($e)}}),V}function Ui(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function Vn(j,V){const q=new En(j,V);return q.subscribe.bind(q)}class En{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(ve=>{this.error(ve)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,ve){let K;if(void 0===V&&void 0===q&&void 0===ve)throw new Error("Missing Observer.");K=function ot(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:ve},void 0===K.next&&(K.next=Kt),void 0===K.error&&(K.error=Kt),void 0===K.complete&&(K.complete=Kt);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),$e}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function Ke(j,V=1e3,q=2){const ve=V*Math.pow(q,j),K=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+K)}function Ht(j){return j&&j._delegate?j._delegate:j}},8471:(lt,we,k)=>{var f=k(4650);let Q=null;function O(){return Q}const ae=new f.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function le(){return(0,f.LFG)(G)}()},providedIn:"platform"}),n})();const H=new f.OlP("Location Initialized");let G=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Z()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Z()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ve(){return new G((0,f.LFG)(ae))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Le)},providedIn:"root"}),n})();const re=new f.OlP("appBaseHref");let Le=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Xe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Xe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(re,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),We=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Xe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Xe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ce),f.LFG(re,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=me(Qe(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Se,n.stripTrailingSlash=me,n.\u0275fac=function(t){return new(t||n)(f.LFG(ge))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ye(){return new Ue((0,f.LFG)(ge))}()},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}function yu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let Jt=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class rs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mo=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new rs(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),No(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{No(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function No(n,e){n.context.$implicit=e.item}let Un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Hh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Hh{constructor(){this.$implicit=null,this.ngIf=null}}function hr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}class Yp{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class ma{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Gh=new ma,Lc=new Yp;let hl=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return Gh;if((0,f.F4k)(t))return Lc;throw function Di(n,e){return new f.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function wa(n){return"server"===n}let Wh=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Jp((0,f.LFG)(ae),window)}),n})();class Jp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Bn(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xr(this.window.history)||Xr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ea{}class ss extends class Qc extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){Q||(Q=n)}(new ss)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mu(){return eo=eo||document.querySelector("base"),eo?eo.getAttribute("href"):null}();return null==t?null:function $i(n){nr=nr||document.createElement("a"),nr.setAttribute("href",n);const e=nr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yu(document.cookie,e)}}let nr,eo=null;const bn=new f.OlP("TRANSITION_ID"),bl=[{provide:f.ip1,useFactory:function Ma(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[bn,ae,f.zs3],multi:!0}];let Na=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=new f.OlP("EventManagerPlugins");let Dl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Nu),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let to=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n extends to{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Cl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Cl))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Cl(n){O().remove(n)}const as={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tl=/%COMP%/g;function jo(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?jo(n,o,t):(o=o.replace(Tl,n),t.push(o))}return t}function ed(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ra=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new td(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new nd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=jo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Dl),f.LFG(os),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ms{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(as[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ho(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ho(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=as[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=as[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ed(r)):this.eventManager.addEventListener(e,t,ed(r))}}function Ho(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class td extends Ms{constructor(e,t,r,o){super(e),this.component=r;const u=jo(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Dn(n){return"_ngcontent-%COMP%".replace(Tl,n)}(o+"-"+r.id),this.hostAttr=function Ru(n){return"_nghost-%COMP%".replace(Tl,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nd extends Ms{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=jo(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rr=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const rd=["alt","control","meta","shift"],$o={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},id={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oa=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),rd.forEach(D=>{const x=r.indexOf(D);x>-1&&(r.splice(x,1),d+=D+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let o=$o[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),rd.forEach(d=>{d!==o&&(0,id[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Qh(){ss.makeCurrent()},multi:!0},{provide:ae,useFactory:function ls(){return(0,f.RDi)(document),document},deps:[]}]),no=new f.OlP(""),ad=[{provide:f.rWj,useClass:class Jc{addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Pa=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function us(){return new f.qLn},deps:[]},{provide:Nu,useClass:rr,multi:!0,deps:[ae,f.R0b,f.Lbi]},{provide:Nu,useClass:Oa,multi:!0,deps:[ae]},{provide:Ra,useClass:Ra,deps:[Dl,os,f.AFp]},{provide:f.FYo,useExisting:Ra},{provide:to,useExisting:os},{provide:os,useClass:os,deps:[ae]},{provide:Dl,useClass:Dl,deps:[Nu,f.R0b]},{provide:Ea,useClass:Na,deps:[]},[]];let ku=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:bn,useExisting:f.AFp},bl]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(no,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...Pa,...ad],imports:[ji,f.hGG]}),n})(),Rs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function La(){return new Rs((0,f.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Ps=k(7669),ln=k(8996);function at(...n){const e=(0,Ps.yG)(n);return(0,ln.D)(n,e)}var wr=k(9751),cn=k(5577),Si=k(576);function ds(n,e){return(0,Si.m)(e)?(0,cn.z)(n,e,1):(0,cn.z)(n,1)}var qn=k(4482),Wn=k(5403);function Gr(n,e){return(0,qn.e)((t,r)=>{let o=0;t.subscribe(new Wn.Q(r,u=>n.call(e,u,o++)&&r.next(u)))})}var mt=k(4004);class fd{}class tf{}class xi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ei{encodeKey(e){return $a(e)}encodeValue(e){return $a(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qi=/%(\d[a-f0-9])/gi,pd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $a(n){return encodeURIComponent(n).replace(qi,(e,t)=>pd[t]??e)}function Wo(n){return`${n}`}class Wi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ei,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ha(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],w=t.get(d)||[];w.push(m),t.set(d,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Wo):[Wo(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Wo(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Wo(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rf{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sf(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Vu(n){return typeof Blob<"u"&&n instanceof Blob}function io(n){return typeof FormData<"u"&&n instanceof FormData}class pi{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function tg(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new xi),this.context||(this.context=new rf),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Wi,this.urlWithParams=t}serializeBody(){return null===this.body?null:sf(this.body)||Vu(this.body)||io(this.body)||function Ga(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||io(this.body)?null:Vu(this.body)?this.body.type||null:sf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,D=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((R,U)=>R.set(U,e.setHeaders[U]),w)),e.setParams&&(D=Object.keys(e.setParams).reduce((R,U)=>R.set(U,e.setParams[U]),D)),new pi(t,r,u,{params:D,headers:w,context:x,reportProgress:m,responseType:o,withCredentials:d})}}var Nn=(()=>((Nn=Nn||{})[Nn.Sent=0]="Sent",Nn[Nn.UploadProgress=1]="UploadProgress",Nn[Nn.ResponseHeader=2]="ResponseHeader",Nn[Nn.DownloadProgress=3]="DownloadProgress",Nn[Nn.Response=4]="Response",Nn[Nn.User=5]="User",Nn))();class ks{constructor(e,t=200,r="OK"){this.headers=e.headers||new xi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hs extends ks{constructor(e={}){super(e),this.type=Nn.ResponseHeader}clone(e={}){return new hs({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zo extends ks{constructor(e={}){super(e),this.type=Nn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Mi extends ks{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function za(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qa=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof pi)u=t;else{let w,D;w=o.headers instanceof xi?o.headers:new xi(o.headers),o.params&&(D=o.params instanceof Wi?o.params:new Wi({fromObject:o.params})),u=new pi(t,r,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=at(u).pipe(ds(w=>this.handler.handle(w)));if(t instanceof pi||"events"===o.observe)return d;const m=d.pipe(Gr(w=>w instanceof Zo));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe((0,mt.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Wi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,za(o,r))}post(t,r,o={}){return this.request("POST",t,za(o,r))}put(t,r,o={}){return this.request("PUT",t,za(o,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fd))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Zi{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Ko=new f.OlP("HTTP_INTERCEPTORS");let dn=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const pt=/^\)\]\}',?\n/;let Pt=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new wr.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((z,X)=>o.setRequestHeader(z,X.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&o.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();o.responseType="json"!==z?z:"text"}const u=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const z=o.statusText||"OK",X=new xi(o.getAllResponseHeaders()),xe=function _t(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new hs({headers:X,status:o.status,statusText:z,url:xe}),d},w=()=>{let{headers:z,status:X,statusText:xe,url:Re}=m(),ut=null;204!==X&&(ut=typeof o.response>"u"?o.responseText:o.response),0===X&&(X=ut?200:0);let At=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof ut){const Nt=ut;ut=ut.replace(pt,"");try{ut=""!==ut?JSON.parse(ut):null}catch(Rt){ut=Nt,At&&(At=!1,ut={error:Rt,text:ut})}}At?(r.next(new Zo({body:ut,headers:z,status:X,statusText:xe,url:Re||void 0})),r.complete()):r.error(new Mi({error:ut,headers:z,status:X,statusText:xe,url:Re||void 0}))},D=z=>{const{url:X}=m(),xe=new Mi({error:z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:X||void 0});r.error(xe)};let x=!1;const R=z=>{x||(r.next(m()),x=!0);let X={type:Nn.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(X.total=z.total),"text"===t.responseType&&!!o.responseText&&(X.partialText=o.responseText),r.next(X)},U=z=>{let X={type:Nn.UploadProgress,loaded:z.loaded};z.lengthComputable&&(X.total=z.total),r.next(X)};return o.addEventListener("load",w),o.addEventListener("error",D),o.addEventListener("timeout",D),o.addEventListener("abort",D),t.reportProgress&&(o.addEventListener("progress",R),null!==u&&o.upload&&o.upload.addEventListener("progress",U)),o.send(u),r.next({type:Nn.Sent}),()=>{o.removeEventListener("error",D),o.removeEventListener("abort",D),o.removeEventListener("load",w),o.removeEventListener("timeout",D),t.reportProgress&&(o.removeEventListener("progress",R),null!==u&&o.upload&&o.upload.removeEventListener("progress",U)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ea))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ht=new f.OlP("XSRF_COOKIE_NAME"),vn=new f.OlP("XSRF_HEADER_NAME");class fr{}let fs=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ae),f.LFG(f.Lbi),f.LFG(ht))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),so=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fr),f.LFG(vn))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Yo=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Ko,[]);this.chain=r.reduceRight((o,u)=>new Zi(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(tf),f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ao=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:so,useClass:dn}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ht,useValue:t.cookieName}:[],t.headerName?{provide:vn,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[so,{provide:Ko,useExisting:so,multi:!0},{provide:fr,useClass:fs},{provide:ht,useValue:"XSRF-TOKEN"},{provide:vn,useValue:"X-XSRF-TOKEN"}]}),n})(),Qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[qa,{provide:fd,useClass:Yo},Pt,{provide:tf,useExisting:Pt}],imports:[ao.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var uo=k(7579);class ps extends uo.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Uu=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:vd}=Array,{getPrototypeOf:ng,prototype:af,keys:rg}=Object;function by(n){if(1===n.length){const e=n[0];if(vd(e))return{args:e,keys:null};if(function _d(n){return n&&"object"==typeof n&&ng(n)===af}(e)){const t=rg(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var wd=k(4671);const{isArray:Nl}=Array;function Rl(n){return(0,mt.U)(e=>function Ed(n,e){return Nl(e)?n(...e):n(e)}(n,e))}function Bu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Ol=k(9672);function Wa(...n){const e=(0,Ps.yG)(n),t=(0,Ps.jO)(n),{args:r,keys:o}=by(n);if(0===r.length)return(0,ln.D)([],e);const u=new wr.y(function ig(n,e,t=wd.y){return r=>{uf(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)uf(e,()=>{const D=(0,ln.D)(n[w],e);let x=!1;D.subscribe(new Wn.Q(r,R=>{u[w]=R,x||(x=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Bu(o,d):wd.y));return t?u.pipe(Rl(t)):u}function uf(n,e,t){n?(0,Ol.f)(t,n,e):e()}var Pl=k(8189);function ju(...n){return function Id(){return(0,Pl.J)(1)}()((0,ln.D)(n,(0,Ps.yG)(n)))}var Za=k(8421);function lf(n){return new wr.y(e=>{(0,Za.Xf)(n()).subscribe(e)})}var sg=k(9635);function Hu(n,e){const t=(0,Si.m)(n)?n:()=>n,r=o=>o.error(t());return new wr.y(e?o=>e.schedule(r,0,o):r)}var Jo=k(515),og=k(727);function cf(){return(0,qn.e)((n,e)=>{let t=null;n._refCount++;const r=new Wn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class df extends wr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new og.w0;const t=this.getSubject();e.add(this.source.subscribe(new Wn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=og.w0.EMPTY)}return e}refCount(){return cf()(this)}}function Er(n,e){return(0,qn.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe(new Wn.Q(r,w=>{o?.unsubscribe();let D=0;const x=u++;(0,Za.Xf)(n(w,x)).subscribe(o=new Wn.Q(r,R=>r.next(e?e(w,R,x,D++):R),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var ti=k(5698);function Xo(...n){const e=(0,Ps.yG)(n);return(0,qn.e)((t,r)=>{(e?ju(n,t,e):ju(n,t)).subscribe(r)})}function bd(n){return(0,qn.e)((e,t)=>{let r=!1;e.subscribe(new Wn.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Dy(n=tw){return(0,qn.e)((e,t)=>{let r=!1;e.subscribe(new Wn.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function tw(){return new Uu}function ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gr((o,u)=>n(o,u,r)):wd.y,(0,ti.q)(1),t?bd(e):Dy(()=>new Uu))}var ni=k(8505);function Ka(n){return(0,qn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe(new Wn.Q(t,void 0,void 0,d=>{u=(0,Za.Xf)(n(d,Ka(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ag(n,e,t,r,o){return(u,d)=>{let m=t,w=e,D=0;u.subscribe(new Wn.Q(d,x=>{const R=D++;w=m?n(w,x,R):(m=!0,x),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}function Ya(n,e){return(0,qn.e)(ag(n,e,arguments.length>=2,!0))}function hf(n){return n<=0?()=>Jo.E:(0,qn.e)((e,t)=>{let r=[];e.subscribe(new Wn.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ug(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gr((o,u)=>n(o,u,r)):wd.y,hf(1),t?bd(e):Dy(()=>new Uu))}function gs(n){return(0,qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const St="primary",$u=Symbol("RouteTitle");class lg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qa(n){return new lg(n)}function nw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function lo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Gu(n[o],e[o]))return!1;return!0}function Gu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Dd(n){return Array.prototype.concat.apply([],n)}function dg(n){return n.length>0?n[n.length-1]:null}function sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ta(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,ln.D)(Promise.resolve(n)):at(n)}const Ty={exact:function Td(n,e,t){if(!ho(n.segments,e.segments)||!Vs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Td(n.children[r],e.children[r],t))return!1;return!0},subset:Zn},pf={exact:function Ay(n,e){return lo(n,e)},subset:function fg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gu(n[t],e[t]))},ignored:()=>!0};function kl(n,e,t){return Ty[t.paths](n.root,e.root,t.matrixParams)&&pf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Zn(n,e,t){return Sy(n,e,e.segments,t)}function Sy(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ho(o,t)||e.hasChildren()||!Vs(o,t,r))}if(n.segments.length===t.length){if(!ho(n.segments,t)||!Vs(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Zn(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(ho(n.segments,o)&&Vs(n.segments,o,r)&&n.children[St])&&Sy(n.children[St],e,u,r)}}function Vs(n,e,t){return e.every((r,o)=>pf[t](n[o].parameters,r.parameters))}class co{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return rw.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return na(this)}}class Ja{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qa(this.parameters)),this._parameterMap}toString(){return zu(this)}}function ho(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let pg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Ad},providedIn:"root"}),n})();class Ad{parse(e){const t=new Md(e);return new co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fo(e.root,!0)}`,r=function Ny(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Fl(t)}=${Fl(o)}`).join("&"):`${Fl(t)}=${Fl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gg(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rw=new Ad;function na(n){return n.segments.map(e=>zu(e)).join("/")}function fo(n,e){if(!n.hasChildren())return na(n);if(e){const t=n.children[St]?fo(n.children[St],!1):"",r=[];return sr(n.children,(o,u)=>{u!==St&&r.push(`${u}:${fo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function My(n,e){let t=[];return sr(n.children,(r,o)=>{o===St&&(t=t.concat(e(r,o)))}),sr(n.children,(r,o)=>{o!==St&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===St?[fo(n.children[St],!1)]:[`${o}:${fo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${na(n)}/${t[0]}`:`${na(n)}/(${t.join("//")})`}}function gf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fl(n){return gf(n).replace(/%3B/gi,";")}function mf(n){return gf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ll(n){return decodeURIComponent(n)}function Sd(n){return Ll(n.replace(/\+/g,"%20"))}function zu(n){return`${mf(n.path)}${function iw(n){return Object.keys(n).map(e=>`;${mf(e)}=${mf(n[e])}`).join("")}(n.parameters)}`}const Vl=/^[^\/()?;=#]+/;function Xa(n){const e=n.match(Vl);return e?e[0]:""}const mg=/^[^=?&#]+/,xd=/^[^&#]+/;class Md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[St]=new Bt(e,t)),r}parseSegment(){const e=Xa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new Ja(Ll(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xa(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Xa(this.remaining);o&&(r=o,this.capture(r))}e[Ll(t)]=Ll(r)}parseQueryParam(e){const t=function eu(n){const e=n.match(mg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function yf(n){const e=n.match(xd);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Sd(t),u=Sd(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xa(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new f.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=St);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[St]:new Bt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function vf(n){return n.segments.length>0?new Bt([],{[St]:n}):n}function tu(n){const e={};for(const r of Object.keys(n.children)){const u=tu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Nd(n){if(1===n.numberOfChildren&&n.children[St]){const e=n.children[St];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}function Ni(n){return n instanceof co}function _f(n,e,t,r,o){if(0===t.length)return qu(e.root,e.root,e.root,r,o);const u=function Wu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wf(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return sr(u.outlets,(w,D)=>{m[D]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new wf(t,e,r)}(t);return u.toRoot()?qu(e.root,e.root,new Bt([],{}),r,o):function d(w){const D=function Oy(n,e,t,r){if(n.isAbsolute)return new ra(e.root,!0,0);if(-1===r)return new ra(t,t===e.root,0);return function jl(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new f.vHH(4005,!1);o=r.segments.length}return new ra(r,!1,o-u)}(t,r+(Us(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),x=D.processChildren?Ri(D.segmentGroup,D.index,u.commands):ri(D.segmentGroup,D.index,u.commands);return qu(e.root,D.segmentGroup,x,r,o)}(n.snapshot?._lastPathIndex)}function Us(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bl(n){return"object"==typeof n&&null!=n&&n.outlets}function qu(n,e,t,r,o){let d,u={};r&&sr(r,(w,D)=>{u[D]=Array.isArray(w)?w.map(x=>`${x}`):`${w}`}),d=n===e?t:vg(n,e,t);const m=vf(tu(d));return new co(m,u,o)}function vg(n,e,t){const r={};return sr(n.children,(o,u)=>{r[u]=o===e?t:vg(o,e,t)}),new Bt(n.segments,r)}class wf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Us(r[0]))throw new f.vHH(4003,!1);const o=r.find(Bl);if(o&&o!==dg(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ra{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ri(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Ri(n,e,t);const r=function _g(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(Bl(m))break;const w=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Py(w,D,d))return u;r+=2}else{if(!Py(w,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Bt(n.segments.slice(0,r.pathIndex),{});return u.children[St]=new Bt(n.segments.slice(r.pathIndex),n.children),Ri(u,0,o)}return r.match&&0===o.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?ia(n,e,t):r.match?Ri(n,0,o):ia(n,e,t)}function Ri(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function sw(n){return Bl(n[0])?n[0].outlets:{[St]:n}}(t),o={};return sr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=ri(n.children[d],e,u))}),sr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Bt(n.segments,o)}}function ia(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Bl(u)){const w=nu(u.outlets);return new Bt(r,w)}if(0===o&&Us(t[0])){r.push(new Ja(n.segments[e].path,Od(t[0]))),o++;continue}const d=Bl(u)?u.outlets[St]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Us(m)?(r.push(new Ja(d,Od(m))),o+=2):(r.push(new Ja(d,{})),o++)}return new Bt(r,{})}function nu(n){const e={};return sr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ia(new Bt([],{}),0,t))}),e}function Od(n){const e={};return sr(n,(t,r)=>e[r]=`${t}`),e}function Py(n,e,t){return n==t.path&&lo(e,t.parameters)}class ms{constructor(e,t){this.id=e,this.url=t}}class If extends ms{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gi extends ms{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hl extends ms{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bf extends ms{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wg extends ms{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Df extends ms{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eg extends ms{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mi extends ms{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l extends ms{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ig{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ow{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ys{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fy{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ly{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Dg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Gl(e,this._root).map(t=>t.value)}}function kd(n,e){if(n===e.value)return e;for(const t of e.children){const r=kd(n,t);if(r)return r}return null}function Gl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gl(n,t);if(r.length)return r.unshift(e),r}return[]}class Bs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function y(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class h extends Dg{constructor(e,t){super(e),this.snapshot=t,De(this,e)}toString(){return this.snapshot.toString()}}function p(n,e){const t=function _(n,e){const d=new J([],{},{},"",{},St,e,null,n.root,-1,{});return new Ne("",new Bs(d,[]))}(n,e),r=new ps([new Ja("",{})]),o=new ps({}),u=new ps({}),d=new ps({}),m=new ps(""),w=new C(r,o,d,m,u,St,e,t.root);return w.snapshot=t.root,new h(new Bs(w,[]),t)}class C{constructor(e,t,r,o,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,mt.U)(D=>D[$u]))??at(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>Qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>Qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function L(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class J{constructor(e,t,r,o,u,d,m,w,D,x,R,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.[$u],this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=x,this._correctedLastPathIndex=U??x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ne extends Dg{constructor(e,t){super(t),this.url=e,De(this,t)}toString(){return tt(this._root)}}function De(n,e){e.value._routerState=n,e.children.forEach(t=>De(n,t))}function tt(n){const e=n.children.length>0?` { ${n.children.map(tt).join(", ")} } `:"";return`${n.value}${e}`}function it(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,lo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),lo(e.params,t.params)||n.params.next(t.params),function cg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!lo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),lo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jt(n,e){const t=lo(n.params,e.params)&&function xy(n,e){return ho(n,e)&&n.every((t,r)=>lo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jt(n.parent,e.parent))}function yi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Fd(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return yi(n,r,o);return yi(n,r)})}(n,e,t);return new Bs(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>yi(n,m)),d}}const r=function Cf(n){return new C(new ps(n.url),new ps(n.params),new ps(n.queryParams),new ps(n.fragment),new ps(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>yi(n,u));return new Bs(r,o)}}const Ld="ngNavigationCancelingError";function Vd(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Ud(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Ud(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ld]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Tf(n){return Sr(n)&&Ni(n.url)}function Sr(n){return n&&n[Ld]}class zl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ru,this.attachRef=null}}let ru=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zl,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zu=!1;let or=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=o||St,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Zu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Zu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Zu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,Zu);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new ql(t,m,o.injector);if(r&&function aw(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(d);this.activated=o.createComponent(D,o.length,w)}else this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ru),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class ql{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===C?this.route:e===ru?this.childContexts:this.parent.get(e,t)}}let Vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[or],encapsulation:2}),n})();function uw(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Uy(n){const e=n.children&&n.children.map(Uy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==St&&(t.component=Vy),t}function js(n){return n.outlet||St}function Wl(n,e){const t=n.filter(r=>js(r)===e);return t.push(...n.filter(r=>js(r)!==e)),t}function vs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Gb{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),it(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=y(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),sr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=y(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=y(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=y(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Fy(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Pd(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(it(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),it(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=vs(o.snapshot),w=m?.get(f._Vd)??null;d.attachRef=null,d.route=o,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class zb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class By{constructor(e,t){this.component=e,this.route=t}}function lw(n,e,t){const r=n._root;return Zl(r,e?e._root:null,t,[r.value])}function Oi(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Zl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=y(e);return n.children.forEach(d=>{(function jy(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function qb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(n.url,e.url)||!lo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jt(n,e)||!lo(n.queryParams,e.queryParams);default:return!jt(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new zb(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Zl(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new By(m.outlet.component,d))}else d&&Bd(e,m,o),o.canActivateChecks.push(new zb(r)),Zl(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),sr(u,(d,m)=>Bd(d,t.getContext(m),o)),o}function Bd(n,e,t){const r=y(n),o=n.value;sr(r,(u,d)=>{Bd(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new By(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Af(n){return"function"==typeof n}function xf(n){return n instanceof Uu||"EmptyError"===n?.name}const Mf=Symbol("INITIAL_VALUE");function Hd(){return Er(n=>Wa(n.map(e=>e.pipe((0,ti.q)(1),Xo(Mf)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===Mf)return Mf;if(!1===t||t instanceof co)return t}return!0}),Gr(e=>e!==Mf),(0,ti.q)(1)))}function qy(n){return(0,sg.z)((0,ni.b)(e=>{if(Ni(e))throw Vd(0,e)}),(0,mt.U)(e=>!0===e))}const Zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hw(n,e,t,r,o){const u=Tg(n,e,t);return u.matched?function Wy(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?at(o.map(d=>{const m=Oi(d,n);return ta(function cw(n){return n&&Af(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Hd(),qy()):at(!0)}(r=uw(e,r),e,t).pipe((0,mt.U)(d=>!0===d?u:{...Zy})):at(u)}function Tg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Zy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||nw)(t,n,e);if(!o)return{...Zy};const u={};sr(o.posParams,(m,w)=>{u[w]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Nf(n,e,t,r,o="corrected"){if(t.length>0&&function pw(n,e,t){return t.some(r=>Ky(n,e,r)&&js(r)!==St)}(n,t,r)){const d=new Bt(e,function fw(n,e,t,r){const o={};o[St]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&js(u)!==St){const d=new Bt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[js(u)]=d}return o}(n,e,r,new Bt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function tD(n,e,t){return t.some(r=>Ky(n,e,r))}(n,t,r)){const d=new Bt(n.segments,function Kl(n,e,t,r,o,u){const d={};for(const m of r)if(Ky(n,t,m)&&!o[js(m)]){const w=new Bt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[js(m)]=w}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Bt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ky(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rf(n,e,t,r){return!!(js(n)===r||r!==St&&Ky(e,t,n))&&("**"===n.path||Tg(e,n,t).matched)}function gw(n,e,t){return 0===e.length&&!n.children[t]}const Of=!1;class Pf{constructor(e){this.segmentGroup=e||null}}class Yy{constructor(e){this.urlTree=e}}function Yl(n){return Hu(new Pf(n))}function Qy(n){return Hu(new Yy(n))}class Jy{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Nf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,St).pipe((0,mt.U)(u=>this.createUrlTree(tu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ka(u=>{if(u instanceof Yy)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Pf?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,St).pipe((0,mt.U)(o=>this.createUrlTree(tu(o),e.queryParams,e.fragment))).pipe(Ka(o=>{throw o instanceof Pf?this.noMatchError(o):o}))}noMatchError(e){return new f.vHH(4002,Of)}createUrlTree(e,t,r){const o=vf(e);return new co(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(u=>new Bt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,ln.D)(o).pipe(ds(u=>{const d=r.children[u],m=Wl(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,mt.U)(w=>({segment:w,outlet:u})))}),Ya((u,d)=>(u[d.outlet]=d.segment,u),{}),ug())}expandSegment(e,t,r,o,u,d){return(0,ln.D)(r).pipe(ds(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(Ka(D=>{if(D instanceof Pf)return at(null);throw D}))),ea(m=>!!m),Ka((m,w)=>{if(xf(m))return gw(t,o,u)?at(new Bt([],{})):Yl(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return Rf(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Yl(t):Yl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Qy(u):this.lineralizeSegments(r,u).pipe((0,cn.z)(d=>{const m=new Bt(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:w,remainingSegments:D,positionalParamSegments:x}=Tg(t,o,u);if(!m)return Yl(t);const R=this.applyRedirectCommands(w,o.redirectTo,x);return o.redirectTo.startsWith("/")?Qy(R):this.lineralizeSegments(o,R).pipe((0,cn.z)(U=>this.expandSegment(e,t,r,U.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=uw(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Bt(o,{})))):at(new Bt(o,{}))):hw(t,r,o,e).pipe(Er(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,cn.z)(x=>{const R=x.injector??e,U=x.routes,{segmentGroup:z,slicedSegments:X}=Nf(t,m,w,U),xe=new Bt(z.segments,z.children);if(0===X.length&&xe.hasChildren())return this.expandChildren(R,U,xe).pipe((0,mt.U)(Nt=>new Bt(m,Nt)));if(0===U.length&&0===X.length)return at(new Bt(m,{}));const Re=js(r)===u;return this.expandSegment(R,xe,U,X,Re?St:u,!0).pipe((0,mt.U)(At=>new Bt(m.concat(At.segments),At.children)))})):Yl(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function zy(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?at(!0):at(o.map(d=>{const m=Oi(d,n);return ta(function Wb(n){return n&&Af(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Hd(),qy())}(e,t,r).pipe((0,cn.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,ni.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Sg(n){return Hu(Ud(Of,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return at(r);if(o.numberOfChildren>1||!o.children[St])return Hu(new f.vHH(4e3,Of));o=o.children[St]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new co(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return sr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return sr(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,o)}),new Bt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new f.vHH(4001,Of);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class kf{}class rD{constructor(e,t,r,o,u,d,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=Nf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,St).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new J([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Bs(r,t),u=new Ne(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=S(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,ln.D)(Object.keys(r.children)).pipe(ds(o=>{const u=r.children[o],d=Wl(t,o);return this.processSegmentGroup(e,d,u,o)}),Ya((o,u)=>o&&u?(o.push(...u),o):null),function Cy(n,e=!1){return(0,qn.e)((t,r)=>{let o=0;t.subscribe(new Wn.Q(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),bd(null),ug(),(0,mt.U)(o=>{if(null===o)return null;const u=ev(o);return function iD(n){n.sort((e,t)=>e.value.outlet===St?-1:t.value.outlet===St?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,ln.D)(t).pipe(ds(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),ea(d=>!!d),Ka(d=>{if(xf(d))return gw(r,o,u)?at([]):at(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!Rf(t,r,o,u))return at(null);let d;if("**"===t.path){const m=o.length>0?dg(o).parameters:{},w=ww(r)+o.length;d=at({snapshot:new J(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(t),js(t),t.component??t._loadedComponent??null,t,tv(r),w,Iw(t),w),consumedSegments:[],remainingSegments:[]})}else d=hw(r,t,o,e).pipe((0,mt.U)(({matched:m,consumedSegments:w,remainingSegments:D,parameters:x})=>{if(!m)return null;const R=ww(r)+w.length;return{snapshot:new J(w,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(t),js(t),t.component??t._loadedComponent??null,t,tv(r),R,Iw(t),R),consumedSegments:w,remainingSegments:D}}));return d.pipe(Er(m=>{if(null===m)return at(null);const{snapshot:w,consumedSegments:D,remainingSegments:x}=m;e=t._injector??e;const R=t._loadedInjector??e,U=function _w(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:X}=Nf(r,D,x,U.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution);if(0===X.length&&z.hasChildren())return this.processChildren(R,U,z).pipe((0,mt.U)(Re=>null===Re?null:[new Bs(w,Re)]));if(0===U.length&&0===X.length)return at([new Bs(w,[])]);const xe=js(t)===u;return this.processSegment(R,U,z,X,xe?St:u).pipe((0,mt.U)(Re=>null===Re?null:[new Bs(w,Re)]))}))}}function Xy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ev(n){const e=[],t=new Set;for(const r of n){if(!Xy(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ev(r.children);e.push(new Bs(r.value,o))}return e.filter(r=>!t.has(r))}function tv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ww(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ew(n){return n.data||{}}function Iw(n){return n.resolve||{}}function Dw(n){return"string"==typeof n.title||null===n.title}function xg(n){return Er(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,mt.U)(()=>e)):at(e)})}let Cw=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===St);return r}getResolvedTitleForRoute(t){return t.data[$u]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Tw)},providedIn:"root"}),n})(),Tw=(()=>{class n extends Cw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kt{}class Sw extends class Aw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mg=new f.OlP("",{providedIn:"root",factory:()=>({})}),Ng=new f.OlP("ROUTES");let rv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ta(t.loadComponent()).pipe((0,ni.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),gs(()=>{this.componentLoaders.delete(t)})),o=new df(r,()=>new uo.x).pipe(cf());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,D,x=!1;Array.isArray(m)?D=m:(w=m.create(t).injector,D=Dd(w.get(Ng,[],f.XFs.Self|f.XFs.Optional)));return{routes:D.map(Uy),injector:w}}),gs(()=>{this.childrenLoaders.delete(r)})),d=new df(u,()=>new uo.x).pipe(cf());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return ta(t()).pipe((0,cn.z)(r=>r instanceof f.YKP||Array.isArray(r)?at(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nw{}class lD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vS(n){throw n}function Rw(n,e,t){return e.parse("/")}const Ow={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ql={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Og(){const n=(0,f.f3M)(pg),e=(0,f.f3M)(ru),t=(0,f.f3M)(Ue),r=(0,f.f3M)(f.zs3),o=(0,f.f3M)(f.Sil),u=(0,f.f3M)(Ng,{optional:!0})??[],d=(0,f.f3M)(Mg,{optional:!0})??{},m=(0,f.f3M)(Tw),w=(0,f.f3M)(Cw,{optional:!0}),D=(0,f.f3M)(Nw,{optional:!0}),x=(0,f.f3M)(kt,{optional:!0}),R=new xr(null,n,e,t,r,o,Dd(u));return D&&(R.urlHandlingStrategy=D),x&&(R.routeReuseStrategy=x),R.titleStrategy=w??m,function cD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,R),R}let xr=(()=>{class n{constructor(t,r,o,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new uo.x,this.errorHandler=vS,this.malformedUriErrorHandler=Rw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>at(void 0),this.urlHandlingStrategy=new lD,this.routeReuseStrategy=new Sw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(rv),this.configLoader.onLoadEndListener=U=>this.triggerEvent(new ow(U)),this.configLoader.onLoadStartListener=U=>this.triggerEvent(new Ig(U)),this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const R=d.get(f.R0b);this.isNgZoneEnabled=R instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function hg(){return new co(new Bt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=p(this.currentUrlTree,this.rootComponentType),this.transitions=new ps({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Gr(o=>0!==o.id),(0,mt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Er(o=>{let u=!1,d=!1;return at(o).pipe((0,ni.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Er(m=>{const w=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return hD(m.source)&&(this.browserUrlTree=m.extractedUrl),at(m).pipe(Er(R=>{const U=this.transitions.getValue();return r.next(new If(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions.getValue()?Jo.E:Promise.resolve(R)}),function yw(n,e,t,r){return Er(o=>function mw(n,e,t,r,o){return new Jy(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,mt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ni.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},o.urlAfterRedirects=R.urlAfterRedirects}),function po(n,e,t,r,o,u){return(0,cn.z)(d=>function vw(n,e,t,r,o,u,d="emptyOnly",m="legacy"){return new rD(n,e,t,r,o,d,m,u).recognize().pipe(Er(w=>null===w?function nD(n){return new wr.y(e=>e.error(n))}(new kf):at(w)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,mt.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ni.b)(R=>{if(o.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(z,R)}this.browserUrlTree=R.urlAfterRedirects}const U=new wg(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(U)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:z,source:X,restoredState:xe,extras:Re}=m,ut=new If(U,this.serializeUrl(z),X,xe);r.next(ut);const At=p(z,this.rootComponentType).snapshot;return at(o={...m,targetSnapshot:At,urlAfterRedirects:z,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Jo.E}),(0,ni.b)(m=>{const w=new Df(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,mt.U)(m=>o={...m,guards:lw(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function Gy(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?at({...t,guardsResult:!0}):function Kb(n,e,t,r){return(0,ln.D)(n).pipe((0,cn.z)(o=>function dw(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?at(u.map(m=>{const w=vs(e)??o,D=Oi(m,w);return ta(function $y(n){return n&&Af(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):w.runInContext(()=>D(n,e,t,r))).pipe(ea())})).pipe(Hd()):at(!0)}(o.component,o.route,t,e,r)),ea(o=>!0!==o,!0))}(d,r,o,n).pipe((0,cn.z)(m=>m&&function Sf(n){return"boolean"==typeof n}(m)?function Yb(n,e,t,r){return(0,ln.D)(e).pipe(ds(o=>ju(function Jb(n,e){return null!==n&&e&&e(new ys(n)),at(!0)}(o.route.parent,r),function Qb(n,e){return null!==n&&e&&e(new ky(n)),at(!0)}(o.route,r),function eD(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function gS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>lf(()=>at(d.guards.map(w=>{const D=vs(d.node)??t,x=Oi(w,D);return ta(function Hy(n){return n&&Af(n.canActivateChild)}(x)?x.canActivateChild(r,n):D.runInContext(()=>x(r,n))).pipe(ea())})).pipe(Hd())));return at(u).pipe(Hd())}(n,o.path,t),function Xb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const o=r.map(u=>lf(()=>{const d=vs(e)??t,m=Oi(u,d);return ta(function Zb(n){return n&&Af(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(ea())}));return at(o).pipe(Hd())}(n,o.route,t))),ea(o=>!0!==o,!0))}(r,u,n,e):at(m)),(0,mt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ni.b)(m=>{if(o.guardsResult=m.guardsResult,Ni(m.guardsResult))throw Vd(0,m.guardsResult);const w=new Eg(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),Gr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),xg(m=>{if(m.guards.canActivateChecks.length)return at(m).pipe((0,ni.b)(w=>{const D=new mi(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),Er(w=>{let D=!1;return at(w).pipe(function sD(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return at(t);let u=0;return(0,ln.D)(o).pipe(ds(d=>function bw(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Dw(o)&&(u[$u]=o.title),function oD(n,e,t,r){const o=function aD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return at({});const u={};return(0,ln.D)(o).pipe((0,cn.z)(d=>function uD(n,e,t,r){const o=vs(e)??r,u=Oi(n,o);return ta(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ea(),(0,ni.b)(m=>{u[d]=m}))),hf(1),function ff(n){return(0,mt.U)(()=>n)}(u),Ka(d=>xf(d)?Jo.E:Hu(d)))}(u,n,e,r).pipe((0,mt.U)(d=>(n._resolvedData=d,n.data=S(n,t).resolve,o&&Dw(o)&&(n.data[$u]=o.title),null)))}(d.route,r,n,e)),(0,ni.b)(()=>u++),hf(1),(0,cn.z)(d=>u===o.length?at(t):Jo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ni.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,ni.b)(w=>{const D=new $l(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}))}),xg(m=>{const w=D=>{const x=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,ni.b)(R=>{D.component=R}),(0,mt.U)(()=>{})));for(const R of D.children)x.push(...w(R));return x};return Wa(w(m.targetSnapshot.root)).pipe(bd(),(0,ti.q)(1))}),xg(()=>this.afterPreactivation()),(0,mt.U)(m=>{const w=function Ir(n,e,t){const r=yi(n,e._root,t?t._root:void 0);return new h(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:w}}),(0,ni.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new Gb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ni.b)({next(){u=!0},complete(){u=!0}}),gs(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ka(m=>{if(d=!0,Sr(m)){Tf(m)||(this.navigated=!0,this.restoreHistory(o,!0));const w=new Hl(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(w),Tf(m)){const D=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hD(o.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new bf(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(w);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Jo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Uy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,D=o||this.routerState.root,x=w?this.currentUrlTree.fragment:d;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),_f(D,this.currentUrlTree,t,R,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ni(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function dD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Ow}:!1===r?{...Ql}:r,Ni(t))return kl(this.currentUrlTree,t,o);const u=this.parseUrl(t);return kl(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new gi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,D;d?(m=d.resolve,w=d.reject,D=d.promise):D=new Promise((U,z)=>{m=U,w=z});const x=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),R=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:x,targetPageId:R,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(U=>Promise.reject(U))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Hl(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return Og()},providedIn:"root"}),n})();function hD(n){return"imperative"!==n}class pD{}let gD=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(t=>t instanceof gi),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,ln.D)(o).pipe((0,Pl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const u=o.pipe((0,cn.z)(d=>null===d?at(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,ln.D)([u,d]).pipe((0,Pl.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(pD),f.LFG(rv))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pg=new f.OlP("");let Lf=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof If?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ly&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ly(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Gd(n,e){return{\u0275kind:n,\u0275providers:e}}function iv(n){return[{provide:Ng,multi:!0,useValue:n}]}function Vw(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(xr),o=n.get(sv);1===n.get(ov)&&r.initialNavigation(),n.get(yD,null,f.XFs.Optional)?.setUpPreloading(),n.get(Pg,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const sv=new f.OlP("",{factory:()=>new uo.x}),ov=new f.OlP("",{providedIn:"root",factory:()=>1});const yD=new f.OlP("");function uv(n){return Gd(0,[{provide:yD,useExisting:gD},{provide:pD,useExisting:n}])}const cv=new f.OlP("ROUTER_FORROOT_GUARD"),jw=[Ue,{provide:pg,useClass:Ad},{provide:xr,useFactory:Og},ru,{provide:C,useFactory:function Lw(n){return n.routerState.root},deps:[xr]},rv];function Fg(){return new f.PXZ("Router",xr)}let Hs=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jw,[],iv(t),{provide:cv,useFactory:iu,deps:[[xr,new f.FiY,new f.tp0]]},{provide:Mg,useValue:r||{}},r?.useHash?{provide:ge,useClass:We}:{provide:ge,useClass:Le},{provide:Pg,useFactory:()=>{const n=(0,f.f3M)(xr),e=(0,f.f3M)(Wh),t=(0,f.f3M)(Mg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Lf(n,e,t)}},r?.preloadingStrategy?uv(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Fg},r?.initialNavigation?hv(r):[],[{provide:fv,useFactory:Vw},{provide:f.tb,multi:!0,useExisting:fv}]]}}static forChild(t){return{ngModule:n,providers:[iv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(cv,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Vy]}),n})();function iu(n){return"guarded"}function hv(n){return["disabled"===n.initialNavigation?Gd(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:ov,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gd(2,[{provide:ov,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(xr),m=e.get(sv);(function o(u){e.get(xr).events.pipe(Gr(m=>m instanceof gi||m instanceof Hl||m instanceof bf),(0,mt.U)(m=>m instanceof gi||m instanceof Hl&&(0===m.code||1===m.code)&&null),Gr(m=>null!==m),(0,ti.q)(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||m.closed?at(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const fv=new f.OlP(""),$w=[];let IS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Hs.forRoot($w),Hs]}),n})(),Ku=(()=>{class n{constructor(){this.modals=[]}register(t){this.modals.push({id:t,visible:!1})}unregister(t){this.modals=this.modals.filter(r=>r.id!==t)}isModalOpen(t){return!!this.modals.find(r=>r.id===t)?.visible}toggleModal(t){const r=this.modals.find(o=>o.id===t);r&&(r.visible=!r.visible)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var fe=k(5861),gv=k(6451),zd=k(5363),mv=k(6063);class bS extends uo.x{constructor(e=1/0,t=1/0,r=mv.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var _D=k(3099);function Gw(n,e,t){var r,o;let u,d=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,d=!!n.refCount,t=n.scheduler):u=n??1/0,(0,_D.B)({connector:()=>new bS(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function zw(n,e){return(0,Si.m)(e)?Er(()=>n,e):Er(()=>n)}var yv=k(9468),Mr=k(5813),sa=k(2011);k(5867);var Xl=k(9681),Bf=k(4859),Xt=k(2090),su=k(1877);const Lg=new Map,ID={activated:!1,tokenObservers:[]},Yu={initialized:!1,enabled:!1};function Nr(n){return Lg.get(n)||ID}function $s(n,e){Lg.set(n,e)}function Vg(){return Yu}class qd{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function wv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vi=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hg(n){if(!Nr(n).activated)throw vi.create("use-before-activation",{appName:n.name})}function Gf(n,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,fe.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const z=yield d.getHeartbeatsHeader();z&&(u["X-Firebase-Client"]=z)}const m={method:"POST",body:JSON.stringify(e),headers:u};let w,D;try{w=yield fetch(n,m)}catch(z){throw vi.create("fetch-network-error",{originalErrorMessage:null===(r=z)||void 0===r?void 0:r.message})}if(200!==w.status)throw vi.create("fetch-status-error",{httpStatus:w.status});try{D=yield w.json()}catch(z){throw vi.create("fetch-parse-error",{originalErrorMessage:null===(o=z)||void 0===o?void 0:o.message})}const x=D.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const R=1e3*Number(x[1]),U=Date.now();return{token:D.token,expireTimeMillis:U+R,issuedAtTimeMillis:U}})).apply(this,arguments)}function Kw(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Wd="firebase-app-check-store";let _i=null;function Iv(){return _i||(_i=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(vi.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Wd,{keyPath:"compositeKey"})}}catch(r){e(vi.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),_i)}function Cv(){return(Cv=(0,fe.Z)(function*(n,e){const r=(yield Iv()).transaction(Wd,"readwrite"),u=r.objectStore(Wd).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var D;m(vi.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const zf=new su.Yd("@firebase/app-check");function xv(n,e){return(0,Xt.hl)()?function AS(n,e){return function Dv(n,e){return Cv.apply(this,arguments)}(function Av(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tE(){return Vg().enabled}function go(){return qf.apply(this,arguments)}function qf(){return(qf=(0,fe.Z)(function*(){const n=Vg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const MD={error:"UNKNOWN_ERROR"};function SS(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function Wf(n){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,fe.Z)(function*(n,e=!1){const t=n.app;Hg(t);const r=Nr(t);let u,o=r.token;if(o&&!ou(o)&&($s(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(ou(w)?o=w:yield xv(t,void 0))}if(!e&&o&&ou(o))return{token:o.token};let m,d=!1;if(tE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gf(Kw(t,yield go()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield xv(t,w),$s(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?zf.warn(w.message):zf.error(w),u=w}return o?u?m=ou(o)?{token:o.token,internalError:u}:zg(u):(m={token:o.token},$s(t,Object.assign(Object.assign({},r),{token:o})),yield xv(t,o)):m=zg(u),d&&nE(t,m),m})).apply(this,arguments)}function Rv(n,e){const t=Nr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),$s(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Gg(n){const{app:e}=n,t=Nr(e);let r=t.tokenRefresher;r||(r=function ND(n){const{app:e}=n;return new qd((0,fe.Z)(function*(){let r;if(r=Nr(e).token?yield Wf(n,!0):yield Wf(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Nr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),$s(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nE(n,e){const t=Nr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ou(n){return n.expireTimeMillis-Date.now()>0}function zg(n){return{token:SS(MD),error:n}}class qg{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Nr(this.app);for(const t of e)Rv(this.app,t.next);return Promise.resolve()}}const dE="app-check-internal";!function Vv(){(0,Xl._registerComponent)(new Bf.wA("app-check",n=>function xS(n,e){return new qg(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dE).initialize()})),(0,Xl._registerComponent)(new Bf.wA(dE,n=>function Ov(n){return{getToken:e=>Wf(n,e),addTokenListener:e=>function Nv(n,e,t,r){const{app:o}=n,u=Nr(o),d={next:t,error:r,type:e};if($s(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&ou(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Gg(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Gg(n))}(n,"INTERNAL",e),removeTokenListener:e=>Rv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xl.registerVersion)("@firebase/app-check","0.5.15")}();class Bv{constructor(){return(0,Mr.vb)("app-check")}}typeof window<"u"&&window;var Qf=k(127);const Kg=new f.OlP("angularfire2.auth.use-emulator"),nc=new f.OlP("angularfire2.auth.settings"),rc=new f.OlP("angularfire2.auth.tenant-id"),ic=new f.OlP("angularfire2.auth.langugage-code"),sc=new f.OlP("angularfire2.auth.use-device-language"),oc=new f.OlP("angularfire.auth.persistence"),ac=(n,e,t,r,o,u,d,m)=>(0,sa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),d)for(const[D,x]of Object.entries(d))w.settings[D]=x;return m&&w.setPersistence(m),w},[t,r,o,u,d,m]);let oa=(()=>{class n{constructor(t,r,o,u,d,m,w,D,x,R,U,z){const X=new uo.x,xe=at(void 0).pipe((0,zd.Q)(d.outsideAngular),Er(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4203)))),(0,mt.U)(()=>(0,sa.on)(t,u,r)),(0,mt.U)(Re=>ac(Re,u,m,D,x,R,w,U)),Gw({bufferSize:1,refCount:!1}));if(wa(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{xe.pipe(ea()).subscribe();const ut=xe.pipe(Er(Rt=>Rt.getRedirectResult().then(Vt=>Vt,()=>null)),Mr.iC,Gw({bufferSize:1,refCount:!1})),At=xe.pipe(Er(Rt=>new wr.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>Rt.onAuthStateChanged(zt=>Vt.next(zt),zt=>Vt.error(zt),()=>Vt.complete()))})))),Nt=xe.pipe(Er(Rt=>new wr.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>Rt.onIdTokenChanged(zt=>Vt.next(zt),zt=>Vt.error(zt),()=>Vt.complete()))}))));this.authState=ut.pipe(zw(At),(0,yv.R)(d.outsideAngular),(0,zd.Q)(d.insideAngular)),this.user=ut.pipe(zw(Nt),(0,yv.R)(d.outsideAngular),(0,zd.Q)(d.insideAngular)),this.idToken=this.user.pipe(Er(Rt=>Rt?(0,ln.D)(Rt.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Er(Rt=>Rt?(0,ln.D)(Rt.getIdTokenResult()):at(null))),this.credential=(0,gv.T)(ut,X,this.authState.pipe(Gr(Rt=>!Rt))).pipe((0,mt.U)(Rt=>Rt?.user?Rt:null),(0,yv.R)(d.outsideAngular),(0,zd.Q)(d.insideAngular))}return(0,sa.pX)(this,xe,u,{spy:{apply:(Re,ut,At)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&At.then(Nt=>X.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(sa.Dh),f.LFG(sa.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Mr.HU),f.LFG(Kg,8),f.LFG(nc,8),f.LFG(rc,8),f.LFG(ic,8),f.LFG(sc,8),f.LFG(oc,8),f.LFG(Bv,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Qd=(()=>{class n{constructor(){Qf.Z.registerVersion("angularfire",Mr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[oa]}),n})();var Jd=k(4986);function Yg(){return(0,qn.e)((n,e)=>{let t,r=!1;n.subscribe(new Wn.Q(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function pE(n,e){return n===e}k(4203);var ct,gE=k(3942),mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aa={},Qg=Qg||{},xt=mE||self;function Jg(){}function Jf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ep="closure_uid_"+(1e9*Math.random()>>>0),$v=0;function FD(n,e,t){return n.call.apply(n.bind,arguments)}function Xg(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FD:Xg).apply(null,arguments)}function Xd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function ua(){this.s=this.s,this.o=this.o}var vE={};ua.prototype.s=!1,ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yE(n){return Object.prototype.hasOwnProperty.call(n,ep)&&n[ep]||(n[ep]=++$v)}(this);delete vE[n]}},ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function tp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Jf(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}si.prototype.h=function(){this.defaultPrevented=!0};var Wv=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",Jg,e),xt.removeEventListener("test",Jg,e)}catch{}return n}();function np(n){return/^[\s\xa0]*$/.test(n)}var _E=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function em(n,e){return n<e?-1:n>e?1:0}function rp(){var n=xt.navigator;return n&&(n=n.userAgent)?n:""}function mo(n){return-1!=rp().indexOf(n)}function tm(n){return tm[" "](n),n}tm[" "]=Jg;var sp,n,wE=mo("Opera"),uc=mo("Trident")||mo("MSIE"),Zv=mo("Edge"),ip=Zv||uc,Kv=mo("Gecko")&&!(-1!=rp().toLowerCase().indexOf("webkit")&&!mo("Edge"))&&!(mo("Trident")||mo("MSIE"))&&!mo("Edge"),EE=-1!=rp().toLowerCase().indexOf("webkit")&&!mo("Edge");function Yv(){var n=xt.document;return n?n.documentMode:void 0}e:{var nm="",rm=(n=rp(),Kv?/rv:([^\);]+)(\)|;)/.exec(n):Zv?/Edge\/([\d\.]+)/.exec(n):uc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):EE?/WebKit\/(\S+)/.exec(n):wE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rm&&(nm=rm?rm[1]:""),uc){var im=Yv();if(null!=im&&im>parseFloat(nm)){sp=String(im);break e}}sp=nm}var IE={};var DE=xt.document&&uc&&(Yv()||parseInt(sp,10))||void 0;function op(n,e){if(si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Kv){e:{try{tm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Or[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&op.X.h.call(this)}}ii(op,si);var Or={2:"touch",3:"pen",4:"mouse"};op.prototype.h=function(){op.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),VD=0;function UD(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++VD,this.ba=this.ea=!1}function ap(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Jv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Xv(n){const e={};for(const t in n)e[t]=n[t];return e}const e_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lc(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<e_.length;u++)t=e_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function sm(n){this.src=n,this.g={},this.h=0}function t_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=zv(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(ap(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function om(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}sm.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=om(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new UD(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var n_="closure_lm_"+(1e6*Math.random()|0),am={};function BD(n,e,t,r,o){if(r&&r.once)return yo(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)BD(n,e[u],t,r,o);return null}return t=lm(t),n&&n[eh]?n.N(e,t,Xf(r)?!!r.capture:!!r,o):r_(n,e,t,!1,r,o)}function r_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Xf(o)?!!o.capture:!!o,m=_s(n);if(m||(n[n_]=m=new sm(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function i_(){const e=_o;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Wv||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(vo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yo(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)yo(n,e[u],t,r,o);return null}return t=lm(t),n&&n[eh]?n.O(e,t,Xf(r)?!!r.capture:!!r,o):r_(n,e,t,!0,r,o)}function CE(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)CE(n,e[u],t,r,o);else r=Xf(r)?!!r.capture:!!r,t=lm(t),n&&n[eh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=om(u=n.g[e],t,r,o))&&(ap(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=_s(n))&&(e=n.g[e.toString()],n=-1,e&&(n=om(e,t,r,o)),(t=-1<n?e[n]:null)&&s_(t))}function s_(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[eh])t_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_s(e))?(t_(t,n),0==t.h&&(t.src=null,e[n_]=null)):ap(n)}}}function vo(n){return n in am?am[n]:am[n]="on"+n}function _o(n,e){if(n.ba)n=!0;else{e=new op(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&s_(n),n=t.call(r,e)}return n}function _s(n){return(n=n[n_])instanceof sm?n:null}var um="__closure_events_fn_"+(1e9*Math.random()>>>0);function lm(n){return"function"==typeof n?n:(n[um]||(n[um]=function(e){return n.handleEvent(e)}),n[um])}function zr(){ua.call(this),this.i=new sm(this),this.P=this,this.I=null}function oi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new si(e,n);else if(e instanceof si)e.target=e.target||n;else{var o=e;lc(e=new si(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=cm(d,r,!0,e)&&o}if(o=cm(d=e.g=n,r,!0,e)&&o,o=cm(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=cm(d=e.g=t[u],r,!1,e)&&o}function cm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,w=d.ha||d.src;d.ea&&t_(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}ii(zr,ua),zr.prototype[eh]=!0,zr.prototype.removeEventListener=function(n,e,t,r){CE(this,n,e,t,r)},zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ap(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var o_=xt.JSON.stringify;function a_(){var n=c_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dm,TE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AE,n=>n.reset());class AE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jD(n){xt.setTimeout(()=>{throw n},0)}function u_(n,e){dm||function hm(){var n=xt.Promise.resolve(void 0);dm=function(){n.then(SE)}}(),l_||(dm(),l_=!0),c_.add(n,e)}var l_=!1,c_=new class up{constructor(){this.h=this.g=null}add(e,t){const r=TE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function SE(){for(var n;n=a_();){try{n.h.call(n.g)}catch(t){jD(t)}var e=TE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}l_=!1}function th(n,e){zr.call(this),this.h=n||1,this.g=e||xt,this.j=Rr(this.lb,this),this.l=Date.now()}function nh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fm(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:xt.setTimeout(n,e||0)}function d_(n){n.g=fm(()=>{n.g=null,n.i&&(n.i=!1,d_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(th,zr),(ct=th.prototype).ca=!1,ct.R=null,ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),oi(this,"tick"),this.ca&&(nh(this),this.start()))}},ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){th.X.M.call(this),nh(this),delete this.g};class xE extends ua{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:d_(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rh(n){ua.call(this),this.h=n,this.g={}}ii(rh,ua);var h_=[];function f_(n,e,t,r){Array.isArray(t)||(t&&(h_[0]=t.toString()),t=h_);for(var o=0;o<t.length;o++){var u=BD(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function p_(n){Jv(n.g,function(e,t){this.g.hasOwnProperty(t)&&s_(e)},n),n.g={}}function lp(){this.g=!0}function ih(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return o_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rh.prototype.M=function(){rh.X.M.call(this),p_(this)},rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lp.prototype.Aa=function(){this.g=!1},lp.prototype.info=function(){};var cc={},ME=null;function pm(){return ME=ME||new zr}function NE(n){si.call(this,cc.Pa,n)}function cp(n){const e=pm();oi(e,new NE(e,n))}function RE(n,e){si.call(this,cc.STAT_EVENT,n),this.stat=e}function ki(n){const e=pm();oi(e,new RE(e,n))}function OE(n,e){si.call(this,cc.Qa,n),this.size=e}function dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},e)}cc.Pa="serverreachability",ii(NE,si),cc.STAT_EVENT="statevent",ii(RE,si),cc.Qa="timingevent",ii(OE,si);var gm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},PE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function g_(){}function m_(){}g_.prototype.h=null;var vm,sh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mm(){si.call(this,"d")}function ym(){si.call(this,"c")}function hp(){}function oh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new rh(this),this.O=FE,this.T=new th(n=ip?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}ii(mm,si),ii(ym,si),ii(hp,g_),hp.prototype.g=function(){return new XMLHttpRequest},hp.prototype.i=function(){return{}},vm=new hp;var FE=45e3,_m={},fp={};function uu(n,e,t){n.K=1,n.v=wm(qs(e)),n.s=t,n.P=!0,LE(n,null)}function LE(n,e){n.F=Date.now(),hc(n),n.A=qs(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),E_(t.i,"t",r),n.C=0,t=n.l.H,n.h=new y_,n.g=sI(n.l,t?e:null,!n.s),0<n.N&&(n.L=new xE(Rr(n.La,n,n.g),n.N)),f_(n.S,n.g,"readystatechange",n.ib),e=n.H?Xv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),cp(1),function HD(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var x=D[0];D=D[1];var R=x.split("_");d=2<=R.length&&"type"==R[1]?d+(x+"=")+D+"&":d+(x+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function VE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function dc(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=HS(n,t),o==fp){4==e&&(n.o=4,ki(14),r=!1),ih(n.j,n.m,null,"[Incomplete Response]");break}if(o==_m){n.o=4,ki(15),ih(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ih(n.j,n.m,o,null),yt(n,o)}VE(n)&&o!=fp&&o!=_m&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),O_(e),e.K=!0,ki(11))):(ih(n.j,n.m,t,"[Invalid Chunked Response]"),uh(n),ah(n))}function HS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fp:(t=Number(e.substring(t,r)),isNaN(t)?_m:(r+=1)+t>e.length?fp:(e=e.substr(r,t),n.C=r+t,e))}function hc(n){n.V=Date.now()+n.O,qD(n,n.O)}function qD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=dp(Rr(n.gb,n),e)}function pp(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function ah(n){0==n.l.G||n.I||tI(n.l,n)}function uh(n){pp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,nh(n.T),p_(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yt(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||I_(t.h,n)))if(!n.J&&I_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Sm(t),Cm(t)}Ep(t),ki(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=dp(Rr(t.cb,t),6e3));if(1>=GE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else gc(t,11)}else if((n.J||t.g==n)&&Sm(t),!np(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.T=D[0],D=D[1],2==t.G)if("c"==D[0]){t.I=D[1],t.ka=D[2];const x=D[3];null!=x&&(t.ma=x,t.j.info("VER="+t.ma));const R=D[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const U=D[5];null!=U&&"number"==typeof U&&0<U&&(t.J=r=1.5*U,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const X=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var u=r.h;u.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Em(u,u.h),u.h=null))}if(r.D){const xe=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;xe&&(r.za=xe,Ln(r.F,r.D,xe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=iI(r,r.H?r.ka:null,r.V),d.J){b_(r.h,d);var m=d,w=r.J;w&&m.setTimeout(w),m.B&&(pp(m),hc(m)),r.g=d}else eI(r);0<t.i.length&&Am(t)}else"stop"!=D[0]&&"close"!=D[0]||gc(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?gc(t,7):Dm(t):"noop"!=D[0]&&t.l&&t.l.wa(D),t.A=0)}cp(4)}catch{}}function UE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ZD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Jf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function WD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Jf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(ct=oh.prototype).setTimeout=function(n){this.O=n},ct.ib=function(n){n=n.target;const e=this.L;e&&3==ws(n)?e.l():this.La(n)},ct.La=function(n){try{if(n==this.g)e:{const x=ws(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>x)&&(3!=x||ip||this.g&&(this.h.h||this.g.fa()||YE(this.g)))){this.I||4!=x||7==e||cp(8==e||0>=R?3:2),pp(this);var t=this.g.aa();this.Y=t;t:if(VE(this)){var r=YE(this.g);n="";var o=r.length,u=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uh(this),ah(this);var d="";break t}this.h.i=new xt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function $D(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,x,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!np(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,ki(12),uh(this),ah(this);break e}ih(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yt(this,t)}this.P?(dc(this,x,d),ip&&this.i&&3==x&&(f_(this.S,this.T,"tick",this.hb),this.T.start())):(ih(this.j,this.m,d,null),yt(this,d)),4==x&&uh(this),this.i&&!this.I&&(4==x?tI(this.l,this):(this.i=!1,hc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),uh(this),ah(this)}}}catch{}},ct.hb=function(){if(this.g){var n=ws(this.g),e=this.g.fa();this.C<e.length&&(pp(this),dc(this,n,e),this.i&&4!=n&&hc(this))}},ct.cancel=function(){this.I=!0,uh(this)},ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function GD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cp(3),ki(17)),uh(this),this.o=2,ah(this)):qD(this,this.V-n)};var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof la){this.h=void 0!==e?e:n.h,Fn(this,n.j),this.s=n.s,this.g=n.g,v_(this,n.m),this.l=n.l,e=n.i;var t=new mp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),__(this,t),this.o=n.o}else n&&(t=String(n).match(fc))?(this.h=!!e,Fn(this,t[1]||"",!0),this.s=lh(t[2]||""),this.g=lh(t[3]||"",!0),v_(this,t[4]),this.l=lh(t[5]||"",!0),__(this,t[6]||"",!0),this.o=lh(t[7]||"")):(this.h=!!e,this.i=new mp(null,this.h))}function qs(n){return new la(n)}function Fn(n,e,t){n.j=t?lh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function v_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function __(n,e,t){e instanceof mp?(n.i=e,function HE(n,e){e&&!n.j&&(Qu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(jE(this,r),E_(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ch(e,JD)),n.i=new mp(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function wm(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ch(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,BE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}la.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ch(e,w_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ch(e,w_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ch(t,"/"==t.charAt(0)?QD:YD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ch(t,gp)),n.join("")};var w_=/[#\/\?@]/g,YD=/[#\?:]/g,QD=/[#\?]/g,JD=/[#\?@]/g,gp=/#/g;function mp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qu(n){n.g||(n.g=new Map,n.h=0,n.i&&function KD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jE(n,e){Qu(n),e=pc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function yp(n,e){return Qu(n),e=pc(n,e),n.g.has(e)}function E_(n,e,t){jE(n,e),0<t.length&&(n.i=null,n.g.set(pc(n,e),tp(t)),n.h+=t.length)}function pc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dh(n){this.l=n||vp,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ga&&xt.g.Ga()&&xt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=mp.prototype).add=function(n,e){Qu(this),this.i=null,n=pc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Qu(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},ct.oa=function(){Qu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},ct.W=function(n){Qu(this);let e=[];if("string"==typeof n)yp(this,n)&&(e=e.concat(this.g.get(pc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return Qu(this),this.i=null,yp(this,n=pc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var vp=10;function $E(n){return!!n.h||!!n.g&&n.g.size>=n.j}function GE(n){return n.h?1:n.g?n.g.size:0}function I_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Em(n,e){n.g?n.g.add(e):n.h=e}function b_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function D_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tp(n.i)}function C_(){}function zE(){this.g=new C_}function eC(n,e,t){const r=t||"";try{UE(n,function(o,u){let d=o;Xf(o)&&(d=o_(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function T_(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Im(n){this.l=n.ac||null,this.j=n.jb||!1}function A_(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dh.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},C_.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},C_.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},ii(Im,g_),Im.prototype.g=function(){return new A_(this.l,this.j)},Im.prototype.i=function(n){return function(){return n}}({}),ii(A_,zr);var qE=0;function S_(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ju(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_p(n)}function _p(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=A_.prototype).open=function(n,e){if(this.readyState!=qE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_p(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ju(this)),this.readyState=qE},ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_p(this)),this.g&&(this.readyState=3,_p(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;S_(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ju(this):_p(this),3==this.readyState&&S_(this)}},ct.Va=function(n){this.g&&(this.response=this.responseText=n,Ju(this))},ct.Ua=function(n){this.g&&(this.response=n,Ju(this))},ct.ga=function(){this.g&&Ju(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(A_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nC=xt.JSON.parse;function Kn(n){zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hh,this.K=this.L=!1}ii(Kn,zr);var hh="",rC=/^https?$/i,iC=["POST","PUT"];function WE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZE(n),bm(n)}function ZE(n){n.D||(n.D=!0,oi(n,"complete"),oi(n,"error"))}function x_(n){if(n.h&&typeof Qg<"u"&&(!n.C[1]||4!=ws(n)||2!=n.aa()))if(n.v&&4==ws(n))fm(n.Ha,0,n);else if(oi(n,"readystatechange"),4==ws(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(fc)[1]||null;if(!o&&xt.self&&xt.self.location){var u=xt.self.location.protocol;o=u.substr(0,u.length-1)}r=!rC.test(o?o.toLowerCase():"")}t=r}if(t)oi(n,"complete"),oi(n,"success");else{n.m=6;try{var d=2<ws(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",ZE(n)}}finally{bm(n)}}}function bm(n,e){if(n.g){KE(n);const t=n.g,r=n.C[0]?Jg:null;n.g=null,n.C=null,e||oi(n,"ready");try{t.onreadystatechange=r}catch{}}}function KE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function ws(n){return n.g?n.g.readyState:0}function YE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case hh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function M_(n){let e="";return Jv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function N_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=M_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function fh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QE(n){this.Ca=0,this.i=[],this.j=new lp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fh("baseRetryDelayMs",5e3,n),this.bb=fh("retryDelaySeedMs",1e4,n),this.$a=fh("forwardChannelMaxRetries",2,n),this.ta=fh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new dh(n&&n.concurrentRequestLimit),this.Fa=new zE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Dm(n){if(Tm(n),3==n.G){var e=n.U++,t=qs(n.F);Ln(t,"SID",n.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),wp(n,t),(e=new oh(n,n.j,e,void 0)).K=2,e.v=wm(qs(t)),t=!1,xt.navigator&&xt.navigator.sendBeacon&&(t=xt.navigator.sendBeacon(e.v.toString(),"")),!t&&xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=sI(e.l,null),e.g.da(e.v)),e.F=Date.now(),hc(e)}rI(n)}function Cm(n){n.g&&(O_(n),n.g.cancel(),n.g=null)}function Tm(n){Cm(n),n.u&&(xt.clearTimeout(n.u),n.u=null),Sm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function Am(n){$E(n.h)||n.m||(n.m=!0,u_(n.Ja,n),n.C=0)}function R_(n,e){var t;t=e?e.m:n.U++;const r=qs(n.F);Ln(r,"SID",n.I),Ln(r,"RID",t),Ln(r,"AID",n.T),wp(n,r),n.o&&n.s&&N_(r,n.o,n.s),t=new oh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=XE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Em(n.h,t),uu(t,r,e)}function wp(n,e){n.ia&&Jv(n.ia,function(t,r){Ln(e,r,t)}),n.l&&UE({},function(t,r){Ln(e,r,t)})}function XE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Rr(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let D=o[w].h;const x=o[w].g;if(D-=u,0>D)u=Math.max(0,o[w].h-100),m=!1;else try{eC(x,d,"req"+D+"_")}catch{r&&r(x)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function eI(n){n.g||n.u||(n.Z=1,u_(n.Ia,n),n.A=0)}function Ep(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=dp(Rr(n.Ia,n),nI(n,n.A)),n.A++,0))}function O_(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function P_(n){n.g=new oh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=qs(n.sa);Ln(e,"RID","rpc"),Ln(e,"SID",n.I),Ln(e,"CI",n.L?"0":"1"),Ln(e,"AID",n.T),Ln(e,"TYPE","xmlhttp"),wp(n,e),n.o&&n.s&&N_(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=wm(qs(e)),t.s=null,t.P=!0,LE(t,n)}function Sm(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function tI(n,e){var t=null;if(n.g==e){Sm(n),O_(n),n.g=null;var r=2}else{if(!I_(n.h,e))return;t=e.D,b_(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;oi(r=pm(),new OE(r,t,e,o)),Am(n)}else eI(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function JE(n,e){return!(GE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=dp(Rr(n.Ja,n,e),nI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ep(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:gc(n,5);break;case 4:gc(n,10);break;case 3:gc(n,6);break;default:gc(n,2)}}function nI(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function gc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Rr(n.kb,n);t||(t=new la("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||Fn(t,"https"),wm(t)),function tC(n,e){const t=new lp;if(xt.Image){const r=new Image;r.onload=Xd(T_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Xd(T_,t,r,"TestLoadImage: error",!1,e),r.onabort=Xd(T_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xd(T_,t,r,"TestLoadImage: timeout",!1,e),xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ki(2);n.G=0,n.l&&n.l.va(e),rI(n),Tm(n)}function rI(n){if(n.G=0,n.la=[],n.l){const e=D_(n.h);(0!=e.length||0!=n.i.length)&&(qv(n.la,e),qv(n.la,n.i),n.h.i.length=0,tp(n.i),n.i.length=0),n.l.ua()}}function iI(n,e,t){var r=t instanceof la?qs(t):new la(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),v_(r,r.m);else{var o=xt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new la(null,void 0);r&&Fn(u,r),e&&(u.g=e),o&&v_(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Ln(r,t,e),Ln(r,"VER",n.ma),wp(n,r),r}function sI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(t&&n.Da&&!n.ra?new Im({jb:!0}):n.ra)).Ka(n.H),e}function oI(){}function Ip(){if(uc&&!(10<=Number(DE)))throw Error("Environmental error: no available transport.")}function Ki(n,e){zr.call(this),this.g=new QE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!np(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!np(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mc(this)}function aI(n){mm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uI(){ym.call(this),this.status=1}function mc(n){this.g=n}(ct=Kn.prototype).Ka=function(n){this.L=n},ct.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vm.g(),this.C=function kE(n){return n.h||(n.h=n.i())}(this.u?this.u:vm),this.g.onreadystatechange=Rr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void WE(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=xt.FormData&&n instanceof xt.FormData,!(0<=zv(iC,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KE(this),0<this.B&&((this.K=function sC(n){return uc&&function jS(){return function LD(n){var e=IE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_E(String(sp)).split("."),t=_E("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=em(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||em(0==o[2].length,0==u[2].length)||em(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.qa,this)):this.A=fm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){WE(this,u)}},ct.qa=function(){typeof Qg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oi(this,"complete"),oi(this,"abort"),bm(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bm(this,!0)),Kn.X.M.call(this)},ct.Ha=function(){this.s||(this.F||this.v||this.l?x_(this):this.fb())},ct.fb=function(){x_(this)},ct.aa=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nC(e)}},ct.Ea=function(){return this.m},ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=QE.prototype).ma=8,ct.G=1,ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new oh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Xv(u),lc(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=XE(this,o,e),Ln(t=qs(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),wp(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(M_(u)))+"&"+e:this.o&&N_(t,this.o,u)),Em(this.h,o),this.Ya&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),o.Z=!0,uu(o,t,null)):uu(o,t,e),this.G=2}}else 3==this.G&&(n?R_(this,n):0==this.i.length||$E(this.h)||R_(this))},ct.Ia=function(){if(this.u=null,P_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=dp(Rr(this.eb,this),n)}},ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ki(10),Cm(this),P_(this))},ct.cb=function(){null!=this.v&&(this.v=null,Cm(this),Ep(this),ki(19))},ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ki(2)):(this.j.info("Failed to ping google.com"),ki(1))},(ct=oI.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Ra=function(){},Ip.prototype.g=function(n,e){return new Ki(n,e)},ii(Ki,zr),Ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ki(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=iI(n,null,n.V),Am(n)},Ki.prototype.close=function(){Dm(this.g)},Ki.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=o_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Am(e)},Ki.prototype.M=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,Ki.X.M.call(this)},ii(aI,mm),ii(uI,ym),ii(mc,oI),mc.prototype.xa=function(){oi(this.g,"a")},mc.prototype.wa=function(n){oi(this.g,new aI(n))},mc.prototype.va=function(n){oi(this.g,new uI(n))},mc.prototype.ua=function(){oi(this.g,"b")},Ip.prototype.createWebChannel=Ip.prototype.g,Ki.prototype.send=Ki.prototype.u,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,gm.NO_ERROR=0,gm.TIMEOUT=8,gm.HTTP_ERROR=6,PE.COMPLETE="complete",m_.EventType=sh,sh.OPEN="a",sh.CLOSE="b",sh.ERROR="c",sh.MESSAGE="d",zr.prototype.listen=zr.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.Oa,Kn.prototype.getLastErrorCode=Kn.prototype.Ea,Kn.prototype.getStatus=Kn.prototype.aa,Kn.prototype.getResponseJson=Kn.prototype.Sa,Kn.prototype.getResponseText=Kn.prototype.fa,Kn.prototype.send=Kn.prototype.da,Kn.prototype.setWithCredentials=Kn.prototype.Ka;var oC=aa.createWebChannelTransport=function(){return new Ip},aC=aa.getStatEventTarget=function(){return pm()},k_=aa.ErrorCode=gm,F_=aa.EventType=PE,L_=aa.Event=cc,V_=aa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},U_=aa.FetchXmlHttpFactory=Im,xm=aa.WebChannel=m_,uC=aa.XhrIo=Kn;const Mm="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let yc="9.12.1";const Es=new su.Yd("@firebase/firestore");function Nm(){return Es.logLevel}function ke(n,...e){if(Es.logLevel<=su.in.DEBUG){const t=e.map(B_);Es.debug(`Firestore (${yc}): ${n}`,...t)}}function ar(n,...e){if(Es.logLevel<=su.in.ERROR){const t=e.map(B_);Es.error(`Firestore (${yc}): ${n}`,...t)}}function lu(n,...e){if(Es.logLevel<=su.in.WARN){const t=e.map(B_);Es.warn(`Firestore (${yc}): ${n}`,...t)}}function B_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function bt(n,e){n||rt()}function ze(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class j_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hC{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let d=new br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new br,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,fe.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},w=D=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new br)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new qr(e)}}class fC{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cI{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new fC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.A=t.token,new pC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class mC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=gC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function ph(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function hI(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Gn(0,0))}static max(){return new Et(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gh{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends gh{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new en(t)}static emptyPath(){return new en([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends gh{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return yC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(en.fromString(e))}static fromName(e){return new qe(en.fromString(e).popFirst(5))}static empty(){return new qe(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new en(e.slice()))}}class Rm{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function H_(n){return n.fields.find(e=>2===e.kind)}function vc(n){return n.fields.filter(e=>2!==e.kind)}Rm.UNKNOWN_ID=-1;class Dp{constructor(e,t){this.fieldPath=e,this.kind=t}}class mh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mh(0,Yi.min())}}function $_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Yi(o,qe.empty(),e)}function G_(n){return new Yi(n.readTime,n.key,-1)}class Yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yi(Et.min(),qe.empty(),-1)}static max(){return new Yi(Et.max(),qe.empty(),-1)}}function z_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const vC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xu(n){return W_.apply(this,arguments)}function W_(){return W_=(0,fe.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==vC)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),W_.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},w=>r(w))}),d=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(o=>o?ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const D=w;t(e[D]).next(x=>{d[D]=x,++m,m===u&&r(d)},x=>o(x))}})}static doWhile(e,t){return new ie((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Om{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new br,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new _c(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=Z_(r.target.error);this.P.reject(new _c(e,o))}}static open(e,t,r,o){try{return new Om(t,e.transaction(o,r))}catch(u){throw new _c(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wC(t)}}class Fi{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Fi.D((0,Xt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),ca(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(Fi.N())return!0;const e=(0,Xt.z$)(),t=Fi.D(e),r=0<t&&t<10,o=Fi.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,fe.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new _c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ae(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new _c(e,m))},u.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,fe.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const w=Om.open(u.db,e,d?"readonly":"readwrite",r),D=o(w).next(x=>(w.V(),x)).catch(x=>(w.abort(x),ie.reject(x))).toPromise();return D.catch(()=>{}),yield w.v,D}catch(w){const D=w,x="FirebaseError"!==D.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",D.message,"Retrying:",x),u.close(),!x)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _C{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return ca(this.U.delete())}}class _c extends Ae{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ai(n){return"IndexedDbTransactionError"===n.name}class wC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ca(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),ca(this.store.add(e))}get(e){return ca(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),ca(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),ca(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ie((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ie((r,o)=>{t.onerror=u=>{const d=Z_(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new ie((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new _C(m),D=t(m.primaryKey,m.value,w);if(D instanceof ie){const x=D.catch(R=>(w.done(),ie.reject(R)));r.push(x)}w.isDone?o():null===w.G?m.continue():m.continue(w.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ca(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Z_(r.target.error);t(o)}})}let yh=!1;function Z_(n){const e=Fi.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yh||(yh=!0,setTimeout(()=>{throw r},0)),r}}return n}class EC{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ai(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Xu(r)}yield t.nt(6e4)}))}}class IC{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return ie.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ke("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(ke("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=G_(u);z_(d,r)>0&&(r=d)}),new Yi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ui{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Cp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ui.at=-1;class Yn{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Pr.RED,this.left=o??Pr.EMPTY,this.right=u??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Pr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Pr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Pr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gI(this.data.getIterator())}getIteratorFrom(e){return new gI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class gI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(n){return n.hasNext()?n.getNext():void 0}class Ws{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new pn(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ph(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(bt(!!n),"string"==typeof n){let e=0;const t=mI.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ec(n){return"string"==typeof n?pr.fromBase64String(n):pr.fromUint8Array(n)}function Y_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yI(n){const e=n.mapValue.fields.__previous_value__;return Y_(e)?yI(e):e}function Ap(n){const e=da(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class vI{constructor(e,t,r,o,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class ha{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}function _h(n){return null==n}function Sp(n){return 0===n&&1/n==-1/0}function Q_(n){return"number"==typeof n&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pm={nullValue:"NULL_VALUE"};function el(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:_I(n)?9007199254740991:10:rt()}function wo(n,e){if(n===e)return!0;const t=el(n);if(t!==el(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ap(n).isEqual(Ap(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=da(r.timestampValue),d=da(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ec(n.bytesValue).isEqual(Ec(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return zn(r.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(r.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return zn(r.integerValue)===zn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=zn(r.doubleValue),d=zn(o.doubleValue);return u===d?Sp(u)===Sp(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ph(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Cp(u)!==Cp(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!wo(u[m],d[m])))return!1;return!0}(n,e);default:return rt()}var o}function xp(n,e){return void 0!==(n.values||[]).find(t=>wo(t,e))}function du(n,e){if(n===e)return 0;const t=el(n),r=el(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=zn(o.integerValue||o.doubleValue),m=zn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return J_(n.timestampValue,e.timestampValue);case 4:return J_(Ap(n),Ap(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Ec(o),m=Ec(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const D=Ft(d[w],m[w]);if(0!==D)return D}return Ft(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Ft(zn(o.latitude),zn(u.latitude));return 0!==d?d:Ft(zn(o.longitude),zn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const D=du(d[w],m[w]);if(D)return D}return Ft(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===cu.mapValue&&u===cu.mapValue)return 0;if(o===cu.mapValue)return 1;if(u===cu.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let x=0;x<m.length&&x<D.length;++x){const R=Ft(m[x],D[x]);if(0!==R)return R;const U=du(d[m[x]],w[D[x]]);if(0!==U)return U}return Ft(m.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function J_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=da(n),r=da(e),o=Ft(t.seconds,r.seconds);return 0!==o?o:Ft(t.nanos,r.nanos)}function Dr(n){return tl(n)}function tl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=da(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ec(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=tl(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${tl(r.fields[m])}`;return u+"}"}(n.mapValue):rt();var e}function Ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X_(n){return!!n&&"integerValue"in n}function km(n){return!!n&&"arrayValue"in n}function bC(n){return!!n&&"nullValue"in n}function e0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mp(n){return!!n&&"mapValue"in n}function hu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return wc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _I(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function t0(n){return"nullValue"in n?Pm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ic(ha.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function DC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ic(ha.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?cu:rt()}function n0(n,e){const t=du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function wI(n,e){const t=du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=ur.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=hu(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Mp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){wc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new li(hu(this.value))}}function EI(n){const e=[];return wc(n.fields,(t,r)=>{const o=new ur([t]);if(Mp(r)){const u=EI(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Ws(e)}class _n{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Et.min(),Et.min(),li.empty(),0)}static newFoundDocument(e,t,r){return new _n(e,1,t,Et.min(),r,0)}static newNoDocument(e,t){return new _n(e,2,t,Et.min(),li.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Et.min(),li.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class II{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function r0(n,e=null,t=[],r=[],o=null,u=null,d=null){return new II(n,e,t,r,o,u,d)}function fa(n){const e=ze(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Dr(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dr(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dr(r)).join(",")),e.ht=t}return e.ht}function Fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!SC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!l0(n.startAt,e.startAt)&&l0(n.endAt,e.endAt)}function Np(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lm(n,e){return n.filters.filter(t=>t instanceof ci&&t.field.isEqual(e))}function o0(n,e,t){let r=Pm,o=!0;for(const u of Lm(n,e)){let d=Pm,m=!0;switch(u.op){case"<":case"<=":d=t0(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Pm}n0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];n0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function bc(n,e,t){let r=cu,o=!0;for(const u of Lm(n,e)){let d=cu,m=!0;switch(u.op){case">=":case">":d=DC(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=cu}wI({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];wI({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ci extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new bI(e,t,r):"array-contains"===t?new zS(e,r):"in"===t?new CC(e,r):"not-in"===t?new TC(e,r):"array-contains-any"===t?new AC(e,r):new ci(e,t,r)}static lt(e,t,r){return"in"===t?new a0(e,r):new GS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(du(t,this.value)):null!==t&&el(this.value)===el(t)&&this.ft(du(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bI extends ci{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class a0 extends ci{constructor(e,t){super(e,"in",t),this.keys=DI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GS extends ci{constructor(e,t){super(e,"not-in",t),this.keys=DI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class zS extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return km(t)&&xp(t.arrayValue,this.value)}}class CC extends ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xp(this.value.arrayValue,t)}}class TC extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xp(this.value.arrayValue,t)}}class AC extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!km(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xp(this.value.arrayValue,r))}}class fu{constructor(e,t){this.position=e,this.inclusive=t}}class Dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function SC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function u0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?qe.comparator(qe.fromName(d.referenceValue),t.key):du(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function l0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}class pu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this._t=null,this.wt=null}}function CI(n,e,t,r,o,u,d,m){return new pu(n,e,t,r,o,u,d,m)}function Cc(n){return new pu(n)}function TI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Vm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Um(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Bm(n){return null!==n.collectionGroup}function Tc(n){const e=ze(n);if(null===e._t){e._t=[];const t=Um(e),r=Vm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Dc(t)),e._t.push(new Dc(ur.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Dc(ur.keyField(),u))}}}return e._t}function Li(n){const e=ze(n);if(!e.wt)if("F"===e.limitType)e.wt=r0(e.path,e.collectionGroup,Tc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Tc(e))t.push(new Dc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new fu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fu(e.startAt.position,e.startAt.inclusive):null;e.wt=r0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function jm(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hm(n,e){return Fm(Li(n),Li(e))&&n.limitType===e.limitType}function c0(n){return`${fa(Li(n))}|lt:${n.limitType}`}function AI(n){return`Query(target=${function s0(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Dr(r.value)}`;var r}).join(", ")}]`),_h(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Dr(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Dr(t)).join(",")),`Target(${e})`}(Li(n))}; limitType=${n.limitType})`}function SI(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=u0(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Tc(t),r)||t.endAt&&!function(o,u,d){const m=u0(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Tc(t),r)));var t,r}function xC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MC(n){return(e,t)=>{let r=!1;for(const o of Tc(n)){const u=qS(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function qS(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),w=d.data.field(o);return null!==m&&null!==w?du(m,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function NC(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function RC(n){return{integerValue:""+n}}function OC(n,e){return Q_(e)?RC(e):NC(n,e)}class Ac{constructor(){this._=void 0}}function WS(n,e,t){return n instanceof Sc?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof nl?PC(n,e):n instanceof gu?d0(n,e):function(r,o){const u=Rp(r,o),d=h0(u)+h0(r.yt);return X_(u)&&X_(r.yt)?RC(d):NC(r.It,d)}(n,e)}function xI(n,e,t){return n instanceof nl?PC(n,e):n instanceof gu?d0(n,e):t}function Rp(n,e){return n instanceof wh?X_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sc extends Ac{}class nl extends Ac{constructor(e){super(),this.elements=e}}function PC(n,e){const t=kC(e);for(const r of n.elements)t.some(o=>wo(o,r))||t.push(r);return{arrayValue:{values:t}}}class gu extends Ac{constructor(e){super(),this.elements=e}}function d0(n,e){let t=kC(e);for(const r of n.elements)t=t.filter(o=>!wo(o,r));return{arrayValue:{values:t}}}class wh extends Ac{constructor(e,t){super(),this.It=e,this.yt=t}}function h0(n){return zn(n.integerValue||n.doubleValue)}function kC(n){return km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $m{constructor(e,t){this.field=e,this.transform=t}}class LC{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class f0{}function VC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new wi(n.key,Cn.none()):new Pp(n.key,n.data,Cn.none());{const t=n.data,r=li.empty();let o=new pn(ur.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new mu(n.key,r,new Ws(o.toArray()),Cn.none())}}function ZS(n,e,t){n instanceof Pp?function(r,o,u){const d=r.value.clone(),m=g0(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof mu?function(r,o,u){if(!Gm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=g0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(p0(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Op(n,e,t,r){return n instanceof Pp?function(o,u,d,m){if(!Gm(o.precondition,u))return d;const w=o.value.clone(),D=BC(o.fieldTransforms,m,u);return w.setAll(D),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof mu?function(o,u,d,m){if(!Gm(o.precondition,u))return d;const w=BC(o.fieldTransforms,m,u),D=u.data;return D.setAll(p0(o)),D.setAll(w),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,r):(d=t,Gm(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function UC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Rp(r.transform,o||null);null!=u&&(null===t&&(t=li.empty()),t.set(r.field,u))}return t||null}function MI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ph(t,r,(o,u)=>function FC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof nl&&r instanceof nl||t instanceof gu&&r instanceof gu?ph(t.elements,r.elements,wo):t instanceof wh&&r instanceof wh?wo(t.yt,r.yt):t instanceof Sc&&r instanceof Sc);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Pp extends f0{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mu extends f0{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function p0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function g0(n,e,t){const r=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,xI(d,m,t[o]))}return r}function BC(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,WS(u,d,e))}return r}class wi extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m0 extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y0{constructor(e){this.count=e}}var Cr,Mt;function NI(n){switch(n){default:return rt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function zm(n){if(void 0===n)return ar("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Cr.OK:return ue.OK;case Cr.CANCELLED:return ue.CANCELLED;case Cr.UNKNOWN:return ue.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ue.INTERNAL;case Cr.UNAVAILABLE:return ue.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ue.NOT_FOUND;case Cr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Cr.ABORTED:return ue.ABORTED;case Cr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Cr.DATA_LOSS:return ue.DATA_LOSS;default:return rt()}}(Mt=Cr||(Cr={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return pI(this.inner)}size(){return this.innerSize}}const jC=new Yn(qe.comparator);function Ei(){return jC}const v0=new Yn(qe.comparator);function Eh(...n){let e=v0;for(const t of n)e=e.insert(t.key,t);return e}function RI(n){let e=v0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Eo(){return kp()}function _0(){return kp()}function kp(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const OI=new Yn(qe.comparator),HC=new pn(qe.comparator);function Lt(...n){let e=HC;for(const t of n)e=e.add(t);return e}const il=new pn(Ft);function Fp(){return il}class xc{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Is.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xc(Et.min(),o,Fp(),Ei(),Lt())}}class Is{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Is(r,t,Lt(),Lt(),Lt())}}class qm{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class $C{constructor(e,t){this.targetId=e,this.At=t}}class PI{constructor(e,t,r=pr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kI{constructor(){this.Rt=0,this.bt=w0(),this.Pt=pr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Lt(),t=Lt(),r=Lt();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new Is(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=w0()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class GC{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ei(),this.qt=FI(),this.Kt=new pn(Ft)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(Np(u))if(0===r){const d=new qe(u.path);this.jt(t,d,_n.newNoDocument(d,Et.min()))}else bt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&Np(m.target)){const w=new qe(m.target.path);null!==this.Ut.get(w)||this.ee(d,w)||this.jt(d,w,_n.newNoDocument(w,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=Lt();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const D=this.Xt(w);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new xc(e,t,this.Kt,this.Ut,r);return this.Ut=Ei(),this.qt=FI(),this.Kt=new pn(Ft),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new kI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new pn(Ft),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new kI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function FI(){return new Yn(qe.comparator)}function w0(){return new Yn(qe.comparator)}const KS={asc:"ASCENDING",desc:"DESCENDING"},LI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zC{constructor(e,t){this.databaseId=e,this.gt=t}}function Ih(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qC(n,e){return n.gt?e.toBase64():e.toUint8Array()}function E0(n,e){return Ih(n,e.toTimestamp())}function kr(n){return bt(!!n),Et.fromTimestamp(function(e){const t=da(e);return new Gn(t.seconds,t.nanos)}(n))}function Wm(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function I0(n){const e=en.fromString(n);return bt(T0(e)),e}function bh(n,e){return Wm(n.databaseId,e.path)}function Io(n,e){const t=I0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(VI(t))}function Dh(n,e){return Wm(n.databaseId,e)}function Lp(n){const e=I0(n);return 4===e.length?en.emptyPath():VI(e)}function Ch(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VI(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b0(n,e,t){return{name:bh(n,e),fields:t.value.mapValue.fields}}function D0(n,e,t){const r=Io(n,e.name),o=kr(e.updateTime),u=new li({mapValue:{fields:e.fields}}),d=_n.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Zm(n,e){let t;if(e instanceof Pp)t={update:b0(n,e.key,e.value)};else if(e instanceof wi)t={delete:bh(n,e.key)};else if(e instanceof mu)t={update:b0(n,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof m0))return rt();t={verify:bh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Sc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wh)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:E0(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}function UI(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Cn.updateTime(kr(o.updateTime)):void 0!==o.exists?Cn.exists(o.exists):Cn.none():Cn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(bt("REQUEST_TIME"===d.setToServerValue),m=new Sc):"appendMissingElements"in d?m=new nl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new gu(d.removeAllFromArray.values||[]):"increment"in d?m=new wh(u,d.increment):rt();const w=ur.fromServerFormat(d.fieldPath);return new $m(w,m)}(n,o)):[];var o;if(e.update){const o=Io(n,e.update.name),u=new li({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ws((e.updateMask.fieldPaths||[]).map(D=>ur.fromServerFormat(D)));return new mu(o,u,d,t,r)}return new Pp(o,u,t,r)}if(e.delete){const o=Io(n,e.delete);return new wi(o,t)}if(e.verify){const o=Io(n,e.verify);return new m0(o,t)}return rt()}function jI(n,e){return{documents:[Dh(n,e.path)]}}function C0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Dh(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dh(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const D=w.map(x=>function(R){if("=="===R.op){if(e0(R.value))return{unaryFilter:{field:Vp(R.field),op:"IS_NAN"}};if(bC(R.value))return{unaryFilter:{field:Vp(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(e0(R.value))return{unaryFilter:{field:Vp(R.field),op:"IS_NOT_NAN"}};if(bC(R.value))return{unaryFilter:{field:Vp(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vp(R.field),op:JS(R.op),value:R.value}}}(x));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(D=>{return{field:Vp((x=D).field),direction:QS(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(D=e.limit,n.gt||_h(D)?D:{value:D});var D,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function HI(n){let e=Lp(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){bt(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=KC(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new Dc(Th((R=x).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(x){let R;return R="object"==typeof x?x.value:x,_h(R)?null:R}(t.limit));let w=null;var x;t.startAt&&(w=new fu((x=t.startAt).values||[],!!x.before));let D=null;return t.endAt&&(D=function(x){return new fu(x.values||[],!x.before)}(t.endAt)),CI(e,o,d,u,m,"F",w,D)}function KC(n){return n?void 0!==n.unaryFilter?[YC(n)]:void 0!==n.fieldFilter?[Km(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>KC(e)).reduce((e,t)=>e.concat(t)):rt():[]}function QS(n){return KS[n]}function JS(n){return LI[n]}function Vp(n){return{fieldPath:n.canonicalString()}}function Th(n){return ur.fromServerFormat(n.fieldPath)}function Km(n){return ci.create(Th(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function YC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Th(n.unaryFilter.field);return ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Th(n.unaryFilter.field);return ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Th(n.unaryFilter.field);return ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Th(n.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function QC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function gr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ym(e)),e=$I(n.get(t),e);return Ym(e)}function $I(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Ym(n){return n+"\x01\x01"}function Zs(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:rt()}u=d+2}return new en(r)}const GI=["userId","batchId"];function Ah(n,e){return[n,gr(e)]}function Qm(n,e,t){return[n,gr(e),t]}const Jm={},XS=["prefixPath","collectionGroup","readTime","documentId"],ex=["prefixPath","collectionGroup","documentId"],tx=["collectionGroup","readTime","prefixPath","documentId"],nx=["canonicalId","targetId"],zI=["targetId","path"],JC=["path","targetId"],XC=["collectionId","parent"],eT=["indexId","uid"],tT=["uid","sequenceNumber"],qI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WI=["indexId","uid","orderedDocumentKey"],ZI=["userId","collectionPath","documentId"],nT=["userId","collectionPath","largestBatchId"],rT=["userId","collectionGroup","largestBatchId"],A0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S0=[...A0,"documentOverlays"],iT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x0=iT,M0=[...x0,"indexConfiguration","indexState","indexEntries"];class N0 extends q_{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Wr(n,e){const t=ze(n);return Fi.M(t.ie,e)}class KI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ZS(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Op(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Op(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_0();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const w=VC(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&ph(this.mutations,e.mutations,(t,r)=>MI(t,r))&&ph(this.baseMutations,e.baseMutations,(t,r)=>MI(t,r))}}class YI{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){bt(e.mutations.length===r.length);let o=OI;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new YI(e,t,r,o)}}class R0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sl{constructor(e,t,r,o,u=Et.min(),d=Et.min(),m=pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QI{constructor(e){this.re=e}}function sT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:O0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:bh(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Ih(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Sh(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Sh(e.version)}}var o,u;return r}function O0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xh(n){const e=new Gn(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Mc(n,e){const t=(e.baseMutations||[]).map(u=>UI(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>UI(n.re,u)),o=Gn.fromMillis(e.localWriteTimeMs);return new KI(e.batchId,o,t,r)}function Xm(n){const e=xh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xh(n.lastLimboFreeSnapshotVersion):Et.min();let r;var o;return void 0!==n.query.documents?(bt(1===(o=n.query).documents.length),r=Li(Cc(Lp(o.documents[0])))):r=Li(HI(n.query)),new sl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,pr.fromBase64String(n.resumeToken))}function oT(n,e){const t=Sh(e.snapshotVersion),r=Sh(e.lastLimboFreeSnapshotVersion);let o;o=Np(e.target)?jI(n.re,e.target):C0(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function JI(n){const e=HI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jm(e,e.limit,"L"):e}function XI(n,e){return new R0(e.largestBatchId,UI(n.re,e.overlayMutation))}function aT(n,e){const t=e.path.lastSegment();return[n,gr(e.path.popLast()),t]}function uT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sh(r.readTime),documentKey:gr(r.documentKey.path),largestBatchId:r.largestBatchId}}class i{getBundleMetadata(e,t){return s(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:xh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return s(e).put({bundleId:(r=t).id,createTime:Sh(kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return a(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:JI(o.bundledQuery),readTime:xh(o.readTime)};var o})}saveNamedQuery(e,t){return a(e).put({name:(r=t).name,readTime:Sh(kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function s(n){return Wr(n,"bundles")}function a(n){return Wr(n,"namedQueries")}class l{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new l(e,t.uid||"")}getOverlay(e,t){return c(e).get(aT(this.userId,t)).next(r=>r?XI(this.It,r):null)}getOverlays(e,t){const r=Eo();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new R0(t,d);o.push(this.ue(e,m))}),ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(gr(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(c(e).Y("collectionPathOverlayIndex",m))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Eo(),u=gr(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return c(e).W("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const D=XI(this.It,w);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Eo();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c(e).Z({index:"collectionGroupOverlayIndex",range:m},(w,D,x)=>{const R=XI(this.It,D);u.size()<o||R.largestBatchId===d?(u.set(R.getKey(),R),d=R.largestBatchId):x.done()}).next(()=>u)}ue(e,t){return c(e).put(function(r,o,u){const[d,m,w]=aT(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Zm(r.re,u.mutation)}}(this.It,this.userId,t))}}function c(n){return Wr(n,"documentOverlays")}class g{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Sp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ec(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?_I(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function v(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function E(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=v(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}g.Te=new g;class I{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=E(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=E(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class A{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class N{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class P{constructor(){this.Be=new I,this.Le=new A(this.Be),this.Ue=new N(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ${constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $(this.indexId,this.documentKey,this.arrayValue,r)}}function Y(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ye(n.arrayValue,e.arrayValue),0!==t?t:(t=ye(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function ye(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Fe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=H_(e);if(void 0!==t&&!this.ze(t))return!1;const r=vc(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Ge{constructor(){this.Ye=new st}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Yi.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class st{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new pn(en.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new pn(en.comparator)).toArray()}}const ft=new Uint8Array(0);class Ce{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new st,this.Ze=new rl(r=>fa(r),(r,o)=>Fm(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:gr(o)};return It(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[hI(t),""],!1,!0);return It(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Zs(d.parent))}return r})}addFieldIndex(e,t){const r=Tn(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=bo(e);return u.next(m=>{d.put(uT(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Tn(e),o=bo(e),u=Qt(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Qt(e);let o=!0;const u=new Map;return ie.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=Lt();const m=[];return ie.forEach(u,(w,D)=>{var x;ke("IndexedDbIndexManager",`Using index ${x=w,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${fa(t)}`);const R=function(Nt,Rt){const Vt=H_(Rt);if(void 0===Vt)return null;for(const zt of Lm(Nt,Vt.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(D,w),U=function(Nt,Rt){const Vt=new Map;for(const zt of vc(Rt))for(const di of Lm(Nt,zt.fieldPath))switch(di.op){case"==":case"in":Vt.set(zt.fieldPath.canonicalString(),di.value);break;case"not-in":case"!=":return Vt.set(zt.fieldPath.canonicalString(),di.value),Array.from(Vt.values())}return null}(D,w),z=function(Nt,Rt){const Vt=[];let zt=!0;for(const di of vc(Rt)){const X0=0===di.kind?o0(Nt,di.fieldPath,Nt.startAt):bc(Nt,di.fieldPath,Nt.startAt);Vt.push(X0.value),zt&&(zt=X0.inclusive)}return new fu(Vt,zt)}(D,w),X=function(Nt,Rt){const Vt=[];let zt=!0;for(const di of vc(Rt)){const X0=0===di.kind?bc(Nt,di.fieldPath,Nt.endAt):o0(Nt,di.fieldPath,Nt.endAt);Vt.push(X0.value),zt&&(zt=X0.inclusive)}return new fu(Vt,zt)}(D,w),xe=this.nn(w,D,z),Re=this.nn(w,D,X),ut=this.sn(w,D,U),At=this.rn(w.indexId,R,xe,z.inclusive,Re,X.inclusive,ut);return ie.forEach(At,Nt=>r.J(Nt,t.limit).next(Rt=>{Rt.forEach(Vt=>{const zt=qe.fromSegments(Vt.documentKey);d.has(zt)||(d=d.add(zt),m.push(zt))})}))}).next(()=>m)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),D=w/(null!=t?t.length:1),x=[];for(let R=0;R<w;++R){const U=t?this.on(t[R/D]):ft,z=this.un(e,U,r[R%D],o),X=this.cn(e,U,u[R%D],d),xe=m.map(Re=>this.un(e,U,Re,!0));x.push(...this.createRange(z,X,xe))}return x}un(e,t,r,o){const u=new $(e,qe.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new $(e,qe.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new Fe(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new pn(ur.comparator),w=!1;for(const D of d.filters){const x=D;x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?w=!0:m=m.add(x.field))}for(const D of d.orderBy)D.field.isKeyField()||(m=m.add(D.field));return m.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new P;for(const o of vc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);g.Te.ce(u,d)}return r.$e()}on(e){const t=new P;return g.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new P;return g.Te.ce(Ic(this.databaseId,t),r.qe(function(o){const u=vc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new P);let u=0;for(const d of vc(e)){const m=r[u++];for(const w of o)if(this.ln(t,d.fieldPath)&&km(m))o=this.fn(o,d,m);else{const D=w.qe(d.kind);g.Te.ce(m,D)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new P;w.seed(m.$e()),g.Te.ce(d,w.qe(t.kind)),u.push(w)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof ci&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tn(e),o=bo(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return ie.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(D,x){const R=x?new mh(x.sequenceNumber,new Yi(xh(x.readTime),new qe(Zs(x.documentKey)),x.largestBatchId)):mh.empty(),U=D.fields.map(([z,X])=>new Dp(ur.fromServerFormat(z),X));return new Rm(D.indexId,D.collectionGroup,U,R)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Tn(e),u=bo(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ie.forEach(m,w=>u.put(uT(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ie.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ie.forEach(m,w=>this.wn(e,o,w).next(D=>{const x=this.mn(u,w);return D.isEqual(x)?ie.resolve():this.gn(e,u,w,D,x)}))))})}yn(e,t,r,o){return Qt(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Qt(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Qt(e);let u=new pn(Y);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new $(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new pn(Y);const o=this.an(t,e);if(null==o)return r;const u=H_(t);if(null!=u){const d=e.data.field(u.fieldPath);if(km(d))for(const m of d.arrayValue.values||[])r=r.add(new $(t.indexId,e.key,this.on(m),o))}else r=r.add(new $(t.indexId,e.key,ft,o));return r}gn(e,t,r,o,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,D,x,R){const U=m.getIterator(),z=w.getIterator();let X=vh(U),xe=vh(z);for(;X||xe;){let Re=!1,ut=!1;if(X&&xe){const At=D(X,xe);At<0?ut=!0:At>0&&(Re=!0)}else null!=X?ut=!0:Re=!0;Re?(x(xe),xe=vh(z)):ut?(R(X),X=vh(U)):(X=vh(U),xe=vh(z))}}(o,u,Y,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),ie.waitFor(d)}_n(e){let t=1;return bo(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Y(d,m)).filter((d,m,w)=>!m||0!==Y(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=Y(d,e),w=Y(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&w<0)o.push(d),o.push(d.Ke());else if(w>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,ft,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,ft,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ey)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||rt())).next(ey)}}function It(n){return Wr(n,"collectionParents")}function Qt(n){return Wr(n,"indexEntries")}function Tn(n){return Wr(n,"indexConfiguration")}function bo(n){return Wr(n,"indexState")}function ey(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;z_(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Yi(e.readTime,e.documentKey,t)}const ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ny(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Z({range:d},(x,R,U)=>(m++,U.delete()));u.push(w.next(()=>{bt(1===m)}));const D=[];for(const x of t.mutations){const R=Qm(e,x.key.path,t.batchId);u.push(o.delete(R)),D.push(x.key)}return ie.waitFor(u).next(()=>D)}function Mh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class Nh{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){bt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Nh(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=ol(e),d=pa(e);return d.add({}).next(m=>{bt("number"==typeof m);const w=new KI(m,t,r,o),D=function(U,z,X){const xe=X.baseMutations.map(ut=>Zm(U.re,ut)),Re=X.mutations.map(ut=>Zm(U.re,ut));return{userId:z,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:xe,mutations:Re}}(this.It,this.userId,w),x=[];let R=new pn((U,z)=>Ft(U.canonicalString(),z.canonicalString()));for(const U of o){const z=Qm(this.userId,U.key.path,m);R=R.add(U.key.path.popLast()),x.push(d.put(D)),x.push(u.put(z,Jm))}return R.forEach(U=>{x.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.In[m]=w.keys()}),ie.waitFor(x).next(()=>w)})}lookupMutationBatch(e,t){return pa(e).get(t).next(r=>r?(bt(r.userId===this.userId),Mc(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return pa(e).Z({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(bt(m.batchId>=r),u=Mc(this.It,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pa(e).W("userMutationsIndex",t).next(r=>r.map(o=>Mc(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ah(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return ol(e).Z({range:o},(d,m,w)=>{const[D,x,R]=d,U=Zs(x);if(D===this.userId&&t.path.isEqual(U))return pa(e).get(R).next(z=>{if(!z)throw rt();bt(z.userId===this.userId),u.push(Mc(this.It,z))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pn(Ft);const o=[];return t.forEach(u=>{const d=Ah(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=ol(e).Z({range:m},(D,x,R)=>{const[U,z,X]=D,xe=Zs(z);U===this.userId&&u.path.isEqual(xe)?r=r.add(X):R.done()});o.push(w)}),ie.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Ah(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new pn(Ft);return ol(e).Z({range:d},(w,D,x)=>{const[R,U,z]=w,X=Zs(U);R===this.userId&&r.isPrefixOf(X)?X.length===o&&(m=m.add(z)):x.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(pa(e).get(u).next(d=>{if(null===d)throw rt();bt(d.userId===this.userId),r.push(Mc(this.It,d))}))}),ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return ny(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return ol(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=Zs(u[1]);o.push(w)}else m.done()}).next(()=>{bt(0===o.length)})})}containsKey(e,t){return ry(e,this.userId,t)}Rn(e){return ix(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ry(n,e,t){const r=Ah(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return ol(n).Z({range:u,X:!0},(m,w,D)=>{const[x,R,U]=m;x===e&&R===o&&(d=!0),D.done()}).next(()=>d)}function pa(n){return Wr(n,"mutations")}function ol(n){return Wr(n,"documentMutations")}function ix(n){return Wr(n,"mutationQueues")}class Up{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Up(0)}static vn(){return new Up(-1)}}class cR{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Up(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Et.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>iy(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return iy(e).Z((d,m)=>{const w=Xm(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return iy(e).Z((r,o)=>{const u=Xm(o);t(u)})}Vn(e){return sx(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}Sn(e,t){return sx(e).put("targetGlobalKey",t)}Dn(e,t){return iy(e).put(oT(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fa(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return iy(e).Z({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const D=Xm(m);Fm(t,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Rh(e);return t.forEach(d=>{const m=gr(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=Rh(e);return ie.forEach(t,u=>{const d=gr(u.path);return ie.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Rh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Rh(e);let u=Lt();return o.Z({range:r,X:!0},(d,m,w)=>{const D=Zs(d[1]),x=new qe(D);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=gr(t.path),o=IDBKeyRange.bound([r],[hI(r)],!1,!0);let u=0;return Rh(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],w,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}se(e,t){return iy(e).get(t).next(r=>r?Xm(r):null)}}function iy(n){return Wr(n,"targets")}function sx(n){return Wr(n,"targetGlobal")}function Rh(n){return Wr(n,"targetDocuments")}function ox([n,e],[t,r]){const o=Ft(n,t);return 0===o?Ft(e,r):o}class dR{constructor(e){this.xn=e,this.buffer=new pn(ox),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ox(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ai(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xu(r)}yield t.Fn(3e5)}))}}class fR{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(ui.at);const r=new dR(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(ty)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ty):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,w,D;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(u=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(D=Date.now(),Nm()<=su.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${R} documents in `+(D-w)+`ms\nTotal Duration: ${D-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}class pR{constructor(e,t){this.db=e,this.garbageCollector=new fR(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return eb(e,r)}removeReference(e,t,r){return eb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return eb(e,t)}Gn(e,t){return function(r,o){let u=!1;return ix(r).tt(d=>ry(r,d,o).next(m=>(m&&(u=!0),ie.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const w=this.Gn(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Et.min()),Rh(e).delete([0,gr(d.path)])))});o.push(w)}}).next(()=>ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return eb(e,t)}Kn(e,t){const r=Rh(e);let o,u=ui.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:D})=>{0===d?(u!==ui.at&&t(new qe(Zs(o)),u),u=D,o=w):u=ui.at}).next(()=>{u!==ui.at&&t(new qe(Zs(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eb(n,e){return Rh(n).put((r=n.currentSequenceNumber,{targetId:0,path:gr(e.path),sequenceNumber:r}));var r}class ax{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gR{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Bp(e).put(r)}removeEntry(e,t,r){return Bp(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],O0(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=_n.newInvalidDocument(t);return Bp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:_n.newInvalidDocument(t)};return Bp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(P0(t))},(o,u)=>{r={document:this.jn(t,u),size:Mh(u)}}).next(()=>r)}getEntries(e,t){let r=Ei();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=Ei(),o=new Yn(qe.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,Mh(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let o=new pn(dx);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(P0(o.first()),P0(o.last())),d=o.getIterator();let m=d.getNext();return Bp(e).Z({index:"documentKeyIndex",range:u},(w,D,x)=>{const R=qe.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&dx(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?x.j(P0(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),O0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bp(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=Ei();for(const w of d){const D=this.jn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(D.key,D)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Ei();const d=cx(t,r),m=cx(t,Yi.max());return Bp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,D,x)=>{const R=this.jn(qe.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(R.key,R),u.size===o&&x.done()}).next(()=>u)}newChangeBuffer(e){return new mR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lx(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Qn(e,t){return lx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function rx(n,e){let t;if(e.document)t=D0(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),o=xh(e.noDocument.readTime);t=_n.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=qe.fromSegments(e.unknownDocument.path),o=xh(e.unknownDocument.version);t=_n.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Gn(r[0],r[1]);return Et.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return _n.newInvalidDocument(e)}}function ux(n){return new gR(n)}class mR extends ax{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new rl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new pn((u,d)=>Ft(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=sT(this.Yn.It,d);o=o.add(u.path.popLast()),r+=Mh(w)-m.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=sT(this.Yn.It,d.convertToNoDocument(Et.min()));t.push(this.Yn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function lx(n){return Wr(n,"remoteDocumentGlobal")}function Bp(n){return Wr(n,"remoteDocumentsV14")}function P0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cx(n,e){const t=e.documentKey.path.toArray();return[n,O0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dx(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Ft(t[u],r[u]),o)return o;return o=Ft(t.length,r.length),o||(o=Ft(t[t.length-2],r[r.length-2]),o||Ft(t[t.length-1],r[r.length-1]))}class yR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Op(r.mutation,o,Ws.empty(),Gn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Lt()){const o=Eo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=Eh();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Lt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=Ei();const d=kp(),m=kp();return t.forEach((w,D)=>{const x=r.get(D.key);o.has(D.key)&&(void 0===x||x.mutation instanceof mu)?u=u.insert(D.key,D):void 0!==x&&(d.set(D.key,x.mutation.getFieldMask()),Op(x.mutation,D,x.mutation.getFieldMask(),Gn.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((D,x)=>d.set(D,x)),t.forEach((D,x)=>{var R;return m.set(D,new yR(x,null!==(R=d.get(D))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=kp();let o=new Yn((d,m)=>d-m),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const D=t.get(w);if(null===D)return;let x=r.get(w)||Ws.empty();x=m.applyToLocalView(D,x),r.set(w,x);const R=(o.get(m.batchId)||Lt()).add(w);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),D=w.key,x=w.value,R=_0();x.forEach(U=>{if(!u.has(U)){const z=VC(t.get(U),r.get(U));null!==z&&R.set(U,z),u=u.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,R))}return ie.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Bm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Eo());let m=-1,w=u;return d.next(D=>ie.forEach(D,(x,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(x)?ie.resolve():this.getBaseDocument(e,x,R).next(U=>{w=w.insert(x,U)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,w,D,Lt())).next(x=>({batchId:m,changes:RI(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let o=Eh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Eh();return this.indexManager.getCollectionParents(e,o).next(d=>ie.forEach(d,m=>{const w=(D=t,x=m.child(o),new pu(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(D=>{D.forEach((x,R)=>{u=u.insert(x,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,w)=>{const D=w.getKey();null===o.get(D)&&(o=o.insert(D,_n.newInvalidDocument(D)))});let d=Eh();return o.forEach((m,w)=>{const D=u.get(m);void 0!==D&&Op(D.mutation,w,Ws.empty(),Gn.now()),SI(t,w)&&(d=d.insert(m,w))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(_n.newInvalidDocument(t))}}class vR{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:JI(r.bundledQuery),readTime:kr(r.readTime)}),ie.resolve();var r}}class _R{constructor(){this.overlays=new Yn(qe.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eo();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Eo(),u=t.length+1,d=new qe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Yn((D,x)=>D-x);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let x=u.get(D.largestBatchId);null===x&&(x=Eo(),u=u.insert(D.largestBatchId,x)),x.set(D.getKey(),D)}}const m=Eo(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,x)=>m.set(D,x)),!(m.size()>=o)););return ie.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new R0(t,r));let u=this.es.get(t);void 0===u&&(u=Lt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class lT{constructor(){this.ns=new pn(bi.ss),this.rs=new pn(bi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new bi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new bi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new en([])),r=new bi(t,e),o=new bi(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new en([])),r=new bi(t,e),o=new bi(t,e+1);let u=Lt();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new bi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class bi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||qe.comparator(e.key,t.key)}}class wR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new pn(bi.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new KI(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new bi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bi(t,0),o=new bi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pn(Ft);return t.forEach(o=>{const u=new bi(o,0),d=new bi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;qe.isDocumentKey(u)||(u=u.child(""));const d=new bi(new qe(u),0);let m=new pn(Ft);return this.gs.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(w._s)),!0)},d),ie.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,o=>{const u=new bi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new bi(t,0),o=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ER{constructor(e){this.Es=e,this.docs=new Yn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=Ei();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),ie.resolve(r)}getAllFromCollection(e,t,r){let o=Ei();const u=new qe(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||z_(G_(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,r,o){rt()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new IR(this)}getSize(e){return ie.resolve(this.size)}}class IR extends ax{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class bR{constructor(e){this.persistence=e,this.Rs=new rl(t=>fa(t),Fm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new lT,this.targetCount=0,this.vs=Up.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Up(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class fx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ui(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new bR(this),this.indexManager=new Ge,this.remoteDocumentCache=new ER(r=>this.referenceDelegate.xs(r)),this.It=new QI(t),this.Ns=new vR(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _R,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new wR(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new DR(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ms(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class DR extends q_{constructor(e){super(),this.currentSequenceNumber=e}}class tb{constructor(e){this.persistence=e,this.Fs=new lT,this.$s=null}static Bs(e){return new tb(e)}get Ls(){if(this.$s)return this.$s;throw rt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const o=qe.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,Et.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class CR{constructor(e){this.It=e}$(e,t,r,o){const u=new Om("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GI,{unique:!0}),m.createObjectStore("documentMutations"),px(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),px(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",D)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").W().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GI,{unique:!0});const x=w.store("mutations"),R=D.map(U=>x.put(U));return ie.waitFor(R)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:ZI});w.createIndex("collectionPathOverlayIndex",nT,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",rT,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:XS});w.createIndex("documentKeyIndex",ex),w.createIndex("collectionGroupIndex",tx)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:eT}).createIndex("sequenceNumberIndex",tT,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:qI}).createIndex("documentKeyIndex",WI,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Mh(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ie.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>ie.forEach(m,w=>{bt(w.userId===u.userId);const D=Mc(this.It,w);return ny(e,u.userId,D).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const w=new en(d),D=[0,gr(w)];u.push(t.get(D).next(x=>x?ie.resolve():t.put({targetId:0,path:gr(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:XC});const r=t.store("collectionParents"),o=new st,u=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:gr(w)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const w=new en(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,w],D)=>{const x=Zs(m);return u(x.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=Xm(o),d=oT(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(D=d,D.document?new qe(en.fromString(D.document.name).popFirst(5)):D.noDocument?qe.fromSegments(D.noDocument.path):D.unknownDocument?qe.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const x={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(x))}).next(()=>ie.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=ux(this.It),u=new fx(tb.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(w=>{var D;let x=null!==(D=m.get(w.userId))&&void 0!==D?D:Lt();Mc(this.It,w).keys().forEach(R=>x=x.add(R)),m.set(w.userId,x)}),ie.forEach(m,(w,D)=>{const x=new qr(D),R=l.oe(this.It,x),U=u.getIndexManager(x),z=Nh.oe(x,this.It,U,u.referenceDelegate);return new hx(o,z,R,U).recalculateAndSaveOverlaysForDocumentKeys(new N0(t,ui.at),w).next()})})}}function px(n){n.createObjectStore("targetDocuments",{keyPath:zI}).createIndex("documentTargetsIndex",JC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nx,{unique:!0}),n.createObjectStore("targetGlobal")}const cT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dT{constructor(e,t,r,o,u,d,m,w,D,x,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=D,this.Ys=x,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=U=>Promise.resolve(),!dT.C())throw new Ae(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pR(this,o),this.ii=t+"main",this.It=new QI(w),this.ri=new Fi(this.ii,this.Xs,new CR(this.It)),this.Cs=new cR(this.referenceDelegate,this.It),this.remoteDocumentCache=ux(this.It),this.Ns=new i,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===x&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ue.FAILED_PRECONDITION,cT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ui(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,fe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ai(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return k0(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return nb(e).delete(this.clientId)}yi(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Wr(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return ie.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ae(ue.FAILED_PRECONDITION,cT);return!1}}return!(!this.networkEnabled||!this.inForeground)||nb(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new N0(t,ui.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>nb(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Nh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ce(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return l.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?M0:14===d?x0:13===d?iT:12===d?S0:11===d?A0:void rt();var d;let m;return this.ri.runTransaction(e,o,u,w=>(m=new N0(w,this.Ss?this.Ss.next():ui.at),"readwrite-primary"===t?this.fi(m).next(D=>!!D||this.di(m)).next(D=>{if(!D)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ae(ue.FAILED_PRECONDITION,vC);return r(m)}).next(D=>this.wi(m).next(()=>D)):this.Vi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Vi(e){return k0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ue.FAILED_PRECONDITION,cT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return k0(e).put("owner",t)}static C(){return Fi.C()}_i(e){const t=k0(e);return t.get("owner").next(r=>this.mi(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function k0(n){return Wr(n,"owner")}function nb(n){return Wr(n,"clientMetadata")}function hT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=Lt(),o=Lt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fT(e,t.fromCache,r,o)}}class gx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(TI(t))return ie.resolve(null);let r=Li(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=jm(t,null,"F"),r=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Lt(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const D=this.Fi(t,m);return this.$i(t,D,d,w.readTime)?this.ki(e,jm(t,null,"F")):this.Bi(e,D,t,w)}))})))}Oi(e,t,r,o){return TI(t)||o.isEqual(Et.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Mi(e,t):(Nm()<=su.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),AI(t)),this.Bi(e,d,t,$_(o,-1)))})}Fi(e,t){let r=new pn(MC(e));return t.forEach((o,u)=>{SI(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mi(e,t){return Nm()<=su.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",AI(t)),this.Ni.getDocumentsMatchingQuery(e,t,Yi.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class TR{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Yn(Ft),this.qi=new rl(u=>fa(u),Fm),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function mx(n,e,t,r){return new TR(n,e,t,r)}function yx(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,fe.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Lt();for(const D of o){d.push(D.batchId);for(const x of D.mutations)w=w.add(x.key)}for(const D of u){m.push(D.batchId);for(const x of D.mutations)w=w.add(x.key)}return t.localDocuments.getDocuments(r,w).next(D=>({ji:D,removedBatchIds:d,addedBatchIds:m}))})})}),pT.apply(this,arguments)}function AR(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,D){const x=w.batch,R=x.keys();let U=ie.resolve();return R.forEach(z=>{U=U.next(()=>D.getEntry(m,z)).next(X=>{const xe=w.docVersions.get(z);bt(null!==xe),X.version.compareTo(xe)<0&&(x.applyToRemoteDocument(X,w),X.isValidDocument()&&(X.setReadTime(w.commitVersion),D.addEntry(X)))})}),U.next(()=>d.mutationQueue.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Lt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function vx(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function SR(n,e){const t=ze(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((x,R)=>{const U=o.get(R);if(!U)return;m.push(t.Cs.removeMatchingKeys(u,x.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(u,x.addedDocuments,R)));let z=U.withSequenceNumber(u.currentSequenceNumber);var X,xe,Re;e.targetMismatches.has(R)?z=z.withResumeToken(pr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):x.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(x.resumeToken,r)),o=o.insert(R,z),xe=z,Re=x,(0===(X=U).resumeToken.approximateByteSize()||xe.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,z))});let w=Ei(),D=Lt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),m.push(_x(u,d,e.documentUpdates).next(x=>{w=x.Wi,D=x.zi})),!r.isEqual(Et.min())){const x=t.Cs.getLastRemoteSnapshotVersion(u).next(R=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(x)}return ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,D)).next(()=>w)}).then(u=>(t.Ui=o,u))}function _x(n,e,t){let r=Lt(),o=Lt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Ei();return t.forEach((m,w)=>{const D=u.get(m);w.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(Et.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",w.version)}),{Wi:d,zi:o}})}function xR(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sy(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,ie.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new sl(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function oy(n,e,t){return gT.apply(this,arguments)}function gT(){return gT=(0,fe.Z)(function*(n,e,t){const r=ze(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ai(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),gT.apply(this,arguments)}function rb(n,e,t){const r=ze(n);let o=Et.min(),u=Lt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,D){const x=ze(m),R=x.qi.get(D);return void 0!==R?ie.resolve(x.Ui.get(R)):x.Cs.getTargetData(w,D)}(r,d,Li(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:Et.min(),t?u:Lt())).next(m=>(Ix(r,xC(e),m),{documents:m,Hi:u})))}function wx(n,e){const t=ze(n),r=ze(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function Ex(n,e){const t=ze(n),r=t.Ki.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,$_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Ix(t,e,o),o))}function Ix(n,e,t){let r=n.Ki.get(e)||Et.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function mT(){return mT=(0,fe.Z)(function*(n,e,t,r){const o=ze(n);let u=Lt(),d=Ei();for(const D of t){const x=e.Ji(D.metadata.name);D.document&&(u=u.add(x));const R=e.Yi(D);R.setReadTime(e.Xi(D.metadata.readTime)),d=d.insert(x,R)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),w=yield sy(o,(D=r,Li(Cc(en.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>_x(D,m,d).next(x=>(m.apply(D),x)).next(x=>o.Cs.removeMatchingKeysForTargetId(D,w.targetId).next(()=>o.Cs.addMatchingKeys(D,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,x.Wi,x.zi)).next(()=>x.Wi)))}),mT.apply(this,arguments)}function NR(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,fe.Z)(function*(n,e,t=Lt()){const r=yield sy(n,Li(JI(e.bundledQuery))),o=ze(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=kr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(pr.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),yT.apply(this,arguments)}function bx(n,e){return`firestore_clients_${n}_${e}`}function Dx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function vT(n,e){return`firestore_targets_${n}_${e}`}class ib{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ae(o.error.code,o.error.message))),d?new ib(e,t,o.state,u):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class F0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ae(r.error.code,r.error.message))),u?new F0(e,r.state,o):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Fp();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Q_(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new sb(e,u):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _T{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _T(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wT{constructor(){this.activeTargetIds=Fp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ET{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yn(Ft),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=bx(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new wT),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(bx(e.persistenceKey,o));if(u){const d=sb.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(vT(this.persistenceKey,e));if(r){const o=F0.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=ui.at;if(null!=u)try{const m=JSON.parse(u);bt("number"==typeof m),d=m}catch(m){ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==ui.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new ib(this.currentUser,e,t,r),u=Dx(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=Dx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=vT(this.persistenceKey,e),u=new F0(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return sb.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return ib.Zi(new qr(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return F0.Zi(o,t)}yr(e){return _T.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Fp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Cx{constructor(){this.Lr=new wT,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new wT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RR{qr(e){}shutdown(){}}class Tx{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class kR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,u){const d=this.ho(e,t);ke("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(w=>(ke("RestConnection","Received: ",w),w),w=>{throw lu("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}_o(e,t,r,o,u,d){return this.ao(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.oo}/v1/${t}:${OR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new uC;m.setWithCredentials(!0),m.listenOnce(F_.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case k_.NO_ERROR:const D=m.getResponseJson();ke("Connection","XHR received:",JSON.stringify(D)),u(D);break;case k_.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),d(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case k_.HTTP_ERROR:const x=m.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const U=function(z){const X=z.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(X)>=0?X:ue.UNKNOWN}(R.status);d(new Ae(U,R.message))}else d(new Ae(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);m.send(t,"POST",w,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oC(),d=aC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new U_({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=o.join("");ke("Connection","Creating WebChannel: "+w,m);const D=u.createWebChannel(w,m);let x=!1,R=!1;const U=new PR({Hr:X=>{R?ke("Connection","Not sending because WebChannel is closed:",X):(x||(ke("Connection","Opening WebChannel transport."),D.open(),x=!0),ke("Connection","WebChannel sending:",X),D.send(X))},Jr:()=>D.close()}),z=(X,xe,Re)=>{X.listen(xe,ut=>{try{Re(ut)}catch(At){setTimeout(()=>{throw At},0)}})};return z(D,xm.EventType.OPEN,()=>{R||ke("Connection","WebChannel transport opened.")}),z(D,xm.EventType.CLOSE,()=>{R||(R=!0,ke("Connection","WebChannel transport closed"),U.io())}),z(D,xm.EventType.ERROR,X=>{R||(R=!0,lu("Connection","WebChannel transport errored:",X),U.io(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),z(D,xm.EventType.MESSAGE,X=>{var xe;if(!R){const Re=X.data[0];bt(!!Re);const ut=Re,At=ut.error||(null===(xe=ut[0])||void 0===xe?void 0:xe.error);if(At){ke("Connection","WebChannel received error:",At);const Nt=At.status;let Rt=function(zt){const di=Cr[zt];if(void 0!==di)return zm(di)}(Nt),Vt=At.message;void 0===Rt&&(Rt=ue.INTERNAL,Vt="Unknown error status: "+Nt+" with message "+At.message),R=!0,U.io(new Ae(Rt,Vt)),D.close()}else ke("Connection","WebChannel received:",Re),U.ro(Re)}}),z(d,L_.STAT_EVENT,X=>{X.stat===V_.PROXY?ke("Connection","Detected buffering proxy"):X.stat===V_.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.so()},0),U}}function Ax(){return typeof window<"u"?window:null}function ob(){return typeof document<"u"?document:null}function L0(n){return new zC(n,!0)}class IT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Sx{constructor(e,t,r,o,u,d,m,w){this.Hs=e,this.vo=r,this.Vo=o,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new IT(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,fe.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,fe.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.No.Ro((0,fe.Z)(function*(){e.state=0,e.start()}))}jo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FR extends Sx{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function ZC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),o=e.targetChange.targetIds||[],u=function(w,D){return w.gt?(bt(void 0===D||"string"==typeof D),pr.fromBase64String(D||"")):(bt(void 0===D||D instanceof Uint8Array),pr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const D=void 0===w.code?ue.UNKNOWN:zm(w.code);return new Ae(D,w.message||"")}(d);t=new PI(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Io(n,r.document.name),u=kr(r.document.updateTime),d=new li({mapValue:{fields:r.document.fields}}),m=_n.newFoundDocument(o,u,d);t=new qm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Io(n,r.document),u=r.readTime?kr(r.readTime):Et.min(),d=_n.newNoDocument(o,u);t=new qm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Io(n,r.document);t=new qm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new y0(r.count||0);t=new $C(r.targetId,u)}}var w;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return Et.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?kr(u.readTime):Et.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Ch(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=Np(m)?{documents:jI(o,m)}:{query:C0(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=qC(o,u.resumeToken):u.snapshotVersion.compareTo(Et.min())>0&&(d.readTime=Ih(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function YS(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Ch(this.It),t.removeTarget=e,this.Lo(t)}}class LR extends Sx{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function BI(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,o){let u=kr(r.updateTime?r.updateTime:o);return u.isEqual(Et.min())&&(u=kr(o)),new LC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.tu(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ch(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Zm(this.It,r))};this.Lo(t)}}class VR extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=o,this.su=!1}iu(){if(this.su)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.ao(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ue.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ue.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class BR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ar(t),this.uu=!1):ke("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class jR{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(m=>{r.enqueueAndForget((0,fe.Z)(function*(){var w;Nc(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,fe.Z)(function*(D){const x=ze(D);x.wu.add(4),yield ay(x),x.yu.set("Unknown"),x.wu.delete(4),yield V0(x)}),function(D){return w.apply(this,arguments)})(d))}))}),this.yu=new BR(r,o)}}function V0(n){return DT.apply(this,arguments)}function DT(){return DT=(0,fe.Z)(function*(n){if(Nc(n))for(const e of n.mu)yield e(!0)}),DT.apply(this,arguments)}function ay(n){return CT.apply(this,arguments)}function CT(){return CT=(0,fe.Z)(function*(n){for(const e of n.mu)yield e(!1)}),CT.apply(this,arguments)}function ab(n,e){const t=ze(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),ST(t)?AT(t):ly(t).Oo()&&TT(t,e))}function U0(n,e){const t=ze(n),r=ly(t);t._u.delete(e),r.Oo()&&xx(t,e),0===t._u.size&&(r.Oo()?r.$o():Nc(t)&&t.yu.set("Unknown"))}function TT(n,e){n.pu.Mt(e.targetId),ly(n).Ho(e)}function xx(n,e){n.pu.Mt(e),ly(n).Jo(e)}function AT(n){n.pu=new GC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),ly(n).start(),n.yu.cu()}function ST(n){return Nc(n)&&!ly(n).ko()&&n._u.size>0}function Nc(n){return 0===ze(n).wu.size}function Mx(n){n.pu=void 0}function HR(n){return xT.apply(this,arguments)}function xT(){return xT=(0,fe.Z)(function*(n){n._u.forEach((e,t)=>{TT(n,e)})}),xT.apply(this,arguments)}function $R(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,fe.Z)(function*(n,e){Mx(n),ST(n)?(n.yu.lu(e),AT(n)):n.yu.set("Unknown")}),MT.apply(this,arguments)}function GR(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=(0,fe.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof PI&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o._u.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o._u.delete(m),o.pu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ub(n,r)}else if(e instanceof qm?n.pu.Gt(e):e instanceof $C?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Et.min()))try{const r=yield vx(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.pu.te(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=o._u.get(w);D&&o._u.set(w,D.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=o._u.get(m);if(!w)return;o._u.set(m,w.withResumeToken(pr.EMPTY_BYTE_STRING,w.snapshotVersion)),xx(o,m);const D=new sl(w.target,m,1,w.sequenceNumber);TT(o,D)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield ub(n,r)}var r}),NT.apply(this,arguments)}function ub(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=(0,fe.Z)(function*(n,e,t){if(!ai(e))throw e;n.wu.add(1),yield ay(n),n.yu.set("Offline"),t||(t=()=>vx(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield V0(n)}))}),RT.apply(this,arguments)}function Nx(n,e){return e().catch(t=>ub(n,t,e))}function uy(n){return OT.apply(this,arguments)}function OT(){return OT=(0,fe.Z)(function*(n){const e=ze(n),t=Oh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;zR(e);)try{const o=yield xR(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,qR(e,o)}catch(o){yield ub(e,o)}Rx(e)&&Ox(e)}),OT.apply(this,arguments)}function zR(n){return Nc(n)&&n.du.length<10}function qR(n,e){n.du.push(e);const t=Oh(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function Rx(n){return Nc(n)&&!Oh(n).ko()&&n.du.length>0}function Ox(n){Oh(n).start()}function WR(n){return PT.apply(this,arguments)}function PT(){return PT=(0,fe.Z)(function*(n){Oh(n).nu()}),PT.apply(this,arguments)}function ZR(n){return kT.apply(this,arguments)}function kT(){return kT=(0,fe.Z)(function*(n){const e=Oh(n);for(const t of n.du)e.Zo(t.mutations)}),kT.apply(this,arguments)}function KR(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=(0,fe.Z)(function*(n,e,t){const r=n.du.shift(),o=YI.from(r,e,t);yield Nx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield uy(n)}),FT.apply(this,arguments)}function YR(n,e){return LT.apply(this,arguments)}function LT(){return LT=(0,fe.Z)(function*(n,e){var t;e&&Oh(n).Xo&&(yield(t=(0,fe.Z)(function*(r,o){if(NI(u=o.code)&&u!==ue.ABORTED){const d=r.du.shift();Oh(r).Fo(),yield Nx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield uy(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Rx(n)&&Ox(n)}),LT.apply(this,arguments)}function Px(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,fe.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Nc(t);t.wu.add(3),yield ay(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield V0(t)}),VT.apply(this,arguments)}function UT(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,fe.Z)(function*(n,e){const t=ze(n);e?(t.wu.delete(2),yield V0(t)):e||(t.wu.add(2),yield ay(t),t.yu.set("Unknown"))}),BT.apply(this,arguments)}function ly(n){return n.Iu||(n.Iu=function(e,t,r){const o=ze(e);return o.iu(),new FR(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:HR.bind(null,n),Zr:$R.bind(null,n),zo:GR.bind(null,n)}),n.mu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Iu.Fo(),ST(n)?AT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Mx(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Oh(n){return n.Tu||(n.Tu=function(e,t,r){const o=ze(e);return o.iu(),new LR(t,o.So,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:WR.bind(null,n),Zr:YR.bind(null,n),eu:ZR.bind(null,n),tu:KR.bind(null,n)}),n.mu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Tu.Fo(),yield uy(n)):(yield n.Tu.stop(),n.du.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class jT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new jT(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(ar("AsyncQueue",`${e}: ${n}`),ai(n))return new Ae(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class dy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Eh(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new dy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class kx{constructor(){this.Eu=new Yn(qe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):rt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hy{constructor(e,t,r,o,u,d,m,w,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new hy(e,t,dy.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class QR{constructor(){this.Ru=void 0,this.listeners=[]}}class JR{constructor(){this.queries=new rl(e=>c0(e),Hm),this.onlineState="Unknown",this.bu=new Set}}function HT(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,fe.Z)(function*(n,e){const t=ze(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new QR),o)try{u.Ru=yield t.onListen(r)}catch(d){const m=cy(d,`Initialization of query '${AI(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.vu(u.Ru)&&qT(t)}),$T.apply(this,arguments)}function GT(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,fe.Z)(function*(n,e){const t=ze(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),zT.apply(this,arguments)}function XR(n,e){const t=ze(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.vu(o)&&(r=!0);d.Ru=o}}r&&qT(t)}function eO(n,e,t){const r=ze(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function qT(n){n.bu.forEach(e=>{e.next()})}class WT{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new hy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=hy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class tO{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Fx{constructor(e){this.It=e}Ji(e){return Io(this.It,e)}Yi(e){return e.metadata.exists?D0(this.It,e.document,!1):_n.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return kr(e)}}class nO{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Fx(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Lt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function MR(n,e,t,r){return mT.apply(this,arguments)}(e.localStore,new Fx(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield NR(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Lx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Vx{constructor(e){this.key=e}}class Ux{constructor(e){this.key=e}}class Bx{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Lt(),this.mutatedKeys=Lt(),this.Gu=MC(e),this.Qu=new dy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new kx,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,R)=>{const U=o.get(x),z=SI(this.query,R)?R:null,X=!!U&&this.mutatedKeys.has(U.key),xe=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Re=!1;U&&z?U.data.isEqual(z.data)?X!==xe&&(r.track({type:3,doc:z}),Re=!0):this.Hu(U,z)||(r.track({type:2,doc:z}),Re=!0,(w&&this.Gu(z,w)>0||D&&this.Gu(z,D)<0)&&(m=!0)):!U&&z?(r.track({type:0,doc:z}),Re=!0):U&&!z&&(r.track({type:1,doc:U}),Re=!0,(w||D)&&(m=!0)),Re&&(z?(d=d.add(z),u=xe?u.add(x):u.delete(x)):(d=d.delete(x),u=u.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{Qu:d,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((D,x)=>function(R,U){const z=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return z(R)-z(U)}(D.type,x.type)||this.Gu(D.doc,x.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,w=m!==this.qu;return this.qu=m,0!==u.length||w?{snapshot:new hy(this.query,e.Qu,o,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new kx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Lt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Ux(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Vx(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Lt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return hy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class rO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iO{constructor(e){this.key=e,this.nc=!1}}class sO{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new rl(m=>c0(m),Hm),this.rc=new Map,this.oc=new Set,this.uc=new Yn(qe.comparator),this.cc=new Map,this.ac=new lT,this.hc={},this.lc=new Map,this.fc=Up.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function oO(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,fe.Z)(function*(n,e){const t=yA(n);let r,o;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ec();else{const d=yield sy(t.localStore,Li(e));t.isPrimaryClient&&ab(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield KT(t,e,r,"current"===m,d.resumeToken)}return o}),ZT.apply(this,arguments)}function KT(n,e,t,r,o){return YT.apply(this,arguments)}function YT(){return YT=(0,fe.Z)(function*(n,e,t,r,o){n._c=(R,U,z)=>{return(X=(0,fe.Z)(function*(xe,Re,ut,At){let Nt=Re.view.Wu(ut);Nt.$i&&(Nt=yield rb(xe.localStore,Re.query,!1).then(({documents:zt})=>Re.view.Wu(zt,Nt)));const Rt=At&&At.targetChanges.get(Re.targetId),Vt=Re.view.applyChanges(Nt,xe.isPrimaryClient,Rt);return oA(xe,Re.targetId,Vt.Xu),Vt.snapshot}),function(xe,Re,ut,At){return X.apply(this,arguments)})(n,R,U,z);var X};const u=yield rb(n.localStore,e,!0),d=new Bx(e,u.Hi),m=d.Wu(u.documents),w=Is.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),D=d.applyChanges(m,n.isPrimaryClient,w);oA(n,t,D.Xu);const x=new rO(e,t,d);return n.ic.set(e,x),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),D.snapshot}),YT.apply(this,arguments)}function aO(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,fe.Z)(function*(n,e){const t=ze(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(u=>!Hm(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield oy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),U0(t.remoteStore,r.targetId),fy(t,r.targetId)}).catch(Xu))):(fy(t,r.targetId),yield oy(t.localStore,r.targetId,!0))}),QT.apply(this,arguments)}function JT(){return JT=(0,fe.Z)(function*(n,e,t){const r=vA(n);try{const o=yield function(u,d){const m=ze(u),w=Gn.now(),D=d.reduce((U,z)=>U.add(z.key),Lt());let x,R;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>{let z=Ei(),X=Lt();return m.Gi.getEntries(U,D).next(xe=>{z=xe,z.forEach((Re,ut)=>{ut.isValidDocument()||(X=X.add(Re))})}).next(()=>m.localDocuments.getOverlayedDocuments(U,z)).next(xe=>{x=xe;const Re=[];for(const ut of d){const At=UC(ut,x.get(ut.key).overlayedDocument);null!=At&&Re.push(new mu(ut.key,At,EI(At.value.mapValue),Cn.exists(!0)))}return m.mutationQueue.addMutationBatch(U,w,Re,d)}).next(xe=>{R=xe;const Re=xe.applyToLocalDocumentSet(x,X);return m.documentOverlayCache.saveOverlays(U,xe.batchId,Re)})}).then(()=>({batchId:R.batchId,changes:RI(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let w=u.hc[u.currentUser.toKey()];w||(w=new Yn(Ft)),w=w.insert(d,m),u.hc[u.currentUser.toKey()]=w}(r,o.batchId,t),yield Rc(r,o.changes),yield uy(r.remoteStore)}catch(o){const u=cy(o,"Failed to persist write");t.reject(u)}}),JT.apply(this,arguments)}function jx(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,fe.Z)(function*(n,e){const t=ze(n);try{const r=yield SR(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.cc.get(u);d&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?bt(d.nc):o.removedDocuments.size>0&&(bt(d.nc),d.nc=!1))}),yield Rc(t,r,e)}catch(r){yield Xu(r)}}),XT.apply(this,arguments)}function Hx(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=ze(u);m.onlineState=d;let w=!1;m.queries.forEach((D,x)=>{for(const R of x.listeners)R.Pu(d)&&(w=!0)}),w&&qT(m)}(r.eventManager,e),o.length&&r.sc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lO(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,fe.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),u=o&&o.key;if(u){let d=new Yn(qe.comparator);d=d.insert(u,_n.newNoDocument(u,Et.min()));const m=Lt().add(u),w=new xc(Et.min(),new Map,new pn(Ft),d,m);yield jx(r,w),r.uc=r.uc.remove(u),r.cc.delete(e),aA(r)}else yield oy(r.localStore,e,!1).then(()=>fy(r,e,t)).catch(Xu)}),eA.apply(this,arguments)}function cO(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,fe.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const o=yield AR(t.localStore,e);sA(t,r,null),iA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(t,o)}catch(o){yield Xu(o)}}),tA.apply(this,arguments)}function dO(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,fe.Z)(function*(n,e,t){const r=ze(n);try{const o=yield function(u,d){const m=ze(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.mutationQueue.lookupMutationBatch(w,d).next(x=>(bt(null!==x),D=x.keys(),m.mutationQueue.removeMutationBatch(w,x))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,D,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,D)).next(()=>m.localDocuments.getDocuments(w,D))})}(r.localStore,e);sA(r,e,t),iA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rc(r,o)}catch(o){yield Xu(o)}}),nA.apply(this,arguments)}function rA(){return rA=(0,fe.Z)(function*(n,e){const t=ze(n);Nc(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=ze(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=cy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),rA.apply(this,arguments)}function iA(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function sA(n,e,t){const r=ze(n);let o=r.hc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$x(n,r)})}function $x(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(U0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),aA(n))}function oA(n,e,t){for(const r of t)r instanceof Vx?(n.ac.addReference(r.key,e),fO(n,r)):r instanceof Ux?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$x(n,r.key)):rt()}function fO(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.oc.add(r),aA(n))}function aA(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new qe(en.fromString(e)),r=n.fc.next();n.cc.set(r,new iO(t)),n.uc=n.uc.insert(t,r),ab(n.remoteStore,new sl(Li(Cc(t.path)),r,2,ui.at))}}function Rc(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,fe.Z)(function*(n,e,t){const r=ze(n),o=[],u=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,w)=>{d.push(r._c(w,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const x=fT.Ci(w.targetId,D);u.push(x)}}))}),yield Promise.all(d),r.sc.zo(o),yield(m=(0,fe.Z)(function*(w,D){const x=ze(w);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ie.forEach(D,U=>ie.forEach(U.Si,z=>x.persistence.referenceDelegate.addReference(R,U.targetId,z)).next(()=>ie.forEach(U.Di,z=>x.persistence.referenceDelegate.removeReference(R,U.targetId,z)))))}catch(R){if(!ai(R))throw R;ke("LocalStore","Failed to update sequence numbers: "+R)}for(const R of D){const U=R.targetId;if(!R.fromCache){const z=x.Ui.get(U),xe=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);x.Ui=x.Ui.insert(U,xe)}}}),function(w,D){return m.apply(this,arguments)})(r.localStore,u))}),uA.apply(this,arguments)}function pO(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,fe.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield yx(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Ae(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(t,r.ji)}var o}),lA.apply(this,arguments)}function gO(n,e){const t=ze(n),r=t.cc.get(e);if(r&&r.nc)return Lt().add(r.key);{let o=Lt();const u=t.rc.get(e);if(!u)return o;for(const d of u){const m=t.ic.get(d);o=o.unionWith(m.view.ju)}return o}}function mO(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,fe.Z)(function*(n,e){const t=ze(n),r=yield rb(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&oA(t,e.targetId,o.Xu),o}),cA.apply(this,arguments)}function yO(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,fe.Z)(function*(n,e){const t=ze(n);return Ex(t.localStore,e).then(r=>Rc(t,r))}),dA.apply(this,arguments)}function vO(n,e,t,r){return hA.apply(this,arguments)}function hA(){return hA=(0,fe.Z)(function*(n,e,t,r){const o=ze(n),u=yield function(d,m){const w=ze(d),D=ze(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.Tn(x,m).next(R=>R?w.localDocuments.getDocuments(x,R):ie.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield uy(o.remoteStore):"acknowledged"===t||"rejected"===t?(sA(o,e,r||null),iA(o,e),m=e,ze(ze(o.localStore).mutationQueue).An(m)):rt(),yield Rc(o,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),hA.apply(this,arguments)}function fA(){return fA=(0,fe.Z)(function*(n,e){const t=ze(n);if(yA(t),vA(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Gx(t,r.toArray());t.dc=!0,yield UT(t.remoteStore,!0);for(const u of o)ab(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(fy(t,d),oy(t.localStore,d,!0))),U0(t.remoteStore,d)}),yield o,yield Gx(t,r),function(u){const d=ze(u);d.cc.forEach((m,w)=>{U0(d.remoteStore,w)}),d.ac.fs(),d.cc=new Map,d.uc=new Yn(qe.comparator)}(t),t.dc=!1,yield UT(t.remoteStore,!1)}}),fA.apply(this,arguments)}function Gx(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,fe.Z)(function*(n,e,t){const r=ze(n),o=[],u=[];for(const d of e){let m;const w=r.rc.get(d);if(w&&0!==w.length){m=yield sy(r.localStore,Li(w[0]));for(const D of w){const x=r.ic.get(D),R=yield mO(r,x);R.snapshot&&u.push(R.snapshot)}}else{const D=yield wx(r.localStore,d);m=yield sy(r.localStore,D),yield KT(r,zx(D),d,!1,m.resumeToken)}o.push(m)}return r.sc.zo(u),o}),pA.apply(this,arguments)}function zx(n){return CI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wO(n){const e=ze(n);return ze(ze(e.localStore).persistence).vi()}function EO(n,e,t,r){return gA.apply(this,arguments)}function gA(){return gA=(0,fe.Z)(function*(n,e,t,r){const o=ze(n);if(o.dc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=o.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Ex(o.localStore,xC(u[0])),m=xc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,pr.EMPTY_BYTE_STRING);yield Rc(o,d,m);break}case"rejected":yield oy(o.localStore,e,!0),fy(o,e,r);break;default:rt()}}),gA.apply(this,arguments)}function IO(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,fe.Z)(function*(n,e,t){const r=yA(n);if(r.dc){for(const o of e){if(r.rc.has(o)){ke("SyncEngine","Adding an already active target "+o);continue}const u=yield wx(r.localStore,o),d=yield sy(r.localStore,u);yield KT(r,zx(u),d.targetId,!1,d.resumeToken),ab(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield oy(r.localStore,o,!1).then(()=>{U0(r.remoteStore,o),fy(r,o)}).catch(Xu))}}),mA.apply(this,arguments)}function yA(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lO.bind(null,e),e.sc.zo=XR.bind(null,e.eventManager),e.sc.wc=eO.bind(null,e.eventManager),e}function vA(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class qx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.It=L0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return mx(this.persistence,new gx,e.initialUser,this.It)}yc(e){return new fx(tb.Bs,this.It)}gc(e){return new Cx}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wx extends qx{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield vA(r.Ac.syncEngine),yield uy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return mx(this.persistence,new gx,e.initialUser,this.It)}Tc(e,t){return new hR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new IC(t,this.persistence);return new EC(e.asyncQueue,r)}yc(e){const t=hT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new dT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ax(),ob(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Cx}}class DO extends Wx{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof ET&&(r.sharedClientState.syncEngine={Fr:vO.bind(null,o),$r:EO.bind(null,o),Br:IO.bind(null,o),vi:wO.bind(null,o),Mr:yO.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,fe.Z)(function*(d){yield function _O(n,e){return fA.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=Ax();if(!ET.C(t))throw new Ae(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ET(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _A{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Hx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,r.syncEngine),yield UT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JR}createDatastore(e){const t=L0(e.databaseInfo.databaseId),r=new kR(e.databaseInfo);return new VR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>Hx(this.syncEngine,m,0),d=Tx.C()?new Tx:new RR,new jR(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,w,D){const x=new sO(r,o,u,d,m,w);return D&&(x.dc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const r=ze(t);ke("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ay(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wA(n,e,t){if(!t)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zx(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kx(n){if(!qe.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yx(n){if(qe.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lb(n);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qx(n,e){if(e<=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Jx=new Map;class Xx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cC;switch(t.type){case"gapi":return new cI(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jx.get(e);t&&(ke("ComponentProvider","Removing Datastore"),Jx.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class al extends Qi{constructor(e,t,r){super(e,t,Cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new qe(e))}withConverter(e){return new al(this.firestore,e,this._path)}}function tM(n,e,...t){if(n=(0,Xt.m9)(n),wA("collection","path",e),n instanceof B0){const r=en.fromString(e,...t);return Yx(r),new al(n,null,r)}{if(!(n instanceof Qn||n instanceof al))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return Yx(r),new al(n.firestore,null,r)}}function cb(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=mC.R()),wA("doc","path",e),n instanceof B0){const r=en.fromString(e,...t);return Kx(r),new Qn(n,null,new qe(r))}{if(!(n instanceof Qn||n instanceof al))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return Kx(r),new Qn(n.firestore,n instanceof al?n.converter:null,new qe(r))}}function nM(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof Qn||n instanceof al)&&(e instanceof Qn||e instanceof al)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function EA(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&Hm(n._query,e._query)&&n.converter===e.converter}function rM(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class db{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class TO{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new br,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(o);return new tO(JSON.parse(u),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,fe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class xO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,fe.Z)(function*(u,d){const m=ze(u),w=Ch(m.It)+"/documents",D={documents:d.map(z=>bh(m.It,z))},x=yield m._o("BatchGetDocuments",w,D,d.length),R=new Map;x.forEach(z=>{const X=function WC(n,e){return"found"in e?function(t,r){bt(!!r.found);const o=Io(t,r.found.name),u=kr(r.found.updateTime),d=new li({mapValue:{fields:r.found.fields}});return _n.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const o=Io(t,r.missing),u=kr(r.readTime);return _n.newNoDocument(o,u)}(n,e):rt()}(m.It,z);R.set(X.key.toString(),X)});const U=[];return d.forEach(z=>{const X=R.get(z.toString());bt(!!X),U.push(X)}),U}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=qe.fromPath(o);e.mutations.push(new m0(u,e.precondition(u)))}),yield(r=(0,fe.Z)(function*(o,u){const d=ze(o),m=Ch(d.It)+"/documents",w={writes:u.map(D=>Zm(d.It,D))};yield d.ao("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Ae(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MO{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.kc=r.maxAttempts,this.No=new IT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,fe.Z)(function*(){const t=new xO(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Fc(u)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!_h(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!NI(t)}return!1}}class NO{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=qr.UNAUTHENTICATED,this.clientId=mC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,fe.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=cy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function iM(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,fe.Z)(function*(u){r.isEqual(u)||(yield yx(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),IA.apply(this,arguments)}function sM(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DA(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Px(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Px(e.remoteStore,u)),n.onlineComponents=e}),bA.apply(this,arguments)}function DA(n){return CA.apply(this,arguments)}function CA(){return CA=(0,fe.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield iM(n,new qx)),n.offlineComponents}),CA.apply(this,arguments)}function hb(n){return TA.apply(this,arguments)}function TA(){return TA=(0,fe.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield sM(n,new _A)),n.onlineComponents}),TA.apply(this,arguments)}function oM(n){return DA(n).then(e=>e.persistence)}function fb(n){return DA(n).then(e=>e.localStore)}function AA(n){return hb(n).then(e=>e.remoteStore)}function SA(n){return hb(n).then(e=>e.syncEngine)}function py(n){return xA.apply(this,arguments)}function xA(){return xA=(0,fe.Z)(function*(n){const e=yield hb(n),t=e.eventManager;return t.onListen=oO.bind(null,e.syncEngine),t.onUnlisten=aO.bind(null,e.syncEngine),t}),xA.apply(this,arguments)}function uM(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(o,u,d,m,w){const D=new db({next:R=>{u.enqueueAndForget(()=>GT(o,x));const U=R.docs.has(d);!U&&R.fromCache?w.reject(new Ae(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&m&&"server"===m.source?w.reject(new Ae(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),x=new WT(Cc(d.path),D,{includeMetadataChanges:!0,ku:!0});return HT(o,x)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}function lM(n,e,t={}){const r=new br;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(o,u,d,m,w){const D=new db({next:R=>{u.enqueueAndForget(()=>GT(o,x)),R.fromCache&&"server"===m.source?w.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),x=new WT(d,D,{includeMetadataChanges:!0,ku:!0});return HT(o,x)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}class UO{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new IT(this,"async_queue_retry"),this.Wc=()=>{const t=ob();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=ob();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=ob();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new br;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!ai(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=jT.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(o),o}zc(){this.Kc&&rt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function MA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class BO{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jn extends B0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new UO,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cM(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||cM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vI(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new NO(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dM(n,e,t){const r=new br;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield iM(n,t),yield sM(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===ue.FAILED_PRECONDITION||d.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;lu("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function hM(n){if(n._initialized||n._terminated)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(pr.fromBase64String(e))}catch(t){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ul(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jp{constructor(e){this._methodName=e}}class pb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const YO=/^__.*__$/;class QO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pp(e,this.data,t,this.fieldTransforms)}}class fM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class gb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new gb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return vb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(pM(this.sa)&&YO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class JO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||L0(e)}da(e,t,r,o=!1){return new gb({sa:e,methodName:t,fa:r,path:ur.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=L0(n._databaseId);return new JO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mb(n,e,t,r,o,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,o);PA("Data must be an object, but it was:",d,r);const m=yM(r,d);let w,D;if(u.merge)w=new Ws(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const x=[];for(const R of u.mergeFields){const U=kA(e,R,t);if(!d.contains(U))throw new Ae(ue.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);_M(x,U)||x.push(U)}w=new Ws(x),D=d.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,D=d.fieldTransforms;return new QO(new li(m),w,D)}class j0 extends jp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}function gM(n,e,t){return new gb({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class NA extends jp{_toFieldTransform(e){return new $m(e.path,new Sc)}isEqual(e){return e instanceof NA}}class XO extends jp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gM(this,e,!0),r=this._a.map(u=>$p(u,t)),o=new nl(r);return new $m(e.path,o)}isEqual(e){return this===e}}class e1 extends jp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gM(this,e,!0),r=this._a.map(u=>$p(u,t)),o=new gu(r);return new $m(e.path,o)}isEqual(e){return this===e}}class t1 extends jp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new wh(e.It,OC(e.It,this.wa));return new $m(e.path,t)}isEqual(e){return this===e}}function RA(n,e,t,r){const o=n.da(1,e,t);PA("Data must be an object, but it was:",o,r);const u=[],d=li.empty();wc(r,(w,D)=>{const x=yb(e,w,t);D=(0,Xt.m9)(D);const R=o.ca(x);if(D instanceof j0)u.push(x);else{const U=$p(D,R);null!=U&&(u.push(x),d.set(x,U))}});const m=new Ws(u);return new fM(d,m,o.fieldTransforms)}function OA(n,e,t,r,o,u){const d=n.da(1,e,t),m=[kA(e,r,t)],w=[o];if(u.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(kA(e,u[U])),w.push(u[U+1]);const D=[],x=li.empty();for(let U=m.length-1;U>=0;--U)if(!_M(D,m[U])){const z=m[U];let X=w[U];X=(0,Xt.m9)(X);const xe=d.ca(z);if(X instanceof j0)D.push(z);else{const Re=$p(X,xe);null!=Re&&(D.push(z),x.set(z,Re))}}const R=new Ws(D);return new fM(x,R,d.fieldTransforms)}function mM(n,e,t,r=!1){return $p(t,n.da(r?4:3,e))}function $p(n,e){if(vM(n=(0,Xt.m9)(n)))return PA("Unsupported field value:",e,n),yM(n,e);if(n instanceof jp)return function(t,r){if(!pM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=$p(d,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return OC(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Gn.fromDate(t);return{timestampValue:Ih(r.It,o)}}if(t instanceof Gn){const o=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ih(r.It,o)}}if(t instanceof pb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ul)return{bytesValue:qC(r.It,t._byteString)};if(t instanceof Qn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${lb(t)}`)}(n,e)}function yM(n,e){const t={};return pI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wc(n,(r,o)=>{const u=$p(o,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function vM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof pb||n instanceof ul||n instanceof Qn||n instanceof jp)}function PA(n,e,t){if(!vM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lb(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function kA(n,e,t){if((e=(0,Xt.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return yb(n,e);throw vb("Field path arguments must be of type string or ",n,!1,void 0,t)}const n1=new RegExp("[~\\*/\\[\\]]");function yb(n,e,t){if(e.search(n1)>=0)throw vb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw vb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vb(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Ae(ue.INVALID_ARGUMENT,m+n+w)}function _M(n,e){return n.some(t=>t.isEqual(e))}class H0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new r1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_b("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class r1 extends H0{data(){return super.data()}}function _b(n,e){return"string"==typeof e?yb(n,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}function wM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}function Ph(n,...e){for(const t of e)n=t._apply(n);return n}class i1 extends $0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Hp(e.firestore),r=function(o,u,d,m,w,D,x){let R;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){TM(x,D);const z=[];for(const X of x)z.push(CM(m,o,X));R={arrayValue:{values:z}}}else R=CM(m,o,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||TM(x,D),R=mM(d,"where",x,"in"===D||"not-in"===D);const U=ci.create(w,D,R);return function(z,X){if(X.dt()){const Re=Um(z);if(null!==Re&&!Re.isEqual(X.field))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${X.field.toString()}'`);const ut=Vm(z);null!==ut&&AM(0,X.field,ut)}const xe=function(Re,ut){for(const At of Re.filters)if(ut.indexOf(At.op)>=0)return At.op;return null}(z,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==xe)throw new Ae(ue.INVALID_ARGUMENT,xe===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${xe.toString()}' filters.`)}(o,U),U}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Qi(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new pu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class o1 extends $0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Dc(o,u);return function(m,w){if(null===Vm(m)){const D=Um(m);null!==D&&AM(0,D,w.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Qi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new pu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class EM extends $0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Qi(e.firestore,e.converter,jm(e._query,this.Ia,this.Ta))}}class IM extends $0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DM(e,this.type,this.Ea,this.Aa);return new Qi(e.firestore,e.converter,(o=t,new pu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class bM extends $0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DM(e,this.type,this.Ea,this.Aa);return new Qi(e.firestore,e.converter,(o=t,new pu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function DM(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof H0)return function(o,u,d,m,w){if(!m)throw new Ae(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const x of Tc(o))if(x.field.isKeyField())D.push(Ic(u,m.key));else{const R=m.data.field(x.field);if(Y_(R))throw new Ae(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const U=x.field.canonicalString();throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}D.push(R)}return new fu(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Hp(n.firestore);return function(u,d,m,w,D,x){const R=u.explicitOrderBy;if(D.length>R.length)throw new Ae(ue.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let z=0;z<D.length;z++){const X=D[z];if(R[z].field.isKeyField()){if("string"!=typeof X)throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof X}`);if(!Bm(u)&&-1!==X.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${X}' contains a slash.`);const xe=u.path.child(en.fromString(X));if(!qe.isDocumentKey(xe))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${xe}' is not because it contains an odd number of segments.`);const Re=new qe(xe);U.push(Ic(d,Re))}else{const xe=mM(m,w,X);U.push(xe)}}return new fu(U,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function CM(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bm(e)&&-1!==t.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!qe.isDocumentKey(r))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(n,new qe(r))}if(t instanceof Qn)return Ic(n,t._key);throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lb(t)}.`)}function TM(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function AM(n,e,t){if(!t.isEqual(e))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FA{convertValue(e,t="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ec(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return wc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new pb(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ap(e));default:return null}}convertTimestamp(e){const t=da(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);bt(T0(r));const o=new ha(r.get(1),r.get(3)),u=new qe(r.popFirst(5));return o.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function wb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class p1 extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class Gp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends H0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new G0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_b("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class G0 extends Pc{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new G0(this._firestore,this._userDataWriter,r.key,r,new Gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new G0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new G0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Gp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:g1(d.type),doc:m,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function SM(n,e){return n instanceof Pc&&e instanceof Pc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&EA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fh extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function xM(n,e,t){n=tn(n,Qn);const r=tn(n.firestore,Jn),o=wb(n.converter,e,t);return gy(r,[mb(Hp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Cn.none())])}function MM(n,e,t,...r){n=tn(n,Qn);const o=tn(n.firestore,Jn),u=Hp(o);let d;return d="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Oc?OA(u,"updateDoc",n._key,e,t,r):RA(u,"updateDoc",n._key,e),gy(o,[d.toMutation(n._key,Cn.exists(!0))])}function NM(n,...e){var t,r,o;n=(0,Xt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||MA(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(MA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let w,D,x;if(n instanceof Qn)D=tn(n.firestore,Jn),x=Cc(n._key.path),w={next:R=>{e[d]&&e[d](LA(D,n,R))},error:e[d+1],complete:e[d+2]};else{const R=tn(n,Qi);D=tn(R.firestore,Jn),x=R._query;const U=new Fh(D);w={next:z=>{e[d]&&e[d](new kh(D,U,R,z))},error:e[d+1],complete:e[d+2]},wM(n._query)}return function(R,U,z,X){const xe=new db(X),Re=new WT(U,xe,z);return R.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return HT(yield py(R),Re)})),()=>{xe.bc(),R.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return GT(yield py(R),Re)}))}}(Fr(D),x,m,w)}function gy(n,e){return function(t,r){const o=new br;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function uO(n,e,t){return JT.apply(this,arguments)}(yield SA(t),r,o)})),o.promise}(Fr(n),e)}function LA(n,e,t){const r=t.docs.get(e._key),o=new Fh(n);return new Pc(n,o,e._key,r,new Gp(t.hasPendingWrites,t.fromCache),e.converter)}const C1={maxAttempts:5};class RM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hp(e)}set(e,t,r){this._verifyNotCommitted();const o=Lh(e,this._firestore),u=wb(o.converter,t,r),d=mb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Cn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Oc?OA(this._dataReader,"WriteBatch.update",u._key,t,r,o):RA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new wi(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Ae(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class T1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hp(e)}get(e){const t=Lh(e,this._firestore),r=new p1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return rt();const u=o[0];if(u.isFoundDocument())return new H0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new H0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const o=Lh(e,this._firestore),u=wb(o.converter,t,r),d=mb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Oc?OA(this._dataReader,"Transaction.update",u._key,t,r,o):RA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Fh(this._firestore);return super.get(e).then(o=>new Pc(this._firestore,r,t._key,o._document,new Gp(!1,!1),t.converter))}}function VA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PM(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function kM(){if(!function K_(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=Xl.SDK_VERSION,(0,Xl._registerComponent)(new Bf.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Jn(new hC(t.getProvider("auth-internal")),new dI(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Xl.registerVersion)(Mm,"3.7.1",n),(0,Xl.registerVersion)(Mm,"3.7.1","esm2017")}();class z0{constructor(e){this._delegate=e}static fromBase64String(e){return kM(),new z0(ul.fromBase64String(e))}static fromUint8Array(e){return PM(),new z0(ul.fromUint8Array(e))}toBase64(){return kM(),this._delegate.toBase64()}toUint8Array(){return PM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UA(n){return function k1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class F1{enableIndexedDbPersistence(e,t){return function HO(n,e){hM(n=tn(n,Jn));const t=Fr(n),r=n._freezeSettings(),o=new _A;return dM(t,o,new Wx(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $O(n){hM(n=tn(n,Jn));const e=Fr(n),t=n._freezeSettings(),r=new _A;return dM(e,r,new DO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GO(n){if(n._initialized&&!n._terminated)throw new Ae(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(r){if(!Fi.C())return Promise.resolve();const o=r+"main";yield Fi.delete(o)}),function(r){return t.apply(this,arguments)})(hT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function eM(n,e,t,r={}){var o;const u=(n=tn(n,B0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&lu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=qr.MOCK_USER;else{d=(0,Xt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ae(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new qr(w)}n._authCredentials=new dC(new j_(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function qO(n){return function RO(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield oM(n),t=yield AA(n);return e.setNetworkEnabled(!0),function(r){const o=ze(r);return o.wu.delete(0),V0(o)}(t)}))}(Fr(n=tn(n,Jn)))}(this._delegate)}disableNetwork(){return function WO(n){return function OO(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield oM(n),t=yield AA(n);return e.setNetworkEnabled(!1),(r=(0,fe.Z)(function*(o){const u=ze(o);u.wu.add(0),yield ay(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Fr(n=tn(n,Jn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Zx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zO(n){return function(e){const t=new br;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function hO(n,e){return rA.apply(this,arguments)}(yield SA(e),t)})),t.promise}(Fr(n=tn(n,Jn)))}(this._delegate)}onSnapshotsInSync(e){return function D1(n,e){return function FO(n,e){const t=new db(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield py(n),o=t,ze(r).bu.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield py(n),o=t,void ze(r).bu.delete(o);var r,o}))}}(Fr(n=tn(n,Jn)),MA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new my(this,tM(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,cb(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ds(this,function CO(n,e){if(n=tn(n,B0),wA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new pu(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function A1(n,e,t){n=tn(n,Jn);const r=Object.assign(Object.assign({},C1),t);return function(o){if(o.maxAttempts<1)throw new Ae(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new br;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const w=yield function aM(n){return hb(n).then(e=>e.datastore)}(o);new MO(o.asyncQueue,w,d,u,m).run()})),m.promise}(Fr(n),o=>e(new T1(n,o)),r)}(this._delegate,t=>e(new LM(this,t)))}batch(){return Fr(this._delegate),new VM(new RM(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function ZO(n,e){const t=Fr(n=tn(n,Jn)),r=new BO;return function LO(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return rM(w,D);if(w instanceof ArrayBuffer)return rM(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new TO(w,d);var w}(t,L0(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function bO(n,e,t){const r=ze(n);var o;(o=(0,fe.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(U,z){const X=ze(U),xe=kr(z.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",Re=>X.Ns.getBundleMetadata(Re,z.id)).then(Re=>!!Re&&Re.createTime.compareTo(xe)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=w).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(Lx(w));const D=new nO(w,u.localStore,d.It);let x=yield d.mc();for(;x;){const U=yield D.Fu(x);U&&m._updateProgress(U),x=yield d.mc()}const R=yield D.complete();return yield Rc(u,R.Lu,void 0),yield function(U,z){const X=ze(U);return X.persistence.runTransaction("Save bundle","readwrite",xe=>X.Ns.saveBundleMetadata(xe,z))}(u.localStore,w),m._completeWith(R.progress),Promise.resolve(R.Bu)}catch(w){return lu("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var U}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield SA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function KO(n,e){return function VO(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,r){const o=ze(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield fb(n),e)}))}(Fr(n=tn(n,Jn)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ds(this,t):null)}}class Eb extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new z0(new ul(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class LM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}get(e){const t=qp(e);return this._delegate.get(t).then(r=>new q0(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=qp(e);return r?(VA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}}class VM{constructor(e){this._delegate=e}set(e,t,r){const o=qp(e);return r?(VA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new G0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new W0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new zp(e,new Eb(e),t),o.set(t,u)),u}}zp.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new Qn(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new ga(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new my(this.firestore,tM(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Qn&&nM(this._delegate,e)}set(e,t){t=VA("DocumentReference.set",t);try{return t?xM(this._delegate,e,t):xM(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?MM(this._delegate,e):MM(this._delegate,e,t,...r)}catch(o){throw bs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function I1(n){return gy(tn(n.firestore,Jn),[new wi(n._key,Cn.none())])}(this._delegate)}onSnapshot(...e){const t=UM(e),r=BM(e,o=>new q0(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return NM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function y1(n){n=tn(n,Qn);const e=tn(n.firestore,Jn),t=Fr(e),r=new Fh(e);return function PO(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(o,u,d){try{const m=yield function(w,D){const x=ze(w);return x.persistence.runTransaction("read document","readonly",R=>x.localDocuments.getDocument(R,D))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ae(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=cy(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield fb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Pc(e,r,n._key,o,new Gp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function v1(n){n=tn(n,Qn);const e=tn(n.firestore,Jn);return uM(Fr(e),n._key,{source:"server"}).then(t=>LA(e,n,t))}(this._delegate):function m1(n){n=tn(n,Qn);const e=tn(n.firestore,Jn);return uM(Fr(e),n._key).then(t=>LA(e,n,t))}(this._delegate),t.then(r=>new q0(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function UM(n){for(const e of n)if("object"==typeof e&&!UA(e))return e;return{}}function BM(n,e){var t,r;let o;return o=UA(n[0])?n[0]:UA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class q0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SM(this._delegate,e._delegate)}}class W0 extends q0{data(e){const t=this._delegate.data(e);return function lI(n,e){n||rt()}(void 0!==t),t}}class Ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eb(e)}where(e,t,r){try{return new Ds(this.firestore,Ph(this._delegate,function s1(n,e,t){const r=e,o=_b("where",n);return new i1(o,r,t)}(e,t,r)))}catch(o){throw bs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ds(this.firestore,Ph(this._delegate,function a1(n,e="asc"){const t=e,r=_b("orderBy",n);return new o1(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ds(this.firestore,Ph(this._delegate,function u1(n){return Qx("limit",n),new EM("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ds(this.firestore,Ph(this._delegate,function l1(n){return Qx("limitToLast",n),new EM("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ds(this.firestore,Ph(this._delegate,function c1(...n){return new IM("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ds(this.firestore,Ph(this._delegate,function d1(...n){return new IM("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ds(this.firestore,Ph(this._delegate,function h1(...n){return new bM("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ds(this.firestore,Ph(this._delegate,function f1(...n){return new bM("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return EA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function w1(n){n=tn(n,Qi);const e=tn(n.firestore,Jn),t=Fr(e),r=new Fh(e);return function kO(n,e){const t=new br;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(o,u,d){try{const m=yield rb(o,u,!0),w=new Bx(u,m.Hi),D=w.Wu(m.documents),x=w.applyChanges(D,!1);d.resolve(x.snapshot)}catch(m){const w=cy(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(o,u,d){return r.apply(this,arguments)})(yield fb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new kh(e,r,n,o))}(this._delegate):"server"===e?.source?function E1(n){n=tn(n,Qi);const e=tn(n.firestore,Jn),t=Fr(e),r=new Fh(e);return lM(t,n._query,{source:"server"}).then(o=>new kh(e,r,n,o))}(this._delegate):function _1(n){n=tn(n,Qi);const e=tn(n.firestore,Jn),t=Fr(e),r=new Fh(e);return wM(n._query),lM(t,n._query).then(o=>new kh(e,r,n,o))}(this._delegate),t.then(r=>new BA(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UM(e),r=BM(e,o=>new BA(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return NM(this._delegate,t,r)}withConverter(e){return new Ds(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}class V1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new W0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new W0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new V1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new W0(this._firestore,r))})}isEqual(e){return SM(this._delegate,e._delegate)}}class my extends Ds{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?cb(this._delegate):cb(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function b1(n,e){const t=tn(n.firestore,Jn),r=cb(n),o=wb(n.converter,e);return gy(t,[mb(Hp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return nM(this._delegate,e._delegate)}withConverter(e){return new my(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function qp(n){return tn(n,Qn)}class jA{constructor(...e){this._delegate=new Oc(...e)}static documentId(){return new jA(ur.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Oc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function x1(){return new NA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wp(e)}static delete(){const e=function S1(){return new j0("deleteField")}();return e._methodName="FieldValue.delete",new Wp(e)}static arrayUnion(...e){const t=function M1(...n){return new XO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wp(t)}static arrayRemove(...e){const t=function N1(...n){return new e1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wp(t)}static increment(e){const t=function R1(n){return new t1("increment",n)}(e);return t._methodName="FieldValue.increment",new Wp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const U1={Firestore:FM,GeoPoint:pb,Timestamp:Gn,Blob:z0,Transaction:LM,WriteBatch:VM,DocumentReference:ga,DocumentSnapshot:q0,Query:Ds,QueryDocumentSnapshot:W0,QuerySnapshot:BA,CollectionReference:my,FieldPath:jA,FieldValue:Wp,setLogLevel:function L1(n){!function lC(n){Es.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function jM(n,e){return function H1(n,e=Jd.z){return new wr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HA(n,e){return jM(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function Ib(n,e){return HA(n,e).pipe(Xo(void 0),Yg(),(0,mt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(x=>x.doc.ref.isEqual(d.ref)),D=t?.payload.docs.find(x=>x.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function HM(n,e,t){return Ib(n,t).pipe(Ya((r,o)=>function G1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function z1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $A(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $A(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $A(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function fE(n,e=wd.y){return n=n??pE,(0,qn.e)((t,r)=>{let o,u=!0;t.subscribe(new Wn.Q(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,mt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function $A(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function $M(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function j1(n){(function B1(n,e){n.INTERNAL.registerComponent(new Bf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},U1)))})(n,(e,t)=>new FM(e,t,new F1)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(gE.Z);class GM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ib(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Xo(void 0),Yg(),Gr(([r,o])=>o.length>0||!r),(0,mt.U)(([r,o])=>o),Mr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$M(e);return HM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Mr.iC)}add(e){return this.ref.add(e)}doc(e){return new zM(this.ref.doc(e),this.afs)}}class zM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=ZM(r,t);return new GM(o,u,this.afs)}snapshotChanges(){return function $1(n,e){return jM(n,e).pipe(Xo(void 0),Yg(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe(Mr.iC)}}class q1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Gr(t=>t.length>0),Mr.iC):Ib(this.query,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ya((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$M(e);return HM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mr.iC)}valueChanges(e={}){return HA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Mr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Mr.iC)}}const qM=new f.OlP("angularfire2.enableFirestorePersistence"),WM=new f.OlP("angularfire2.firestore.persistenceSettings"),W1=new f.OlP("angularfire2.firestore.settings"),Z1=new f.OlP("angularfire2.firestore.use-emulator");function ZM(n,e=(t=>t)){return{query:e(n),ref:n}}let KM=(()=>{class n{constructor(t,r,o,u,d,m,w,D,x,R,U,z,X,xe,Re,ut,At){this.schedulers=w;const Nt=(0,sa.on)(t,m,r),Rt=x;R&&ac(Nt,m,U,X,xe,Re,z,ut),[this.firestore,this.persistenceEnabled$]=(0,sa.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Vt=m.runOutsideAngular(()=>Nt.firestore());if(u&&Vt.settings(u),Rt&&Vt.useEmulator(...Rt),o&&!wa(d)){const zt=()=>{try{return(0,ln.D)(Vt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(di){return typeof console<"u"&&console.warn(di),at(!1)}};return[Vt,m.runOutsideAngular(zt)]}return[Vt,at(!1)]},[u,Rt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=ZM(o,r),m=this.schedulers.ngZone.run(()=>u);return new GM(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new q1(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new zM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(sa.Dh),f.LFG(sa.xv,8),f.LFG(qM,8),f.LFG(W1,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Mr.HU),f.LFG(WM,8),f.LFG(Z1,8),f.LFG(oa,8),f.LFG(Kg,8),f.LFG(nc,8),f.LFG(rc,8),f.LFG(ic,8),f.LFG(sc,8),f.LFG(oc,8),f.LFG(Bv,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),K1=(()=>{class n{constructor(){Qf.Z.registerVersion("angularfire",Mr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qM,useValue:!0},{provide:WM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[KM]}),n})(),bb=(()=>{class n{constructor(t,r,o){this.auth=t,this.db=r,this.http=o,this.baseUrl="/",this.userCollection=r.collection("users"),this.isAuthenticated$=t.user.pipe((0,mt.U)(u=>!!u))}getUserState(){return this.auth.authState}createUser(t){var r=this;return(0,fe.Z)(function*(){if(!t.password)throw new Error("Password Not Provided!");const o=yield r.auth.createUserWithEmailAndPassword(t.email,t.password);if(!o.user)throw new Error("User Can't be Found");yield r.userCollection.doc(o.user.uid).set({name:t.name,email:t.email,age:t.age,phoneNumber:t.phoneNumber}),yield o.user.updateProfile({displayName:t.name})})()}logout(){this.auth.signOut()}getUser(){return console.log("accessed api"+this.baseUrl),this.http.get(this.baseUrl+"/users")}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oa),f.LFG(KM),f.LFG(qa))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y1=[[["","heading",""]],"*"],Q1=function(n){return{hidden:n}},J1=["[heading]","*"];let X1=(()=>{class n{constructor(t,r){this.modal=t,this.el=r,this.modalID=""}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.el.nativeElement)}closeModal(){this.modal.toggleModal(this.modalID)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ku),f.Y36(f.SBq))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:J1,decls:13,vars:3,consts:[["id","modal",1,"fixed","z-50","inset-0","overflow-y-auto",3,"ngClass"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-800","opacity-75"],[1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-secondary","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"py-4","text-left","px-6"],[1,"flex","justify-between","items-center","pb-4"],[1,"modal-close","cursor-pointer","z-50",3,"click"]],template:function(t,r){1&t&&(f.F$t(Y1),f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return r.closeModal()}),f._UZ(3,"div",3),f.qZA(),f.TgZ(4,"span",4),f._uU(5,"\u200b"),f.qZA(),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7),f.Hsn(9),f.TgZ(10,"div",8),f.NdJ("click",function(){return r.closeModal()}),f._uU(11," \u2715 "),f.qZA()(),f.Hsn(12,1),f.qZA()()()()),2&t&&f.Q6J("ngClass",f.VKq(1,Q1,!r.modal.isModalOpen(r.modalID)))},dependencies:[Jt]}),n})();const eP=["*"];let YM=(()=>{class n{constructor(){this.tabTitle="",this.active=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:eP,decls:2,vars:2,template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div"),f.Hsn(1),f.qZA()),2&t&&f.ekj("hidden",!r.active)}}),n})();const tP=function(n,e){return{"hover:text-indigo-400":n,"hover:text-white text-white bg-indigo-400":e}};function nP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"li",2)(1,"a",3),f.NdJ("click",function(){const u=f.CHM(t).$implicit,d=f.oxw();return f.KtG(d.selectTab(u))}),f._uU(2),f.qZA()()}if(2&n){const t=e.$implicit;f.xp6(1),f.Q6J("ngClass",f.WLB(2,tP,!t.active,t.active)),f.xp6(1),f.Oqu(t.tabTitle)}}const rP=["*"];let iP=(()=>{class n{constructor(){this.tabs=new f.n_E}ngAfterContentInit(){const t=this.tabs?.filter(r=>r.active);(!t||0===t.length)&&this.selectTab(this.tabs.first)}selectTab(t){return this.tabs?.forEach(r=>{r.active=!1}),t.active=!0,!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-tabs-container"]],contentQueries:function(t,r,o){if(1&t&&f.Suo(o,YM,4),2&t){let u;f.iGM(u=f.CRH())&&(r.tabs=u)}},ngContentSelectors:rP,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],["href","#",1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"ul",0),f.YNc(1,nP,3,5,"li",1),f.qZA(),f.Hsn(2)),2&t&&(f.xp6(1),f.Q6J("ngForOf",r.tabs))},dependencies:[Jt,Mo]}),n})();const sP=["*"];let QM=(()=>{class n{constructor(){this.color="blue"}get bgColor(){return`bg-${this.color}-400`}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-alert"]],inputs:{color:"color"},ngContentSelectors:sP,decls:2,vars:1,consts:[[1,"text-white","text-center","font-bold","p-4","mb-4","rounded-md",3,"ngClass"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&t&&f.Q6J("ngClass",r.bgColor)},dependencies:[Jt]}),n})(),JM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Zp=(()=>{class n extends JM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ll=new f.OlP("NgValueAccessor"),uP={provide:ll,useExisting:(0,f.Gpc)(()=>Z0),multi:!0},cP=new f.OlP("CompositionEventMode");let Z0=(()=>{class n extends JM{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lP(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(cP,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([uP]),f.qOj]}),n})();function Vh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function eN(n){return null!=n&&"number"==typeof n.length}const Ji=new f.OlP("NgValidators"),Uh=new f.OlP("NgAsyncValidators"),hP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Do{static min(e){return function tN(n){return e=>{if(Vh(e.value)||Vh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function nN(n){return e=>{if(Vh(e.value)||Vh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return rN(e)}static requiredTrue(e){return function iN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function sN(n){return Vh(n.value)||hP.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function oN(n){return e=>Vh(e.value)||!eN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function aN(n){return e=>eN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return uN(e)}static nullValidator(e){return null}static compose(e){return pN(e)}static composeAsync(e){return gN(e)}}function rN(n){return Vh(n.value)?{required:!0}:null}function uN(n){if(!n)return Db;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Vh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function Db(n){return null}function lN(n){return null!=n}function cN(n){return(0,f.QGY)(n)?(0,ln.D)(n):n}function dN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function hN(n,e){return e.map(t=>t(n))}function fN(n){return n.map(e=>function fP(n){return!n.validate}(e)?e:t=>e.validate(t))}function pN(n){if(!n)return null;const e=n.filter(lN);return 0==e.length?null:function(t){return dN(hN(t,e))}}function GA(n){return null!=n?pN(fN(n)):null}function gN(n){if(!n)return null;const e=n.filter(lN);return 0==e.length?null:function(t){return function oP(...n){const e=(0,Ps.jO)(n),{args:t,keys:r}=by(n),o=new wr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,D=d;for(let x=0;x<d;x++){let R=!1;(0,Za.Xf)(t[x]).subscribe(new Wn.Q(u,U=>{R||(R=!0,D--),m[x]=U},()=>w--,void 0,()=>{(!w||!R)&&(D||u.next(r?Bu(r,m):m),u.complete())}))}});return e?o.pipe(Rl(e)):o}(hN(t,e).map(cN)).pipe((0,mt.U)(dN))}}function zA(n){return null!=n?gN(fN(n)):null}function mN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yN(n){return n._rawValidators}function vN(n){return n._rawAsyncValidators}function qA(n){return n?Array.isArray(n)?n:[n]:[]}function Cb(n,e){return Array.isArray(n)?n.includes(e):n===e}function _N(n,e){const t=qA(e);return qA(n).forEach(o=>{Cb(t,o)||t.push(o)}),t}function wN(n,e){return qA(e).filter(t=>!Cb(n,t))}class EN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cs extends EN{get formDirective(){return null}get path(){return null}}class Bh extends EN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class IN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WA=(()=>{class n extends IN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Bh,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),ZA=(()=>{class n extends IN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Cs,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const K0="VALID",Ab="INVALID",yy="PENDING",Y0="DISABLED";function JA(n){return(Sb(n)?n.validators:n)||null}function DN(n){return Array.isArray(n)?GA(n):n||null}function XA(n,e){return(Sb(e)?e.asyncValidators:n)||null}function CN(n){return Array.isArray(n)?zA(n):n||null}function Sb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class SN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=DN(this._rawValidators),this._composedAsyncValidatorFn=CN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===K0}get invalid(){return this.status===Ab}get pending(){return this.status==yy}get disabled(){return this.status===Y0}get enabled(){return this.status!==Y0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=DN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CN(e)}addValidators(e){this.setValidators(_N(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_N(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wN(e,this._rawAsyncValidators))}hasValidator(e){return Cb(this._rawValidators,e)}hasAsyncValidator(e){return Cb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Y0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=K0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K0||this.status===yy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y0:K0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yy,this._hasOwnPendingAsyncValidator=!0;const t=cN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Y0:this.errors?Ab:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yy)?yy:this._anyControlsHaveStatus(Ab)?Ab:K0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class xb extends SN{constructor(e,t,r){super(JA(t),XA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function AN(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new f.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function TN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Mb(n,e){return[...e.path,n]}function Q0(n,e){eS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function IP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xN(n,e)})}(n,e),function DP(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Nb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ob(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eS(n,e){const t=yN(n);null!==e.validator?n.setValidators(mN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=vN(n);null!==e.asyncValidator?n.setAsyncValidators(mN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Rb(e._rawValidators,o),Rb(e._rawAsyncValidators,o)}function Ob(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=yN(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=vN(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Rb(e._rawValidators,r),Rb(e._rawAsyncValidators,r),t}function xN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function MN(n,e){eS(n,e)}function tS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function RN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function nS(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Z0?t=u:function AP(n){return Object.getPrototypeOf(n.constructor)===Zp}(u)?r=u:o=u}),o||r||t||null}const xP={provide:Cs,useExisting:(0,f.Gpc)(()=>Pb)},J0=(()=>Promise.resolve())();let Pb=(()=>{class n extends Cs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new xb({},GA(t),zA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){J0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Q0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){J0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){J0.then(()=>{const r=this._findContainer(t.path),o=new xb({});MN(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){J0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){J0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,RN(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ji,10),f.Y36(Uh,10))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([xP]),f.qOj]}),n})();function ON(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function PN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jh=class extends SN{constructor(e=null,t,r){super(JA(t),XA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){PN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},RP={provide:Bh,useExisting:(0,f.Gpc)(()=>rS)},LN=(()=>Promise.resolve())();let rS=(()=>{class n extends Bh{constructor(t,r,o,u,d){super(),this._changeDetectorRef=d,this.control=new jh,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=nS(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Q0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,f.D6c)(r);LN.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Mb(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Cs,9),f.Y36(Ji,10),f.Y36(Uh,10),f.Y36(ll,10),f.Y36(f.sBO,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([RP]),f.qOj,f.TTD]}),n})(),iS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const OP={provide:ll,useExisting:(0,f.Gpc)(()=>sS),multi:!0};let sS=(()=>{class n extends Zp{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([OP]),f.qOj]}),n})(),VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const oS=new f.OlP("NgModelWithFormControlWarning"),VP={provide:Cs,useExisting:(0,f.Gpc)(()=>kb)};let kb=(()=>{class n extends Cs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ob(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Q0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Nb(t.control||null,t,!1),function SP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,RN(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Nb(r||null,t),(n=>n instanceof jh)(o)&&(Q0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);MN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function CP(n,e){return Ob(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eS(this.form,this),this._oldForm&&Ob(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ji,10),f.Y36(Uh,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([VP]),f.qOj,f.TTD]}),n})();const jP={provide:Bh,useExisting:(0,f.Gpc)(()=>lS)};let lS=(()=>{class n extends Bh{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=nS(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),tS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Mb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Cs,13),f.Y36(Ji,10),f.Y36(Uh,10),f.Y36(ll,10),f.Y36(oS,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([jP]),f.qOj,f.TTD]}),n})(),Kp=(()=>{class n{constructor(){this._validator=Db}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Db,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const YP={provide:Ji,useExisting:(0,f.Gpc)(()=>Fb),multi:!0};let Fb=(()=>{class n extends Kp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=t=>rN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([YP]),f.qOj]}),n})();const tk={provide:Ji,useExisting:(0,f.Gpc)(()=>hS),multi:!0};let hS=(()=>{class n extends Kp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>uN(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[f._Bn([tk]),f.qOj]}),n})(),XN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[VN]}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[XN]}),n})(),rk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[XN]}),n})();function sk(n,e){if(1&n&&(f.TgZ(0,"app-alert",11),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Q6J("color",t.alertColor),f.xp6(1),f.hij(" ",t.alertMsg,"\n")}}function ok(n,e){1&n&&(f.TgZ(0,"p",12),f._uU(1,"Invalid Email"),f.qZA())}function ak(n,e){1&n&&(f.TgZ(0,"p",12),f._uU(1,"Invalid Password"),f.qZA())}let uk=(()=>{class n{constructor(t){this.auth=t,this.credentials={email:"",password:""},this.showAlert=!1,this.alertMsg="Please wait while we log you in",this.alertColor="blue",this.inSubmission=!1}ngOnInit(){}login(){var t=this;return(0,fe.Z)(function*(){t.showAlert=!0,t.alertMsg="Please wait while we log you in",t.alertColor="Blue",t.inSubmission=!0,console.log(t.credentials);try{yield t.auth.signInWithEmailAndPassword(t.credentials.email,t.credentials.password),console.log(t.credentials)}catch(r){return t.inSubmission=!1,t.alertMsg="An unexpected Error has occured! Please try again later",t.alertColor="red",void console.log(r)}t.alertMsg="Success! You are now logged in!",t.alertColor="green"})()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(oa))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","","pattern","\n        ^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["type","password","name","password","required","","placeholder","Password",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,r){if(1&t&&(f.YNc(0,sk,2,2,"app-alert",0),f.TgZ(1,"form",1,2),f.NdJ("ngSubmit",function(){return r.login()}),f.TgZ(3,"div",3)(4,"label",4),f._uU(5,"Email"),f.qZA(),f.TgZ(6,"input",5,6),f.NdJ("ngModelChange",function(u){return r.credentials.email=u}),f.qZA(),f.YNc(8,ok,2,0,"p",7),f.qZA(),f.TgZ(9,"div",3)(10,"label",4),f._uU(11,"Password"),f.qZA(),f.TgZ(12,"input",8,9),f.NdJ("ngModelChange",function(u){return r.credentials.password=u}),f.qZA(),f.YNc(14,ak,2,0,"p",7),f.qZA(),f.TgZ(15,"button",10),f._uU(16," Submit "),f.qZA()()),2&t){const o=f.MAs(7),u=f.MAs(13);f.Q6J("ngIf",r.showAlert),f.xp6(6),f.Q6J("ngModel",r.credentials.email),f.xp6(2),f.Q6J("ngIf",o.dirty&&o.touched&&o.errors),f.xp6(4),f.Q6J("ngModel",r.credentials.password),f.xp6(2),f.Q6J("ngIf",u.dirty&&u.touched&&u.errors),f.xp6(1),f.Q6J("disabled",r.inSubmission)}},dependencies:[Un,QM,iS,Z0,WA,ZA,Fb,hS,rS,Pb]}),n})();function lk(n,e){if(1&n&&(f.TgZ(0,"app-alert",11),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Q6J("color",t.alertColor),f.xp6(1),f.hij(" ",t.alertMsg," ")}}let ck=(()=>{class n{constructor(t){this.auth=t,this.inSubmission=!1,this.name=new jh("",[Do.required,Do.minLength(3)]),this.email=new jh("",[Do.required,Do.email]),this.age=new jh(null,[Do.nullValidator,Do.required,Do.min(18),Do.max(120)]),this.password=new jh("",[Do.pattern("[a-zA-Z0-9 ]*")]),this.confirm_password=new jh("",[Do.required]),this.phoneNumber=new jh("",[Do.required,Do.minLength(13),Do.maxLength(13)]),this.registerForm=new xb({name:this.name,email:this.email,age:this.age,password:this.password,confirm_password:this.confirm_password,phoneNumber:this.phoneNumber}),this.showAlert=!1,this.alertMsg="Please wait while your account is being created.",this.alertColor="blue"}register(){var t=this;return(0,fe.Z)(function*(){t.showAlert=!0,t.alertMsg="Please wait while your account is being created.",t.alertColor="blue",t.inSubmission=!0;try{yield t.auth.createUser(t.registerForm.value)}catch(r){return console.error(r),t.alertMsg="An unexpected Error Occured, Please try again later",t.alertColor="red",void(t.inSubmission=!1)}t.alertMsg="Success! You have created the ACCOUNT",t.alertColor="green"})()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(bb))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-register"]],decls:28,vars:3,consts:[[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["formControlName","name","type","text","placeholder","Enter Name",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["formControlName","email","type","email","placeholder","Enter Email",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["formControlName","age","type","number",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["formControlName","password","type","password","placeholder","Password",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["formControlName","confirm_password","type","password","placeholder","Confirm Password",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["formControlName","phoneNumber","type","text","placeholder","Enter Phone Number",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500",3,"disabled"],[3,"color"]],template:function(t,r){1&t&&(f.YNc(0,lk,2,2,"app-alert",0),f.TgZ(1,"form",1),f.NdJ("ngSubmit",function(){return r.register()}),f.TgZ(2,"div",2)(3,"label",3),f._uU(4,"Name"),f.qZA(),f._UZ(5,"input",4),f.qZA(),f.TgZ(6,"div",2)(7,"label",3),f._uU(8,"Email"),f.qZA(),f._UZ(9,"input",5),f.qZA(),f.TgZ(10,"div",2)(11,"label",3),f._uU(12,"Age"),f.qZA(),f._UZ(13,"input",6),f.qZA(),f.TgZ(14,"div",2)(15,"label",3),f._uU(16,"Password"),f.qZA(),f._UZ(17,"input",7),f.qZA(),f.TgZ(18,"div",2)(19,"label",3),f._uU(20,"Confirm Password"),f.qZA(),f._UZ(21,"input",8),f.qZA(),f.TgZ(22,"div",2)(23,"label",3),f._uU(24,"Phone Number"),f.qZA(),f._UZ(25,"input",9),f.qZA(),f.TgZ(26,"button",10),f._uU(27," Submit "),f.qZA()()),2&t&&(f.Q6J("ngIf",r.showAlert),f.xp6(1),f.Q6J("formGroup",r.registerForm),f.xp6(25),f.Q6J("disabled",r.registerForm.invalid||r.inSubmission))},dependencies:[Un,QM,iS,Z0,sS,WA,ZA,kb,lS]}),n})(),dk=(()=>{class n{constructor(t){this.modal=t}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ku))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-auth-modal"]],decls:8,vars:0,consts:[["modalID","auth"],["header","",1,"text-2xl","font-bold"],["tabTitle","Login"],["tabTitle","Register"]],template:function(t,r){1&t&&(f.TgZ(0,"app-modal",0)(1,"p",1),f._uU(2,"Your Account"),f.qZA(),f.TgZ(3,"app-tabs-container")(4,"app-tab",2),f._UZ(5,"app-login"),f.qZA(),f.TgZ(6,"app-tab",3),f._UZ(7,"app-register"),f.qZA()()())},dependencies:[X1,iP,YM,uk,ck]}),n})();function hk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"li")(1,"a",15),f.NdJ("click",function(o){f.CHM(t);const u=f.oxw();return f.KtG(u.openModal(o))}),f._uU(2," Login / Register"),f.qZA()()}}function fk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"li")(1,"a",15),f.NdJ("click",function(o){f.CHM(t);const u=f.oxw();return f.KtG(u.getUser(o))}),f._uU(2,"Manage"),f.qZA()(),f.TgZ(3,"li")(4,"a",16),f._uU(5,"Upload"),f.qZA()(),f.TgZ(6,"li")(7,"a",15),f.NdJ("click",function(o){f.CHM(t);const u=f.oxw();return f.KtG(u.logout(o))}),f._uU(8,"Logout"),f.qZA()()}}let pk=(()=>{class n{constructor(t,r){this.modal=t,this.auth=r,this.userinfo="Suman Saha"}ngOnInit(){this.auth.getUserState().subscribe(t=>{this.user=t})}logout(t){t.preventDefault(),this.auth.logout()}openModal(t){t.preventDefault(),this.modal.toggleModal("auth")}getUser(t){t.preventDefault(),this.auth.getUser()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ku),f.Y36(bb))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-nav"]],decls:26,vars:5,consts:[["id","header",1,"bg-secondary"],[1,"container","mx-auto","flex","justify-start","items-center","py-8","px-4"],["href","index.html",1,"text-3xl","text-indigo-400","font-bold","uppercase","mr-4"],[1,"px-1","text-indigo-400"],[1,"flex","flex-grow","items-center"],[1,"flex","flex-row","mt-1"],[4,"ngIf","ngIfElse"],["authLinks",""],["href","about.html",1,"px-2"],[1,"flex","flex-row","ml-auto"],["href","#"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA1CAMAAACA7r40AAAA/FBMVEWyIjNPN2Y8O27///8/PnBOTXxycpY9PG9RUX5HR3dIR3dLSnlPTny4uMpWVYFFRHVwb5VlZIx7e52DgqOIh6aIiKc+PXBJSHhTUn9hYYqyIjReXohgX4lYV4Lr6/C2tcjPdYB0c5haWYRYV4Nra5GJiac+PW/FxdTHYG1RUH3eoajltbtOTXvty89BQHHg3+hSUX6GYoC6usyVlbFycZa7u8yUk6+sq8FCQXO0tMe1tMhiYYpMS3pDQnNvbpTExNN8fJ7GxdTGxtWCgqLHx9WXlrLXi5SYl7Kiobrg4Oiiorrn5u3n5+2jo7ukpLvw8PTx8fX09Pf19firqsC5sMNxAAAAAnRSTlPQ9qN1Xw4AAAGlSURBVHhe7ZXFiiRBFEVjznvp5W7t7j3u7m7//y8D1dAMGbnI4jW5KOpsgjibCxFcrrtVEmcBGAGQJHB98d3EgEM/ygsg/nwRAy15rxQ4Ywh3JQX49hVgKA/Ad1hDkkGTMSQJjGkOEmo133FmwAEQyl8FfSj3gFgkzjsQAw6AZ796AP2fGcDBS8/ZQ7ZQlJ2d+bEFqp6zhuh9Cf9/pDtKkTs04KBTD4jgx3eICOodoshz1p7M6UUAUQ+Ap2Pf2UMI5UBBX18/Ut7ZQ84Jui10QKsbcA7dt77jxIBDt+sxMNzrD4HL+rZS4Iw9iTZkCjRFmsBUHkcUOGMI7dkpKezuQsrprM3zR76zN572ekdBX623gaONJ0d5B5sGHAA1+QTwRQJgX2Q/7+w9GZGlDZKERpoxgkbDc8s0WscGSo+WGMiNVlgwWuFNjdafPsDe7wzg3RvP2UNCFGVtbX6EoOo7PhgoO1rGnswHiquB4mqgfIcxpBTGkNslMf2JVMAShRxXgJtUwBKFbFbAqicL4U4qYNWThXCHFbDqyUK4swpY9WQhXBX8A2rVjaQ6HWXmAAAAAElFTkSuQmCC","alt","en","width","22","height","14",1,"inline-block"],[1,"ml-1"],[2,"display","none"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABDBAMAAACYZb3pAAAAHlBMVEUpQqK2q8384OL3qa/tKTkAI5Wrt9z////5t7ztKTlzpJCAAAAABXRSTlP++vjs1BQWlgsAAAAxSURBVHgBYmRAA4yKaAJCAugqQgHtyzENAAAAAiD7pzaDr4MfRVEURVGU36IoipK5FLWNJ6UFusbWAAAAAElFTkSuQmCC","alt","fr","width","22","height","14",1,"inline-block"],["href","#",1,"px-2",3,"click"],["href","#",1,"px-2"]],template:function(t,r){if(1&t&&(f.TgZ(0,"header",0)(1,"nav",1)(2,"a",2),f._uU(3,"A2-WMG"),f.qZA(),f.TgZ(4,"p",3),f._uU(5),f.qZA(),f.TgZ(6,"div",4)(7,"ul",5),f.YNc(8,hk,3,0,"li",6),f.ALo(9,"async"),f.YNc(10,fk,9,0,"ng-template",null,7,f.W1O),f.TgZ(12,"li")(13,"a",8),f._uU(14,"About"),f.qZA()()(),f.TgZ(15,"ul",9)(16,"li")(17,"a",10),f._UZ(18,"img",11),f.TgZ(19,"span",12),f._uU(20,"English"),f.qZA()()(),f.TgZ(21,"li",13)(22,"a",10),f._UZ(23,"img",14),f.TgZ(24,"span",12),f._uU(25,"French"),f.qZA()()()()()()()),2&t){const o=f.MAs(11);f.xp6(5),f.hij("(",r.userinfo,")"),f.xp6(3),f.Q6J("ngIf",!f.lcZ(9,3,r.auth.isAuthenticated$))("ngIfElse",o)}},dependencies:[Un,hl]}),n})(),gk=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.auth.getUserState().subscribe(t=>{this.user=t})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(bb))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-body-primary"]],decls:18,vars:0,consts:[[1,"container","mx-auto"],[1,"uppercase","text-center","text-4xl","grid","mt-20","mb-12","items-center","gap-8","tracking-widest","latest"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"relative"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"h1",1),f._uU(2,"Latest"),f.qZA(),f.TgZ(3,"div",2)(4,"a",3),f._UZ(5,"img",4),f.TgZ(6,"div",5)(7,"div",6)(8,"div",7),f.O4$(),f.TgZ(9,"svg",8),f._UZ(10,"path",9),f.qZA()()()(),f.kcU(),f.TgZ(11,"div",10)(12,"h2",11),f._uU(13," Game Highlighting Clip "),f.qZA(),f.TgZ(14,"p",12),f._uU(15," Luis Ramirez \xb7 "),f.TgZ(16,"span",13),f._uU(17,"March 31, 2020"),f.qZA()()()()()())}}),n})();function mk(n,e){1&n&&f._UZ(0,"app-body-primary")}function yk(n,e){1&n&&f._UZ(0,"app-auth-modal")}let vk=(()=>{class n{constructor(t,r){this.modal=t,this.auth=r,this.title="A2-WMG"}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ku),f.Y36(bb))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:6,consts:[[1,"relative","overflow-hidden","mb-2"],["autoplay","","muted","","loop","",1,"w-full","h-full","object-cover","absolute","z-0"],["src","assets/video/hero.webm","type","video/webm"],[1,"bg-gradient","absolute","w-full","h-full","z-40","opacity-60"],[1,"w-full","h-full","absolute","z-40"],[1,"cube"],[1,"container","mx-auto","relative","z-50"],[1,"text-center","px-20","py-60","w-full","md:w-8/12","mx-auto"],[1,"text-7xl","font-bold","uppercase","mb-2"],[4,"ngIf"]],template:function(t,r){1&t&&(f._UZ(0,"app-nav"),f.TgZ(1,"section",0)(2,"video",1),f._UZ(3,"source",2),f.qZA(),f._UZ(4,"div",3),f.TgZ(5,"div",4),f._UZ(6,"div",5)(7,"div",5)(8,"div",5)(9,"div",5)(10,"div",5),f.qZA(),f.TgZ(11,"div",6)(12,"div",7)(13,"h1",8),f._uU(14,"A2 WMG Home Page"),f.qZA(),f.TgZ(15,"p"),f._uU(16," The #1 app to watch, clip, and share your awesome Official moments with your friends and the world! With our world-class tools, we make it incredibly easy to share your videos. Get started today! "),f.qZA()()()(),f.YNc(17,mk,1,0,"app-body-primary",9),f.ALo(18,"async"),f.YNc(19,yk,1,0,"app-auth-modal",9),f.ALo(20,"async"),f._UZ(21,"router-outlet")),2&t&&(f.xp6(17),f.Q6J("ngIf",f.lcZ(18,2,r.auth.isAuthenticated$)),f.xp6(2),f.Q6J("ngIf",!f.lcZ(20,4,r.auth.isAuthenticated$)))},dependencies:[Un,or,dk,pk,gk,hl]}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Ku],imports:[ji]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[ji,_k,rk,nk]}),n})();const Ek_firebase={apiKey:"AIzaSyBsld0WLuiYJycLUPtF8tZq6sjCW1jnNiQ",authDomain:"a2wmg-69ed7.firebaseapp.com",projectId:"a2wmg-69ed7",storageBucket:"a2wmg-69ed7.appspot.com",appId:"1:1052836547541:web:bd36e1702a5e1d0942cb5c"};let Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[vk]}),n.\u0275inj=f.cJS({imports:[ku,IS,wk,sa.hO.initializeApp(Ek_firebase),Qd,K1,Qo]}),n})();(0,f.G48)(),Pu().bootstrapModule(Ik).catch(n=>console.error(n))},5867:(lt,we,k)=>{k.d(we,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=k(9681);(0,f.registerVersion)("firebase","9.12.1","app")},127:(lt,we,k)=>{k.d(we,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.12.1","app-compat")},4203:(lt,we,k)=>{k.r(we);var f=k(5861),Q=k(3942),O=k(2090),ne=k(9681),oe=k(1877);function le(y,h){var p={};for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&h.indexOf(_)<0&&(p[_]=y[_]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(_=Object.getOwnPropertySymbols(y);C<_.length;C++)h.indexOf(_[C])<0&&Object.prototype.propertyIsEnumerable.call(y,_[C])&&(p[_[C]]=y[_[C]])}return p}var vt=k(4859);const on=function Wt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},hi=function Sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xn=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ts=new oe.Yd("@firebase/auth");function Zr(y,...h){Ts.logLevel<=oe.in.ERROR&&Ts.error(`Auth (${ne.SDK_VERSION}): ${y}`,...h)}function nn(y,...h){throw Lr(y,...h)}function On(y,...h){return Lr(y,...h)}function Co(y,h,p){const _=Object.assign(Object.assign({},hi()),{[h]:p});return new O.LL("auth","Firebase",_).create(h,{appName:y.name})}function Tr(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&nn(y,"argument-error"),Co(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lr(y,...h){if("string"!=typeof y){const p=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return xn.create(y,...h)}function Me(y,h,...p){if(!y)throw Lr(h,...p)}function Vr(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Zr(h),new Error(h)}function He(y,h){y||Vr(h)}const mr=new Map;function Xn(y){He(y instanceof Function,"Expected a class definition");let h=mr.get(y);return h?(He(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,mr.set(y,h),h)}function Ui(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function wn(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ot{constructor(h,p){this.shortDelay=h,this.longDelay=p,He(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function En(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kt(y,h){He(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class es{static initialize(h,p,_){this.fetchImpl=h,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kr=new ot(3e4,6e4);function nt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function gn(y,h,p,_){return an.apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(y,h,p,_,C={}){return ts(y,C,(0,f.Z)(function*(){let S={},L={};_&&("GET"===h?L=_:S={body:JSON.stringify(_)});const J=(0,O.xO)(Object.assign({key:y.config.apiKey},L)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),es.fetch()(Je(y,y.config.apiHost,p,J),Object.assign({method:h,headers:Ne,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function ts(y,h,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(y,h,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},lr),h);try{const C=new Ee(y),S=yield Promise.race([p(),C.promise]);C.clearNetworkTimeout();const L=yield S.json();if("needConfirmation"in L)throw Ke(y,"account-exists-with-different-credential",L);if(S.ok&&!("errorMessage"in L))return L;{const J=S.ok?L.errorMessage:L.error.message,[Ne,De]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Ke(y,"credential-already-in-use",L);if("EMAIL_EXISTS"===Ne)throw Ke(y,"email-already-in-use",L);if("USER_DISABLED"===Ne)throw Ke(y,"user-disabled",L);const tt=_[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw Co(y,tt,De);nn(y,tt)}}catch(C){if(C instanceof O.ZR)throw C;nn(y,"network-request-failed")}})).apply(this,arguments)}function mn(y,h,p,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(y,h,p,_,C={}){const S=yield gn(y,h,p,_,C);return"mfaPendingCredential"in S&&nn(y,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function Je(y,h,p,_){const C=`${h}${p}?${_}`;return y.config.emulator?Kt(y.config,C):`${y.config.apiScheme}://${C}`}class Ee{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(On(this.auth,"network-request-failed")),Kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ke(y,h,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const C=On(y,h,_);return C.customData._tokenResponse=p,C}function Tt(){return(Tt=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ht(y,h){return j.apply(this,arguments)}function j(){return(j=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function V(y,h){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ve(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function dt(){return(dt=(0,f.Z)(function*(y,h=!1){const p=(0,O.m9)(y),_=yield p.getIdToken(h),C=un(_);Me(C&&C.exp&&C.auth_time&&C.iat,p.auth,"internal-error");const S="object"==typeof C.firebase?C.firebase:void 0,L=S?.sign_in_provider;return{claims:C,token:_,authTime:ve(qt(C.auth_time)),issuedAtTime:ve(qt(C.iat)),expirationTime:ve(qt(C.exp)),signInProvider:L||null,signInSecondFactor:S?.sign_in_second_factor||null}})).apply(this,arguments)}function qt(y){return 1e3*Number(y)}function un(y){var h;const[p,_,C]=y.split(".");if(void 0===p||void 0===_||void 0===C)return Zr("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(_);return S?JSON.parse(S):(Zr("Failed to decode base64 JWT payload"),null)}catch(S){return Zr("Caught error parsing JWT payload as JSON",null===(h=S)||void 0===h?void 0:h.toString()),null}}function Pe(y,h){return je.apply(this,arguments)}function je(){return(je=(0,f.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(_){throw _ instanceof O.ZR&&$t(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function $t({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class cr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const C=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),_)}iteration(){var h=this;return(0,f.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(p=_)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Ur{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ve(this.lastLoginAt),this.creationTime=ve(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mn(y){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(y){var h;const p=y.auth,_=yield y.getIdToken(),C=yield Pe(y,V(p,{idToken:_}));Me(C?.users.length,p,"internal-error");const S=C.users[0];y._notifyReloadListener(S);const L=null!==(h=S.providerUserInfo)&&void 0!==h&&h.length?Ot(S.providerUserInfo):[],J=To(y.providerData,L),tt=!!y.isAnonymous&&!(y.email&&S.passwordHash||J?.length),it={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:J,metadata:new Ur(S.createdAt,S.lastLoginAt),isAnonymous:tt};Object.assign(y,it)})).apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(y){const h=(0,O.m9)(y);yield Mn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function To(y,h){return[...y.filter(_=>!h.some(C=>C.providerId===_.providerId)),...h]}function Ot(y){return y.map(h=>{var{providerId:p}=h,_=le(h,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function Ss(){return(Ss=(0,f.Z)(function*(y,h){const p=yield ts(y,{},(0,f.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:C,apiKey:S}=y.config,L=Je(y,C,"/v1/token",`key=${S}`),J=yield y._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",es.fetch()(L,{method:"POST",headers:J,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Me(h.idToken,"internal-error"),Me(typeof h.idToken<"u","internal-error"),Me(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function rn(y){const h=un(y);return Me(h,"internal-error"),Me(typeof h.exp<"u","internal-error"),Me(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var _=this;return(0,f.Z)(function*(){return Me(!_.accessToken||_.refreshToken,h,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var _=this;return(0,f.Z)(function*(){const{accessToken:C,refreshToken:S,expiresIn:L}=yield function Ao(y,h){return Ss.apply(this,arguments)}(h,p);_.updateTokensAndExpiration(C,S,Number(L))})()}updateTokensAndExpiration(h,p,_){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,p){const{refreshToken:_,accessToken:C,expirationTime:S}=p,L=new Ks;return _&&(Me("string"==typeof _,"internal-error",{appName:h}),L.refreshToken=_),C&&(Me("string"==typeof C,"internal-error",{appName:h}),L.accessToken=C),S&&(Me("number"==typeof S,"internal-error",{appName:h}),L.expirationTime=S),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ks,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function vr(y,h){Me("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class hn{constructor(h){var{uid:p,auth:_,stsTokenManager:C}=h,S=le(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new Ur(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const _=yield Pe(p,p.stsTokenManager.getToken(p.auth,h));return Me(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(h){return function $e(y){return dt.apply(this,arguments)}(this,h)}reload(){return function yn(y){return ns.apply(this,arguments)}(this)}_assign(h){this!==h&&(Me(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new hn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var _=this;return(0,f.Z)(function*(){let C=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),C=!0),p&&(yield Mn(_)),yield _.auth._persistUserIfCurrent(_),C&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield Pe(h,function Ct(y,h){return Tt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var _,C,S,L,J,Ne,De,tt;const it=null!==(_=p.displayName)&&void 0!==_?_:void 0,jt=null!==(C=p.email)&&void 0!==C?C:void 0,Ir=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,yi=null!==(L=p.photoURL)&&void 0!==L?L:void 0,Fd=null!==(J=p.tenantId)&&void 0!==J?J:void 0,Cf=null!==(Ne=p._redirectEventId)&&void 0!==Ne?Ne:void 0,Ld=null!==(De=p.createdAt)&&void 0!==De?De:void 0,Vd=null!==(tt=p.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Ud,emailVerified:Tf,isAnonymous:Sr,providerData:zl,stsTokenManager:ru}=p;Me(Ud&&ru,h,"internal-error");const Zu=Ks.fromJSON(this.name,ru);Me("string"==typeof Ud,h,"internal-error"),vr(it,h.name),vr(jt,h.name),Me("boolean"==typeof Tf,h,"internal-error"),Me("boolean"==typeof Sr,h,"internal-error"),vr(Ir,h.name),vr(yi,h.name),vr(Fd,h.name),vr(Cf,h.name),vr(Ld,h.name),vr(Vd,h.name);const or=new hn({uid:Ud,auth:h,email:jt,emailVerified:Tf,displayName:it,isAnonymous:Sr,photoURL:yi,phoneNumber:Ir,tenantId:Fd,stsTokenManager:Zu,createdAt:Ld,lastLoginAt:Vd});return zl&&Array.isArray(zl)&&(or.providerData=zl.map(ql=>Object.assign({},ql))),Cf&&(or._redirectEventId=Cf),or}static _fromIdTokenResponse(h,p,_=!1){return(0,f.Z)(function*(){const C=new Ks;C.updateFromServerResponse(p);const S=new hn({uid:p.localId,auth:h,stsTokenManager:C,isAnonymous:_});return yield Mn(S),S})()}}const Yr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,_){var C=this;return(0,f.Z)(function*(){C.storage[p]=_})()}_get(p){var _=this;return(0,f.Z)(function*(){const C=_.storage[p];return void 0===C?null:C})()}_remove(p){var _=this;return(0,f.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return y.type="NONE",y})();function dr(y,h,p){return`firebase:${y}:${h}:${p}`}class In{constructor(h,p,_){this.persistence=h,this.auth=p,this.userKey=_;const{config:C,name:S}=this.auth;this.fullUserKey=dr(this.userKey,C.apiKey,S),this.fullPersistenceKey=dr("persistence",C.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?hn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,_="authUser"){return(0,f.Z)(function*(){if(!p.length)return new In(Xn(Yr),h,_);const C=(yield Promise.all(p.map(function(){var De=(0,f.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return De.apply(this,arguments)}}()))).filter(De=>De);let S=C[0]||Xn(Yr);const L=dr(_,h.config.apiKey,h.name);let J=null;for(const De of p)try{const tt=yield De._get(L);if(tt){const it=hn._fromJSON(h,tt);De!==S&&(J=it),S=De;break}}catch{}const Ne=C.filter(De=>De._shouldAllowMigration);return S._shouldAllowMigration&&Ne.length?(S=Ne[0],J&&(yield S._set(L,J.toJSON())),yield Promise.all(p.map(function(){var De=(0,f.Z)(function*(tt){if(tt!==S)try{yield tt._remove(L)}catch{}});return function(tt){return De.apply(this,arguments)}}())),new In(S,h,_)):new In(S,h,_)})()}}function yu(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xo(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Jt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Mo(h))return"Blackberry";if(No(h))return"Webos";if(cl(h))return"Safari";if((h.includes("chrome/")||vu(h))&&!h.includes("edge/"))return"Chrome";if(rs(h))return"Android";{const _=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Jt(y=(0,O.z$)()){return/firefox\//i.test(y)}function cl(y=(0,O.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function vu(y=(0,O.z$)()){return/crios\//i.test(y)}function xo(y=(0,O.z$)()){return/iemobile/i.test(y)}function rs(y=(0,O.z$)()){return/android/i.test(y)}function Mo(y=(0,O.z$)()){return/blackberry/i.test(y)}function No(y=(0,O.z$)()){return/webos/i.test(y)}function Br(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Qr(y=(0,O.z$)()){return Br(y)||rs(y)||No(y)||Mo(y)||/windows phone/i.test(y)||xo(y)}function wu(y,h=[]){let p;switch(y){case"Browser":p=yu((0,O.z$)());break;case"Worker":p=`${yu((0,O.z$)())}-${y}`;break;default:p=y}const _=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ne.SDK_VERSION}/${_}`}class dl{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const _=S=>new Promise((L,J)=>{try{L(h(S))}catch(Ne){J(Ne)}});_.onAbort=p,this.queue.push(_);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,f.Z)(function*(){var _;if(p.auth.currentUser===h)return;const C=[];try{for(const S of p.queue)yield S(h),S.onAbort&&C.push(S.onAbort)}catch(S){C.reverse();for(const L of C)try{L()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=S)||void 0===_?void 0:_.message})}})()}}class Jr{constructor(h,p,_){this.app=h,this.heartbeatServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $h(this),this.idTokenSubscription=new $h(this),this.beforeStateQueue=new dl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(h,p){var _=this;return p&&(this._popupRedirectResolver=Xn(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var C,S;if(!_._deleted&&(_.persistenceManager=yield In.create(_,h),!_._deleted)){if(null!==(C=_._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(S=_.currentUser)||void 0===S?void 0:S.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var _;const C=yield p.assertedPersistence.getCurrentUser();let S=C,L=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const J=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,Ne=S?._redirectEventId,De=yield p.tryRedirectSignIn(h);(!J||J===Ne)&&De?.user&&(S=De.user,L=!0)}if(!S)return p.directlySetCurrentUser(null);if(!S._redirectEventId){if(L)try{yield p.beforeStateQueue.runMiddleware(S)}catch(J){S=C,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(J))}return S?p.reloadAndSetCurrentUserOrClear(S):p.directlySetCurrentUser(null)}return Me(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===S._redirectEventId?p.directlySetCurrentUser(S):p.reloadAndSetCurrentUserOrClear(S)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){var _;try{yield Mn(h)}catch(C){if("auth/network-request-failed"!==(null===(_=C)||void 0===_?void 0:_.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const _=h?(0,O.m9)(h):null;return _&&Me(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(h,p=!1){var _=this;return(0,f.Z)(function*(){if(!_._deleted)return h&&Me(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),p||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,f.Z)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(Xn(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,p,_){return this.registerStateListener(this.authStateSubscription,h,p,_)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,_){return this.registerStateListener(this.idTokenSubscription,h,p,_)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var _=this;return(0,f.Z)(function*(){const C=yield _.getOrInitRedirectPersistenceManager(p);return null===h?C.removeCurrentUser():C.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const _=h&&Xn(h)||p._popupRedirectResolver;Me(_,p,"argument-error"),p.redirectPersistenceManager=yield In.create(p,[Xn(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var _,C;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===h?p._currentUser:(null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,_,C){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),L=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(L,this,"internal-error"),L.then(()=>S(this.currentUser)),"function"==typeof p?h.addObserver(p,_,C):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=wu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var p;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const C=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return C&&(_["X-Firebase-Client"]=C),_})()}}function tr(y){return(0,O.m9)(y)}class $h{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(p=>this.observer=p)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fc(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Di(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ma{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Vr("not implemented")}_getIdTokenResponse(h){return Vr("not implemented")}_linkToIdToken(h,p){return Vr("not implemented")}_getReauthenticationResolver(h){return Vr("not implemented")}}function Gh(y,h){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:resetPassword",nt(y,h))})).apply(this,arguments)}function hl(y,h){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ro(y,h){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:update",nt(y,h))})).apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithPassword",nt(y,h))})).apply(this,arguments)}function fl(y,h){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:sendOobCode",nt(y,h))})).apply(this,arguments)}function jc(y,h){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,f.Z)(function*(y,h){return fl(y,h)})).apply(this,arguments)}function Hc(y,h){return $c.apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(y,h){return fl(y,h)})).apply(this,arguments)}function Gc(y,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(y,h){return fl(y,h)})).apply(this,arguments)}function zh(y,h){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(y,h){return fl(y,h)})).apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,h))})).apply(this,arguments)}function Iu(){return(Iu=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,h))})).apply(this,arguments)}class va extends ma{constructor(h,p,_,C=null){super("password",_),this._email=h,this._password=p,this._tenantId=C}static _fromEmailAndPassword(h,p){return new va(h,p,"password")}static _fromEmailAndCode(h,p,_=null){return new va(h,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function Qp(y,h){return Uc.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function zc(y,h){return Po.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:nn(h,"internal-error")}})()}_linkToIdToken(h,p){var _=this;return(0,f.Z)(function*(){switch(_.signInMethod){case"password":return hl(h,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function pl(y,h){return Iu.apply(this,arguments)}(h,{idToken:p,email:_._email,oobCode:_._password});default:nn(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ji(y,h){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithIdp",nt(y,h))})).apply(this,arguments)}class Pn extends ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Pn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):nn("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C}=p,S=le(p,["providerId","signInMethod"]);if(!_||!C)return null;const L=new Pn(_,C);return L.idToken=S.idToken||void 0,L.accessToken=S.accessToken||void 0,L.secret=S.secret,L.nonce=S.nonce,L.pendingToken=S.pendingToken||null,L}_getIdTokenResponse(h){return ji(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,ji(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ji(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,O.xO)(p)}return h}}function _a(y,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:sendVerificationCode",nt(y,h))})).apply(this,arguments)}function Wc(){return(Wc=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,h))})).apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(y,h){const p=yield mn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,h));if(p.temporaryProof)throw Ke(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Wh={USER_NOT_FOUND:"user-not-found"};function Xr(){return(Xr=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Wh)})).apply(this,arguments)}class Bn extends ma{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Bn({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Bn({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function wa(y,h){return Wc.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function qh(y,h){return kn.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Jp(y,h){return Xr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:_,verificationCode:C}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:_,code:C}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:_,phoneNumber:C,temporaryProof:S}=h;return _||p||C||S?new Bn({verificationId:p,verificationCode:_,phoneNumber:C,temporaryProof:S}):null}}class Ti{constructor(h){var p,_,C,S,L,J;const Ne=(0,O.zd)((0,O.pd)(h)),De=null!==(p=Ne.apiKey)&&void 0!==p?p:null,tt=null!==(_=Ne.oobCode)&&void 0!==_?_:null,it=function Zc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Ne.mode)&&void 0!==C?C:null);Me(De&&tt&&it,"argument-error"),this.apiKey=De,this.operation=it,this.code=tt,this.continueUrl=null!==(S=Ne.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(L=Ne.languageCode)&&void 0!==L?L:null,this.tenantId=null!==(J=Ne.tenantId)&&void 0!==J?J:null}static parseLink(h){const p=function Ea(y){const h=(0,O.zd)((0,O.pd)(y)).link,p=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,_=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(_?(0,O.zd)((0,O.pd)(_)).link:null)||_||p||h||y}(h);try{return new Ti(p)}catch{return null}}}let bu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,_){return va._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const C=Ti.parseLink(_);return Me(C,"argument-error"),va._fromEmailAndCode(p,C.code,C.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class jr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ys extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ar extends Ys{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Me("providerId"in p&&"signInMethod"in p,"argument-error"),Pn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Me(h.idToken||h.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ar.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ar.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:C,pendingToken:S,nonce:L,providerId:J}=h;if(!_&&!C&&!p&&!S||!J)return null;try{return new Ar(J)._credential({idToken:p,accessToken:_,nonce:L,pendingToken:S})}catch{return null}}}let gl=(()=>{class y extends Ys{constructor(){super("facebook.com")}static credential(p){return Pn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),jn=(()=>{class y extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return Pn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C}=p;if(!_&&!C)return null;try{return y.credential(_,C)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Dt=(()=>{class y extends Ys{constructor(){super("github.com")}static credential(p){return Pn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Du extends ma{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return ji(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,ji(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ji(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:C,pendingToken:S}=p;return _&&C&&S&&_===C?new Du(_,S):null}static _create(h,p){return new Du(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ia extends jr{constructor(h){Me(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ia.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ia.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Du.fromJSON(h);return Me(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:_}=h;if(!p||!_)return null;try{return Du._create(_,p)}catch{return null}}}let Cu=(()=>{class y extends Ys{constructor(){super("twitter.com")}static credential(p,_){return Pn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:C}=p;if(!_||!C)return null;try{return y.credential(_,C)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function xs(y,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signUp",nt(y,h))})).apply(this,arguments)}class Hr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,_,C=!1){return(0,f.Z)(function*(){const S=yield hn._fromIdTokenResponse(h,_,C),L=Ie(_);return new Hr({user:S,providerId:L,_tokenResponse:_,operationType:p})})()}static _forOperation(h,p,_){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const C=Ie(_);return new Hr({user:h,providerId:C,_tokenResponse:_,operationType:p})})()}}function Ie(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function vl(){return(vl=(0,f.Z)(function*(y){var h;const p=tr(y);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Hr({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield xs(p,{returnSecureToken:!0}),C=yield Hr._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class Qs extends O.ZR{constructor(h,p,_,C){var S;super(p.code,p.message),this.operationType=_,this.user=C,Object.setPrototypeOf(this,Qs.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,p,_,C){return new Qs(h,p,_,C)}}function Hn(y,h,p,_){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?Qs._fromErrorAndOperation(y,S,h,_):S})}function Da(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function $r(){return($r=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y);yield Au(!0,p,h);const{providerUserInfo:_}=yield Ht(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),C=Da(_||[]);return p.providerData=p.providerData.filter(S=>C.has(S.providerId)),C.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ca(y,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(y,h,p=!1){const _=yield Pe(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return Hr._forOperation(y,"link",_)})).apply(this,arguments)}function Au(y,h,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,f.Z)(function*(y,h,p){yield Mn(h);const C=!1===y?"provider-already-linked":"no-such-provider";Me(Da(h.providerData).has(p)===y,h.auth,C)})).apply(this,arguments)}function Zh(y,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(y,h,p=!1){var _;const{auth:C}=y,S="reauthenticate";try{const L=yield Pe(y,Hn(C,S,h,y),p);Me(L.idToken,C,"internal-error");const J=un(L.idToken);Me(J,C,"internal-error");const{sub:Ne}=J;return Me(y.uid===Ne,C,"user-mismatch"),Hr._forOperation(y,S,L)}catch(L){throw"auth/user-not-found"===(null===(_=L)||void 0===_?void 0:_.code)&&nn(C,"user-mismatch"),L}})).apply(this,arguments)}function $n(y,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(y,h,p=!1){const _="signIn",C=yield Hn(y,_,h),S=yield Hr._fromIdTokenResponse(y,_,C);return p||(yield y._updateCurrentUser(S.user)),S})).apply(this,arguments)}function Fo(y,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(y,h){return $n(tr(y),h)})).apply(this,arguments)}function Hi(y,h){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y);return yield Au(!1,p,h.providerId),Ca(p,h)})).apply(this,arguments)}function Su(y,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(y,h){return Zh((0,O.m9)(y),h)})).apply(this,arguments)}function Kh(y,h){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(y,h){return mn(y,"POST","/v1/accounts:signInWithCustomToken",nt(y,h))})).apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(y,h){const p=tr(y),_=yield Kh(p,{token:h,returnSecureToken:!0}),C=yield Hr._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class Vo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Sa._fromServerResponse(h,p):nn(h,"internal-error")}}class Sa extends Vo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Sa(p)}}function xa(y,h,p){var _;Me((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),Me(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Me(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Me(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function wl(){return(wl=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),C={requestType:"PASSWORD_RESET",email:h};p&&xa(_,C,p),yield Hc(_,C)})).apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(y,h,p){yield Gh((0,O.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(y,h){yield Ro((0,O.m9)(y),{oobCode:h})})).apply(this,arguments)}function eo(y,h){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y),_=yield Gh(p,{oobCode:h}),C=_.requestType;switch(Me(C,p,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(_.mfaInfo,p,"internal-error");default:Me(_.email,p,"internal-error")}let S=null;return _.mfaInfo&&(S=Vo._fromServerResponse(tr(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:S},operation:C}})).apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(y,h){const{data:p}=yield eo((0,O.m9)(y),h);return p.email})).apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(y,h,p){const _=tr(y),C=yield xs(_,{returnSecureToken:!0,email:h,password:p}),S=yield Hr._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),C={requestType:"EMAIL_SIGNIN",email:h};Me(p.handleCodeInApp,_,"argument-error"),p&&xa(_,C,p),yield Gc(_,C)})).apply(this,arguments)}function Uo(){return(Uo=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),C=bu.credentialWithLink(h,p||Ui());return Me(C._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Fo(_,C)})).apply(this,arguments)}function to(y,h){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:createAuthUri",nt(y,h))})).apply(this,arguments)}function as(){return(as=(0,f.Z)(function*(y,h){const _={identifier:h,continueUri:wn()?Ui():"http://localhost"},{signinMethods:C}=yield to((0,O.m9)(y),_);return C||[]})).apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y),C={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&xa(p.auth,C,h);const{email:S}=yield jc(p.auth,C);S!==y.email&&(yield y.reload())})).apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&xa(_.auth,S,p);const{email:L}=yield zh(_.auth,S);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xc(y,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,f.Z)(function*(y,h){return gn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const _=(0,O.m9)(y),S={idToken:yield _.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},L=yield Pe(_,Xc(_.auth,S));_.displayName=L.displayName||null,_.photoURL=L.photoUrl||null;const J=_.providerData.find(({providerId:Ne})=>"password"===Ne);J&&(J.displayName=_.displayName,J.photoURL=_.photoURL),yield _._updateTokensIfNecessary(L)})).apply(this,arguments)}function Ra(y,h,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(y,h,p){const{auth:_}=y,S={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(S.email=h),p&&(S.password=p);const L=yield Pe(y,hl(_,S));yield y._updateTokensIfNecessary(L,!0)})).apply(this,arguments)}class Ns{constructor(h,p,_={}){this.isNewUser=h,this.providerId=p,this.profile=_}}class Ho extends Ns{constructor(h,p,_,C){super(h,p,_),this.username=C}}class td extends Ns{constructor(h,p){super(h,"facebook.com",p)}}class nd extends Ho{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class rr extends Ns{constructor(h,p){super(h,"google.com",p)}}class rd extends Ho{constructor(h,p,_){super(h,"twitter.com",p,_)}}function $o(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ou(y){var h,p;if(!y)return null;const{providerId:_}=y,C=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},S=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const L=null===(p=null===(h=un(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(L)return new Ns(S,"anonymous"!==L&&"custom"!==L?L:null)}if(!_)return null;switch(_){case"facebook.com":return new td(S,C);case"github.com":return new nd(S,C);case"google.com":return new rr(S,C);case"twitter.com":return new rd(S,C,y.screenName||null);case"custom":case"anonymous":return new Ns(S,null);default:return new Ns(S,_,C)}}(p)}class ls{constructor(h,p,_){this.type=h,this.credential=p,this.auth=_}static _fromIdtoken(h,p){return new ls("enroll",h,p)}static _fromMfaPendingCredential(h){return new ls("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,_;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return ls._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return ls._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Go{constructor(h,p,_){this.session=h,this.hints=p,this.signInResolver=_}static _fromError(h,p){const _=tr(h),C=p.customData._serverResponse,S=(C.mfaInfo||[]).map(J=>Vo._fromServerResponse(_,J));Me(C.mfaPendingCredential,_,"internal-error");const L=ls._fromMfaPendingCredential(C.mfaPendingCredential);return new Go(L,S,function(){var J=(0,f.Z)(function*(Ne){const De=yield Ne._process(_,L);delete C.mfaInfo,delete C.mfaPendingCredential;const tt=Object.assign(Object.assign({},C),{idToken:De.idToken,refreshToken:De.refreshToken});switch(p.operationType){case"signIn":const it=yield Hr._fromIdTokenResponse(_,p.operationType,tt);return yield _._updateCurrentUser(it.user),it;case"reauthenticate":return Me(p.user,_,"internal-error"),Hr._forOperation(p.user,p.operationType,tt);default:nn(_,"internal-error")}});return function(Ne){return J.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function no(y,h){return gn(y,"POST","/v2/accounts/mfaEnrollment:start",nt(y,h))}class ku{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>Vo._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new ku(h)}getSession(){var h=this;return(0,f.Z)(function*(){return ls._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var _=this;return(0,f.Z)(function*(){const C=h,S=yield _.getSession(),L=yield Pe(_.user,C._process(_.user.auth,S,p));return yield _.user._updateTokensIfNecessary(L),_.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){var _;const C="string"==typeof h?h:h.uid,S=yield p.user.getIdToken(),L=yield Pe(p.user,function Pa(y,h){return gn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(y,h))}(p.user.auth,{idToken:S,mfaEnrollmentId:C}));p.enrolledFactors=p.enrolledFactors.filter(({uid:J})=>J!==C),yield p.user._updateTokensIfNecessary(L);try{yield p.user.reload()}catch(J){if("auth/user-token-expired"!==(null===(_=J)||void 0===_?void 0:_.code))throw J}})()}}const ka=new WeakMap,Fa="__sak";class La{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Fa,"1"),this.storage.removeItem(Fa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const cs=(()=>{class y extends La{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rs(){const y=(0,O.z$)();return cl(y)||Br(y)}()&&function _u(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const C=this.storage.getItem(_),S=this.localCache[_];C!==S&&p(_,S,C)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((J,Ne,De)=>{this.notifyListeners(J,De)});const C=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(C);if(p.newValue!==J)null!==p.newValue?this.storage.setItem(C,p.newValue):this.storage.removeItem(C);else if(this.localCache[C]===p.newValue&&!_)return}const S=()=>{const J=this.storage.getItem(C);!_&&this.localCache[C]===J||this.notifyListeners(C,J)},L=this.storage.getItem(C);!function hr(){return(0,O.w1)()&&10===document.documentMode}()||L===p.newValue||p.newValue===p.oldValue?S():setTimeout(S,10)}notifyListeners(p,_){this.localCache[p]=_;const C=this.listeners[p];if(C)for(const S of Array.from(C))S(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var C=()=>super._set,S=this;return(0,f.Z)(function*(){yield C().call(S,p,_),S.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,C=this;return(0,f.Z)(function*(){const S=yield _().call(C,p);return C.localCache[p]=JSON.stringify(S),S})()}_remove(p){var _=()=>super._remove,C=this;return(0,f.Z)(function*(){yield _().call(C,p),delete C.localCache[p]})()}}return y.type="LOCAL",y})(),_r=(()=>{class y extends La{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();let Xh=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(S=>S.isListeningto(p));if(_)return _;const C=new y(p);return this.receivers.push(C),C}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,f.Z)(function*(){const C=p,{eventId:S,eventType:L,data:J}=C.data,Ne=_.handlersMap[L];if(!Ne?.size)return;C.ports[0].postMessage({status:"ack",eventId:S,eventType:L});const De=Array.from(Ne).map(function(){var it=(0,f.Z)(function*(jt){return jt(C.origin,J)});return function(jt){return it.apply(this,arguments)}}()),tt=yield function Va(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return h.apply(this,arguments)}}()))}(De);C.ports[0].postMessage({status:"done",eventId:S,eventType:L,response:tt})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function zi(y="",h=10){let p="";for(let _=0;_<h;_++)p+=Math.floor(10*Math.random());return y+p}class Lu{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,_=50){var C=this;return(0,f.Z)(function*(){const S=typeof MessageChannel<"u"?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let L,J;return new Promise((Ne,De)=>{const tt=zi("",20);S.port1.start();const it=setTimeout(()=>{De(new Error("unsupported_event"))},_);J={messageChannel:S,onMessage(jt){const Ir=jt;if(Ir.data.eventId===tt)switch(Ir.data.status){case"ack":clearTimeout(it),L=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(L),Ne(Ir.data.response);break;default:clearTimeout(it),clearTimeout(L),De(new Error("invalid_response"))}}},C.handlers.add(J),S.port1.addEventListener("message",J.onMessage),C.target.postMessage({eventType:h,eventId:tt,data:p},[S.port2])}).finally(()=>{J&&C.removeMessageHandler(J)})})()}}function Yt(){return window}function Os(){return typeof Yt().WorkerGlobalScope<"u"&&"function"==typeof Yt().importScripts}function Ba(){return(Ba=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sl="firebaseLocalStorageDb",xl="firebaseLocalStorage",eg="fbase_key";class dd{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function hd(y,h){return y.transaction([xl],h?"readwrite":"readonly").objectStore(xl)}function Ml(){const y=indexedDB.open(Sl,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const _=y.result;try{_.createObjectStore(xl,{keyPath:eg})}catch(C){p(C)}}),y.addEventListener("success",(0,f.Z)(function*(){const _=y.result;_.objectStoreNames.contains(xl)?h(_):(_.close(),yield function wy(){const y=indexedDB.deleteDatabase(Sl);return new dd(y).toPromise()}(),h(yield Ml()))}))})}function Ey(y,h,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(y,h,p){const _=hd(y,!0).put({[eg]:h,value:p});return new dd(_).toPromise()})).apply(this,arguments)}function ef(){return(ef=(0,f.Z)(function*(y,h){const p=hd(y,!1).get(h),_=yield new dd(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function ir(y,h){const p=hd(y,!0).delete(h);return new dd(p).toPromise()}const wr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield Ml()),p.db})()}_withRetries(p){var _=this;return(0,f.Z)(function*(){let C=0;for(;;)try{const S=yield _._openDb();return yield p(S)}catch(S){if(C++>3)throw S;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return Os()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Xh._getInstance(function ro(){return Os()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,f.Z)(function*(C,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(C,S){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,f.Z)(function*(C,S){return["keyChanged"]});return function(C,S){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var _,C;if(p.activeServiceWorker=yield function Ua(){return Ba.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Lu(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(_=S[0])||void 0===_?void 0:_.fulfilled)&&(null===(C=S[0])||void 0===C?void 0:C.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,f.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function qo(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ml();return yield Ey(p,Fa,"1"),yield ir(p,Fa),!0}catch{}return!1})()}_withPendingWrite(p){var _=this;return(0,f.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(S=>Ey(S,p,_)),C.localCache[p]=_,C.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,f.Z)(function*(){const C=yield _._withRetries(S=>function ew(y,h){return ef.apply(this,arguments)}(S,p));return _.localCache[p]=C,C})()}_remove(p){var _=this;return(0,f.Z)(function*(){return _._withPendingWrite((0,f.Z)(function*(){return yield _._withRetries(C=>ir(C,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const _=yield p._withRetries(L=>{const J=hd(L,!1).getAll();return new dd(J).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const C=[],S=new Set;for(const{fbase_key:L,value:J}of _)S.add(L),JSON.stringify(p.localCache[L])!==JSON.stringify(J)&&(p.notifyListeners(L,J),C.push(L));for(const L of Object.keys(p.localCache))p.localCache[L]&&!S.has(L)&&(p.notifyListeners(L,null),C.push(L));return C})()}notifyListeners(p,_){this.localCache[p]=_;const C=this.listeners[p];if(C)for(const S of Array.from(C))S(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function cn(y,h){return gn(y,"POST","/v2/accounts/mfaSignIn:start",nt(y,h))}function qn(){return(qn=(0,f.Z)(function*(y){return(yield gn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gr(y){return new Promise((h,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=h,_.onerror=C=>{const S=On("internal-error");S.customData=C,p(S)},_.type="text/javascript",_.charset="UTF-8",function Wn(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(_)})}function mt(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xi=1e12;class nf{constructor(h){this.auth=h,this.counter=xi,this._widgets=new Map}render(h,p){const _=this.counter;return this._widgets.set(_,new ei(h,this.auth.name,p||{})),this.counter++,_}reset(h){var p;const _=h||xi;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(h){var p;return(null===(p=this._widgets.get(h||xi))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var _;return null===(_=p._widgets.get(h||xi))||void 0===_||_.execute(),""})()}}class ei{constructor(h,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof h?document.getElementById(h):h;Me(C,"argument-error",{appName:p}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<y;_++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qi=mt("rcb"),pd=new ot(3e4,6e4);class Wo{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Yt().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return Me(function Wi(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Yt().grecaptcha):new Promise((_,C)=>{const S=Yt().setTimeout(()=>{C(On(h,"network-request-failed"))},pd.get());Yt()[qi]=()=>{Yt().clearTimeout(S),delete Yt()[qi];const J=Yt().grecaptcha;if(!J)return void C(On(h,"internal-error"));const Ne=J.render;J.render=(De,tt)=>{const it=Ne(De,tt);return this.counter++,it},this.hostLanguage=p,_(J)},Gr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:qi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),C(On(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Yt().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gd{load(h){return(0,f.Z)(function*(){return new nf(h)})()}clearedOneInstance(){}}const rf="recaptcha",tg={theme:"light",type:"image"};class sf{constructor(h,p=Object.assign({},tg),_){this.parameters=p,this.type=rf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(_),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof h?document.getElementById(h):h;Me(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gd:new Wo,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(p)||new Promise(S=>{const L=J=>{!J||(h.tokenChangeListeners.delete(L),S(J))};h.tokenChangeListeners.add(L),h.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof h)h(p);else if("string"==typeof h){const _=Yt()[h];"function"==typeof _&&_(p)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){Me(wn()&&!Os(),h.auth,"internal-error"),yield function Vu(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ds(y){return qn.apply(this,arguments)}(h.auth);Me(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class io{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Bn._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function pi(){return(pi=(0,f.Z)(function*(y,h,p){const _=tr(y),C=yield Mi(_,h,(0,O.m9)(p));return new io(C,S=>Fo(_,S))})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);yield Au(!1,_,"phone");const C=yield Mi(_.auth,h,(0,O.m9)(p));return new io(C,S=>Hi(_,S))})).apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),C=yield Mi(_.auth,h,(0,O.m9)(p));return new io(C,S=>Su(_,S))})).apply(this,arguments)}function Mi(y,h,p){return za.apply(this,arguments)}function za(){return(za=(0,f.Z)(function*(y,h,p){var _;const C=yield p.verify();try{let S;if(Me("string"==typeof C,y,"argument-error"),Me(p.type===rf,y,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const L=S.session;if("phoneNumber"in S)return Me("enroll"===L.type,y,"internal-error"),(yield no(y,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{Me("signin"===L.type,y,"internal-error");const J=(null===(_=S.multiFactorHint)||void 0===_?void 0:_.uid)||S.multiFactorUid;return Me(J,y,"missing-multi-factor-info"),(yield cn(y,{mfaPendingCredential:L.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield _a(y,{phoneNumber:S.phoneNumber,recaptchaToken:C});return L}}finally{p._reset()}})).apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(y,h){yield Ca((0,O.m9)(y),h)})).apply(this,arguments)}let Ko=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=tr(p)}verifyPhoneNumber(p,_){return Mi(this.auth,p,(0,O.m9)(_))}static credential(p,_){return Bn._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:C}=p;return _&&C?Bn._fromTokenResponse(_,C):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function dn(y,h){return h?Xn(h):(Me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class md extends ma{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ji(h,this._buildIdpRequest())}_linkToIdToken(h,p){return ji(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return ji(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function b(y){return $n(y.auth,new md(y),y.bypassAuthState)}function T(y){const{auth:h,user:p}=y;return Me(p,h,"internal-error"),Zh(p,new md(y),y.bypassAuthState)}function M(y){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(y){const{auth:h,user:p}=y;return Me(p,h,"internal-error"),Ca(p,new md(y),y.bypassAuthState)})).apply(this,arguments)}class W{constructor(h,p,_,C,S=!1){this.auth=h,this.resolver=_,this.user=C,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(_,C){h.pendingPromise={resolve:_,reject:C};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(_,C){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:C,postBody:S,tenantId:L,error:J,type:Ne}=h;if(J)return void p.reject(J);const De={auth:p.auth,requestUri:_,sessionId:C,tenantId:L||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ne)(De))}catch(tt){p.reject(tt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return b;case"linkViaPopup":case"linkViaRedirect":return M;case"reauthViaPopup":case"reauthViaRedirect":return T;default:nn(this.auth,"internal-error")}}resolve(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const se=new ot(2e3,1e4);function Be(){return(Be=(0,f.Z)(function*(y,h,p){const _=tr(y);Tr(y,h,jr);const C=dn(_,p);return new vn(_,"signInViaPopup",h,C).executeNotNull()})).apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);Tr(_.auth,h,jr);const C=dn(_.auth,p);return new vn(_.auth,"reauthViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);Tr(_.auth,h,jr);const C=dn(_.auth,p);return new vn(_.auth,"linkViaPopup",h,C,_).executeNotNull()})).apply(this,arguments)}let vn=(()=>{class y extends W{constructor(p,_,C,S,L){super(p,_,S,L),this.provider=C,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const _=yield p.execute();return Me(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,f.Z)(function*(){He(1===p.filter.length,"Popup operations only handle one event");const _=zi();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(C=>{p.reject(C)}),p.resolver._isIframeWebStorageSupported(p.auth,C=>{C||p.reject(On(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,C;this.pollId=null!==(C=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,se.get())};p()}}return y.currentPopupAction=null,y})();const fs=new Map;class so extends W{constructor(h,p,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let _=fs.get(p.auth._key());if(!_){try{const S=(yield function Yo(y,h){return oo.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;_=()=>Promise.resolve(S)}catch(C){_=()=>Promise.reject(C)}fs.set(p.auth._key(),_)}return p.bypassAuthState||fs.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(_,h);if("unknown"!==h.type){if(h.eventId){const C=yield _.auth._redirectUserForId(h.eventId);if(C)return _.user=C,p().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function oo(){return(oo=(0,f.Z)(function*(y,h){const p=uo(h),_=yd(y);if(!(yield _._isAvailable()))return!1;const C="true"===(yield _._get(p));return yield _._remove(p),C})).apply(this,arguments)}function Fs(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(y,h){return yd(y)._set(uo(h),"true")})).apply(this,arguments)}function Ls(y,h){fs.set(y._key(),h)}function yd(y){return Xn(y._redirectPersistence)}function uo(y){return dr("pendingRedirect",y.config.apiKey,y.name)}function Uu(){return(Uu=(0,f.Z)(function*(y,h,p){const _=tr(y);Tr(y,h,jr);const C=dn(_,p);return yield Fs(C,_),C._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function af(){return(af=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);Tr(_.auth,h,jr);const C=dn(_.auth,p);yield Fs(C,_.auth);const S=yield Bu(_);return C._openRedirect(_.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function _d(){return(_d=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);Tr(_.auth,h,jr);const C=dn(_.auth,p);yield Au(!1,_,h.providerId),yield Fs(C,_.auth);const S=yield Bu(_);return C._openRedirect(_.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(y,h){return yield tr(y)._initializationPromise,Ed(y,h,!1)})).apply(this,arguments)}function Ed(y,h){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,f.Z)(function*(y,h,p=!1){const _=tr(y),C=dn(_,h),L=yield new so(_,C,p).execute();return L&&!p&&(delete L.user._redirectEventId,yield _._persistUserIfCurrent(L.user),yield _._setRedirectUser(null,h)),L})).apply(this,arguments)}function Bu(y){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(y){const h=zi(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class ig{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(p=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Id(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var _;if(h.error&&!Pl(h)){const C=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(On(this.auth,C))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const _=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uf(h))}saveEventToCache(h){this.cachedEventUids.add(uf(h)),this.lastProcessedEventTime=Date.now()}}function uf(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Pl({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ju(y){return Za.apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(y,h={}){return gn(y,"GET","/v1/projects",h)})).apply(this,arguments)}const lf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sg=/^https?/;function Jo(){return(Jo=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ju(y);for(const p of h)try{if(og(p))return}catch{}nn(y,"unauthorized-domain")})).apply(this,arguments)}function og(y){const h=Ui(),{protocol:p,hostname:_}=new URL(h);if(y.startsWith("chrome-extension://")){const L=new URL(y);return""===L.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&L.hostname===_}if(!sg.test(p))return!1;if(lf.test(y))return _===y;const C=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(_)}const cf=new ot(3e4,6e4);function df(){const y=Yt().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let ti=null;function Xo(y){return ti=ti||function Er(y){return new Promise((h,p)=>{var _,C,S;function L(){df(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{df(),p(On(y,"network-request-failed"))},timeout:cf.get()})}if(null!==(C=null===(_=Yt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==C&&C.Iframe)h(gapi.iframes.getContext());else{if(null===(S=Yt().gapi)||void 0===S||!S.load){const J=mt("iframefcb");return Yt()[J]=()=>{gapi.load?L():p(On(y,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${J}`).catch(Ne=>p(Ne))}L()}}).catch(h=>{throw ti=null,h})}(y),ti}const bd=new ot(5e3,15e3),ea={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(y){const h=y.config;Me(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?Kt(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:h.apiKey,appName:y.name,v:ne.SDK_VERSION},C=ni.get(y.config.apiHost);C&&(_.eid=C);const S=y._getFrameworks();return S.length&&(_.fw=S.join(",")),`${p}?${(0,O.xO)(_).slice(1)}`}function Ya(){return Ya=(0,f.Z)(function*(y){const h=yield Xo(y),p=Yt().gapi;return Me(p,y,"internal-error"),h.open({where:document.body,url:Ka(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ea,dontclear:!0},_=>new Promise(function(){var C=(0,f.Z)(function*(S,L){yield _.restyle({setHideOnLeave:!1});const J=On(y,"network-request-failed"),Ne=Yt().setTimeout(()=>{L(J)},bd.get());function De(){Yt().clearTimeout(Ne),S(_)}_.ping(De).then(De,()=>{L(J)})});return function(S,L){return C.apply(this,arguments)}}()))}),Ya.apply(this,arguments)}const hf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class St{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cg(y,h,p,_,C,S){Me(y.config.authDomain,y,"auth-domain-config-required"),Me(y.config.apiKey,y,"invalid-api-key");const L={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:ne.SDK_VERSION,eventId:C};if(h instanceof jr){h.setDefaultLanguage(y.languageCode),L.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(L.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ne,De]of Object.entries(S||{}))L[Ne]=De}if(h instanceof Ys){const Ne=h.getScopes().filter(De=>""!==De);Ne.length>0&&(L.scopes=Ne.join(","))}y.tenantId&&(L.tid=y.tenantId);const J=L;for(const Ne of Object.keys(J))void 0===J[Ne]&&delete J[Ne];return`${function lo({config:y}){return y.emulator?Kt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(J).slice(1)}`}const Gu="webStorageSupport";class sr extends class Lb{constructor(h){this.factorId=h}_process(h,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,_);case"signin":return this._finalizeSignIn(h,p.credential);default:return Vr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new sr(h)}_finalizeEnroll(h,p,_){return function ad(y,h){return gn(y,"POST","/v2/accounts/mfaEnrollment:finalize",nt(y,h))}(h,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Si(y,h){return gn(y,"POST","/v2/accounts/mfaSignIn:finalize",nt(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ta=(()=>{class y{constructor(){}static assertion(p){return sr._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Cd="@firebase/auth",hg="0.20.10";class Ty{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(_=>{var C;h((null===(C=_)||void 0===C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vs(){return window}function Ja(){return(Ja=(0,f.Z)(function*(y,h,p){var _;const{BuildInfo:C}=Vs();He(h.sessionId,"AuthEvent did not contain a session ID");const S=yield na(h.sessionId),L={};return Br()?L.ibi=C.packageName:rs()?L.apn=C.packageName:nn(y,"operation-not-supported-in-this-environment"),C.displayName&&(L.appDisplayName=C.displayName),L.sessionId=S,cg(y,p,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,L)})).apply(this,arguments)}function ho(){return(ho=(0,f.Z)(function*(y){const{BuildInfo:h}=Vs(),p={};Br()?p.iosBundleId=h.packageName:rs()?p.androidPackageName=h.packageName:nn(y,"operation-not-supported-in-this-environment"),yield ju(y,p)})).apply(this,arguments)}function Ad(){return(Ad=(0,f.Z)(function*(y,h,p){const{cordova:_}=Vs();let C=()=>{};try{yield new Promise((S,L)=>{let J=null;function Ne(){var it;S();const jt=null===(it=_.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof jt&&jt(),"function"==typeof p?.close&&p.close()}function De(){J||(J=window.setTimeout(()=>{L(On(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&De()}h.addPassiveListener(Ne),document.addEventListener("resume",De,!1),rs()&&document.addEventListener("visibilitychange",tt,!1),C=()=>{h.removePassiveListener(Ne),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",tt,!1),J&&window.clearTimeout(J)}})}finally{C()}})).apply(this,arguments)}function na(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(y){const h=gf(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gf(y){if(He(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}(0,O.Pz)("authIdTokenMaxAge"),function kl(y){(0,ne._registerComponent)(new vt.wA("auth",(h,{options:p})=>{const _=h.getProvider("app").getImmediate(),C=h.getProvider("heartbeat"),{apiKey:S,authDomain:L}=_.options;return((J,Ne)=>{Me(S&&!S.includes(":"),"invalid-api-key",{appName:J.name}),Me(!L?.includes(":"),"argument-error",{appName:J.name});const De={apiKey:S,authDomain:L,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wu(y)},tt=new Jr(J,Ne,De);return function Vi(y,h){const p=h?.persistence||[],_=(Array.isArray(p)?p:[p]).map(Xn);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(_,h?.popupRedirectResolver)}(tt,p),tt})(_,C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,_)=>{h.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new vt.wA("auth-internal",h=>{const p=tr(h.getProvider("auth").getImmediate());return new Ty(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(Cd,hg,function pf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ne.registerVersion)(Cd,hg,"esm2017")}("Browser");class gg extends ig{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Sd(y){return zu.apply(this,arguments)}function zu(){return(zu=(0,f.Z)(function*(y){const h=yield Vl()._get(Xa(y));return h&&(yield Vl()._remove(Xa(y))),h})).apply(this,arguments)}function Ny(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*h.length);y.push(h.charAt(_))}return y.join("")}function Vl(){return Xn(cs)}function Xa(y){return dr("authEvent",y.config.apiKey,y.name)}function xd(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,O.zd)(p.join("?"))}function tu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:On("no-auth-event")}}function Ul(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function _f(y=(0,O.z$)()){return!("file:"!==Ul()&&"ionic:"!==Ul()&&"capacitor:"!==Ul()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function wf(){try{const y=self.localStorage,h=zi();if(y)return y.setItem(h,"1"),y.removeItem(h),!function vg(y=(0,O.z$)()){return function Bl(){return(0,O.w1)()&&11===document?.documentMode}()||function qu(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Wu()&&(0,O.hl)()}return!1}function Wu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ra(){return(function Ry(){return"http:"===Ul()||"https:"===Ul()}()||(0,O.ru)()||_f())&&!function Us(){return(0,O.b$)()||(0,O.UG)()}()&&wf()&&!Wu()}function Ef(){return _f()&&typeof document<"u"}function jl(){return(jl=(0,f.Z)(function*(){return!!Ef()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const ri={LOCAL:"local",NONE:"none",SESSION:"session"},Ri=Me,_g="persistence";function nu(y){return Od.apply(this,arguments)}function Od(){return(Od=(0,f.Z)(function*(y){yield y._initializationPromise;const h=ms(),p=dr(_g,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function ms(){var y;try{return(null===(y=function sw(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const If=Me;class gi{constructor(){this.browserResolver=Xn(class Dd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=Ed,this._overrideRedirectResult=Ls}_openPopup(h,p,_,C){var S=this;return(0,f.Z)(function*(){var L;He(null===(L=S.eventManagers[h._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const J=cg(h,p,_,Ui(),C);return function $u(y,h,p,_=500,C=600){const S=Math.max((window.screen.availHeight-C)/2,0).toString(),L=Math.max((window.screen.availWidth-_)/2,0).toString();let J="";const Ne=Object.assign(Object.assign({},hf),{width:_.toString(),height:C.toString(),top:S,left:L}),De=(0,O.z$)().toLowerCase();p&&(J=vu(De)?"_blank":p),Jt(De)&&(h=h||"http://localhost",Ne.scrollbars="yes");const tt=Object.entries(Ne).reduce((jt,[Ir,yi])=>`${jt}${Ir}=${yi},`,"");if(function Hh(y=(0,O.z$)()){var h;return Br(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(De)&&"_self"!==J)return function lg(y,h){const p=document.createElement("a");p.href=y,p.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(h||"",J),new St(null);const it=window.open(h||"",J,tt);Me(it,y,"popup-blocked");try{it.focus()}catch{}return new St(it)}(h,J,zi())})()}_openRedirect(h,p,_,C){var S=this;return(0,f.Z)(function*(){return yield S._originValidation(h),function zo(y){Yt().location.href=y}(cg(h,p,_,Ui(),C)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:C,promise:S}=this.eventManagers[p];return C?Promise.resolve(C):(He(S,"If manager is not set, promise should be"),S)}const _=this.initAndGetManager(h);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const _=yield function ag(y){return Ya.apply(this,arguments)}(h),C=new ig(h);return _.register("authEvent",S=>(Me(S?.authEvent,h,"invalid-auth-event"),{status:C.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:C},p.iframes[h._key()]=_,C})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Gu,{type:Gu},C=>{var S;const L=null===(S=C?.[0])||void 0===S?void 0:S[Gu];void 0!==L&&p(!!L),nn(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Hu(y){return Jo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Qr()||cl()||Br()}}),this.cordovaResolver=Xn(class Md{constructor(){this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ed,this._overrideRedirectResult=Ls}_initialize(h){var p=this;return(0,f.Z)(function*(){const _=h._key();let C=p.eventManagers.get(_);return C||(C=new gg(h),p.eventManagers.set(_,C),p.attachCallbackListeners(h,C)),C})()}_openPopup(h){nn(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,_,C){var S=this;return(0,f.Z)(function*(){!function rw(y){var h,p,_,C,S,L,J,Ne,De,tt;const it=Vs();Me("function"==typeof(null===(h=it?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof(null===(p=it?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(S=null===(C=null===(_=it?.cordova)||void 0===_?void 0:_.plugins)||void 0===C?void 0:C.browsertab)||void 0===S?void 0:S.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Ne=null===(J=null===(L=it?.cordova)||void 0===L?void 0:L.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(tt=null===(De=it?.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const L=yield S._initialize(h);yield L.initialized(),L.resetRedirect(),function Qo(){fs.clear()}(),yield S._originValidation(h);const J=function mf(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Ny(),postBody:null,tenantId:y.tenantId,error:On(y,"no-auth-event")}}(h,_,C);yield function Ll(y,h){return Vl()._set(Xa(y),h)}(h,J);const Ne=yield function Bt(y,h,p){return Ja.apply(this,arguments)}(h,J,p),De=yield function My(y){const{cordova:h}=Vs();return new Promise(p=>{h.plugins.browsertab.isAvailable(_=>{let C=null;_?h.plugins.browsertab.openUrl(y):C=h.InAppBrowser.open(y,function Un(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(C)})})}(Ne);return function pg(y,h,p){return Ad.apply(this,arguments)}(h,L,De)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function xy(y){return ho.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:_,handleOpenURL:C,BuildInfo:S}=Vs(),L=setTimeout((0,f.Z)(function*(){yield Sd(h),p.onEvent(tu())}),500),J=function(){var tt=(0,f.Z)(function*(it){clearTimeout(L);const jt=yield Sd(h);let Ir=null;jt&&it?.url&&(Ir=function iw(y,h){var p,_;const C=function eu(y){const h=xd(y),p=h.link?decodeURIComponent(h.link):void 0,_=xd(p).link,C=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return xd(C).link||C||_||p||y}(h);if(C.includes("/__/auth/callback")){const S=xd(C),L=S.firebaseError?function mg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(S.firebaseError)):null,J=null===(_=null===(p=L?.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Ne=J?On(J):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:C,postBody:null}}return null}(jt,it.url)),p.onEvent(Ir||tu())});return function(jt){return tt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,J);const Ne=C,De=`${S.packageName.toLowerCase()}://`;Vs().handleOpenURL=function(){var tt=(0,f.Z)(function*(it){if(it.toLowerCase().startsWith(De)&&J({url:it}),"function"==typeof Ne)try{Ne(it)}catch(jt){console.error(jt)}});return function(it){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_r,this._completeRedirectFn=Ed,this._overrideRedirectResult=Ls}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,_,C){var S=this;return(0,f.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,p,_,C)})()}_openRedirect(h,p,_,C){var S=this;return(0,f.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,p,_,C)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ef()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return If(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Oy(){return jl.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Hl(y){return y.unwrap()}function wg(y){return Eg(y)}function Eg(y){const{_tokenResponse:h}=y instanceof O.ZR?y.customData:y;if(!h)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Ko.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=jn;break;case"facebook.com":_=gl;break;case"github.com":_=Dt;break;case"twitter.com":_=Cu;break;default:const{oauthIdToken:C,oauthAccessToken:S,oauthTokenSecret:L,pendingToken:J,nonce:Ne}=h;return S||L||C||J?J?p.startsWith("saml.")?Du._create(p,J):Pn._fromParams({providerId:p,signInMethod:p,pendingToken:J,idToken:C,accessToken:S}):new Ar(p).credential({idToken:C,accessToken:S,rawNonce:Ne}):null}return y instanceof O.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function mi(y,h){return h.catch(p=>{throw p instanceof O.ZR&&function Df(y,h){var p,_;const C=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=h)||void 0===_?void 0:_.code))h.resolver=new ow(y,function Pu(y,h){var p;const _=(0,O.m9)(y),C=h;return Me(h.customData.operationType,_,"argument-error"),Me(null===(p=C.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),Go._fromError(_,C)}(y,h));else if(C){const S=Eg(h),L=h;S&&(L.credential=S,L.tenantId=C.tenantId||void 0,L.email=C.email||void 0,L.phoneNumber=C.phoneNumber||void 0)}}(y,p),p}).then(p=>{const C=p.user;return{operationType:p.operationType,credential:wg(p),additionalUserInfo:$o(p),user:ys.getOrCreate(C)}})}function $l(y,h){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,f.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:_=>mi(y,p.confirm(_))}})).apply(this,arguments)}class ow{constructor(h,p){this.resolver=p,this.auth=function bf(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return mi(Hl(this.auth),this.resolver.resolveSignIn(h))}}class ys{constructor(h){this._delegate=h,this.multiFactor=function ud(y){const h=(0,O.m9)(y);return ka.has(h)||ka.set(h,ku._fromUser(h)),ka.get(h)}(h)}static getOrCreate(h){return ys.USER_MAP.has(h)||ys.USER_MAP.set(h,new ys(h)),ys.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return mi(p.auth,Hi(p._delegate,h))})()}linkWithPhoneNumber(h,p){var _=this;return(0,f.Z)(function*(){return $l(_.auth,function Nn(y,h,p){return ks.apply(this,arguments)}(_._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return mi(p.auth,function Pt(y,h,p){return ht.apply(this,arguments)}(p._delegate,h,gi))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield nu(tr(p.auth)),function rg(y,h,p){return function by(y,h,p){return _d.apply(this,arguments)}(y,h,p)}(p._delegate,h,gi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return mi(p.auth,Su(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return $l(this.auth,function hs(y,h,p){return Zo.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return mi(this.auth,function pt(y,h,p){return _t.apply(this,arguments)}(this._delegate,h,gi))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield nu(tr(p.auth)),function vd(y,h,p){return function ng(y,h,p){return af.apply(this,arguments)}(y,h,p)}(p._delegate,h,gi)})()}sendEmailVerification(h){return function Tl(y,h){return Ai.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function Tu(y,h){return $r.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function ed(y,h){return Ra((0,O.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function _y(y,h){return Ra((0,O.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function qa(y,h){return Zi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ru(y,h){return jo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Bo(y,h,p){return Al.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ys.USER_MAP=new WeakMap;const Pd=Me;let ky=(()=>{class y{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=p.options;Pd(C,"invalid-api-key",{appName:p.name}),Pd(C,"invalid-api-key",{appName:p.name});const S=typeof window<"u"?gi:void 0;this._delegate=_.initialize({options:{persistence:Ly(C,p.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(on),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function kc(y,h,p){const _=tr(y);Me(_._canInitEmulator,_,"emulator-config-failed"),Me(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const C=!!p?.disableWarnings,S=Fc(h),{host:L,port:J}=function vy(y){const h=Fc(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(_);if(C){const S=C[1];return{host:S,port:Di(_.substr(S.length+1))}}{const[S,L]=_.split(":");return{host:S,port:Di(L)}}}(h);_.config.emulator={url:`${S}//${L}${null===J?"":`:${J}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:L,port:J,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Yp(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,_)}applyActionCode(p){return function Qc(y,h){return ss.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return eo(this._delegate,p)}confirmPasswordReset(p,_){return function El(y,h,p){return Il.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var C=this;return(0,f.Z)(function*(){return mi(C._delegate,function bn(y,h,p){return Ma.apply(this,arguments)}(C._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Cl(y,h){return as.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Nu(y,h){return"EMAIL_SIGNIN"===Ti.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){Pd(ra(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function wd(y,h){return Nl.apply(this,arguments)}(p._delegate,gi);return _?mi(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Nd(y,h){tr(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,_,C){const{next:S,error:L,complete:J}=Fy(p,_,C);return this._delegate.onAuthStateChanged(S,L,J)}onIdTokenChanged(p,_,C){const{next:S,error:L,complete:J}=Fy(p,_,C);return this._delegate.onIdTokenChanged(S,L,J)}sendSignInLinkToEmail(p,_){return function Jc(y,h,p){return Na.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function xu(y,h,p){return wl.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,f.Z)(function*(){let C;switch(function ia(y,h){Ri(Object.values(ri).includes(h),y,"invalid-persistence-type"),(0,O.b$)()?Ri(h!==ri.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Ri(h===ri.NONE,y,"unsupported-persistence-type"):Wu()?Ri(h===ri.NONE||h===ri.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Ri(h===ri.NONE||wf(),y,"unsupported-persistence-type")}(_._delegate,p),p){case ri.SESSION:C=_r;break;case ri.LOCAL:C=(yield Xn(wr)._isAvailable())?wr:cs;break;case ri.NONE:C=Yr;break;default:return nn("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return mi(this._delegate,function Gt(y){return vl.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return mi(this._delegate,Fo(this._delegate,p))}signInWithCustomToken(p){return mi(this._delegate,function _l(y,h){return Aa.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return mi(this._delegate,function bl(y,h,p){return Fo((0,O.m9)(y),bu.credential(h,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return mi(this._delegate,function Dl(y,h,p){return Uo.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return $l(this._delegate,function Ga(y,h,p){return pi.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,f.Z)(function*(){return Pd(ra(),_._delegate,"operation-not-supported-in-this-environment"),mi(_._delegate,function be(y,h,p){return Be.apply(this,arguments)}(_._delegate,p,gi))})()}signInWithRedirect(p){var _=this;return(0,f.Z)(function*(){return Pd(ra(),_._delegate,"operation-not-supported-in-this-environment"),yield nu(_._delegate),function ps(y,h,p){return function Iy(y,h,p){return Uu.apply(this,arguments)}(y,h,p)}(_._delegate,p,gi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function nr(y,h){return $i.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ri,y})();function Fy(y,h,p){let _=y;"function"!=typeof y&&({next:_,error:h,complete:p}=y);const C=_;return{next:L=>C(L&&ys.getOrCreate(L)),error:h,complete:p}}function Ly(y,h){const p=function Py(y,h){const p=ms();if(!p)return[];const _=dr(_g,y,h);switch(p.getItem(_)){case ri.NONE:return[Yr];case ri.LOCAL:return[wr,_r];case ri.SESSION:return[_r];default:return[]}}(y,h);if(typeof self<"u"&&!p.includes(wr)&&p.push(wr),typeof window<"u")for(const _ of[cs,_r])p.includes(_)||p.push(_);return p.includes(Yr)||p.push(Yr),p}class bg{constructor(){this.providerId="phone",this._delegate=new Ko(Hl(Q.Z.auth()))}static credential(h,p){return Ko.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}bg.PHONE_SIGN_IN_METHOD=Ko.PHONE_SIGN_IN_METHOD,bg.PROVIDER_ID=Ko.PROVIDER_ID;const Dg=Me;class kd{constructor(h,p,_=Q.Z.app()){var C;Dg(null===(C=_.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new sf(h,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bs(y){y.INTERNAL.registerComponent(new vt.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),_=h.getProvider("auth");return new ky(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bu,FacebookAuthProvider:gl,GithubAuthProvider:Dt,GoogleAuthProvider:jn,OAuthProvider:Ar,SAMLAuthProvider:Ia,PhoneAuthProvider:bg,PhoneMultiFactorGenerator:ta,RecaptchaVerifier:kd,TwitterAuthProvider:Cu,Auth:ky,AuthCredential:ma,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.23")}(Q.Z)},9751:(lt,we,k)=>{k.d(we,{y:()=>ce});var f=k(2961),Q=k(727),O=k(8822),ne=k(9635),oe=k(2416),he=k(576),ae=k(2806);let ce=(()=>{class Z{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const me=new Z;return me.source=this,me.operator=Se,me}subscribe(Se,me,Xe){const ge=function G(Z){return Z&&Z instanceof f.Lv||function H(Z){return Z&&(0,he.m)(Z.next)&&(0,he.m)(Z.error)&&(0,he.m)(Z.complete)}(Z)&&(0,Q.Nn)(Z)}(Se)?Se:new f.Hp(Se,me,Xe);return(0,ae.x)(()=>{const{operator:re,source:Le}=this;ge.add(re?re.call(ge,Le):Le?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Se){try{return this._subscribe(Se)}catch(me){Se.error(me)}}forEach(Se,me){return new(me=le(me))((Xe,ge)=>{let re;re=this.subscribe(Le=>{try{Se(Le)}catch(We){ge(We),re?.unsubscribe()}},ge,Xe)})}_subscribe(Se){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Se)}[O.L](){return this}pipe(...Se){return(0,ne.U)(Se)(this)}toPromise(Se){return new(Se=le(Se))((me,Xe)=>{let ge;this.subscribe(re=>ge=re,re=>Xe(re),()=>me(ge))})}}return Z.create=Ve=>new Z(Ve),Z})();function le(Z){var Ve;return null!==(Ve=Z??oe.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(lt,we,k)=>{k.d(we,{x:()=>ae});var f=k(9751),Q=k(727);const ne=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),he=k(2806);let ae=(()=>{class le extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Z=new ce(this,this);return Z.operator=G,Z}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Z=this.observers.slice();for(const Ve of Z)Ve.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Z}=this;for(;Z.length;)Z.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Z,isStopped:Ve,observers:Se}=this;return Z||Ve?Q.Lc:(Se.push(G),new Q.w0(()=>(0,oe.P)(Se,G)))}_checkFinalizedStatuses(G){const{hasError:Z,thrownError:Ve,isStopped:Se}=this;Z?G.error(Ve):Se&&G.complete()}asObservable(){const G=new f.y;return G.source=this,G}}return le.create=(H,G)=>new ce(H,G),le})();class ce extends ae{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Z||Z.call(G,H)}error(H){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Z||Z.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Z;return null!==(Z=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Z?Z:Q.Lc}}},2961:(lt,we,k)=>{k.d(we,{Hp:()=>Ve,Lv:()=>Z});var f=k(576),Q=k(727),O=k(2416),ne=k(7849);function oe(){}const he=le("C",void 0,void 0);function le(re,Le,We){return{kind:re,value:Le,error:We}}var H=k(3410),G=k(2806);class Z extends Q.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,Q.Nn)(Le)&&Le.add(this)):this.destination=ge}static create(Le,We,Ue){return new Ve(Le,We,Ue)}next(Le){this.isStopped?Xe(function ce(re){return le("N",re,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Xe(function ae(re){return le("E",void 0,re)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Xe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ve extends Z{constructor(Le,We,Ue){let Ye;if(super(),(0,f.m)(Le))Ye=Le;else if(Le){let Te;({next:Ye,error:We,complete:Ue}=Le),this&&O.v.useDeprecatedNextContext?(Te=Object.create(Le),Te.unsubscribe=()=>this.unsubscribe()):Te=Le,Ye=Ye?.bind(Te),We=We?.bind(Te),Ue=Ue?.bind(Te)}this.destination={next:Ye?Se(Ye):oe,error:Se(We??me),complete:Ue?Se(Ue):oe}}}function Se(re,Le){return(...We)=>{try{re(...We)}catch(Ue){O.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ue):(0,ne.h)(Ue)}}}function me(re){throw re}function Xe(re,Le){const{onStoppedNotification:We}=O.v;We&&H.z.setTimeout(()=>We(re,Le))}const ge={closed:!0,next:oe,error:me,complete:oe}},727:(lt,we,k)=>{k.d(we,{Lc:()=>he,w0:()=>oe,Nn:()=>ae});var f=k(576);const O=(0,k(3888).d)(le=>function(G){le(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Z,Ve)=>`${Ve+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=k(8737);class oe{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:Z}=this;if((0,f.m)(Z))try{Z()}catch(Se){H=Se instanceof O?Se.errors:[Se]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const Se of Ve)try{ce(Se)}catch(me){H=H??[],me instanceof O?H=[...H,...me.errors]:H.push(me)}}if(H)throw new O(H)}}add(H){var G;if(H&&H!==this)if(this.closed)ce(H);else{if(H instanceof oe){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,H)}remove(H){const{_teardowns:G}=this;G&&(0,ne.P)(G,H),H instanceof oe&&H._removeParent(this)}}oe.EMPTY=(()=>{const le=new oe;return le.closed=!0,le})();const he=oe.EMPTY;function ae(le){return le instanceof oe||le&&"closed"in le&&(0,f.m)(le.remove)&&(0,f.m)(le.add)&&(0,f.m)(le.unsubscribe)}function ce(le){(0,f.m)(le)?le():le.unsubscribe()}},2416:(lt,we,k)=>{k.d(we,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,we,k)=>{k.d(we,{E:()=>Q});const Q=new(k(9751).y)(oe=>oe.complete())},8996:(lt,we,k)=>{k.d(we,{D:()=>Ye});var f=k(8421),Q=k(5363),O=k(9468),he=k(9751),ce=k(2202),le=k(576),H=k(9672);function Z(Te,Qe){if(!Te)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,H.f)(Ze,Qe,()=>{const de=Te[Symbol.asyncIterator]();(0,H.f)(Ze,Qe,()=>{de.next().then(B=>{B.done?Ze.complete():Ze.next(B.value)})},0,!0)})})}var Ve=k(3670),Se=k(8239),me=k(1144),Xe=k(6495),ge=k(2206),re=k(4532),Le=k(3260);function Ye(Te,Qe){return Qe?function Ue(Te,Qe){if(null!=Te){if((0,Ve.c)(Te))return function ne(Te,Qe){return(0,f.Xf)(Te).pipe((0,O.R)(Qe),(0,Q.Q)(Qe))}(Te,Qe);if((0,me.z)(Te))return function ae(Te,Qe){return new he.y(Ze=>{let de=0;return Qe.schedule(function(){de===Te.length?Ze.complete():(Ze.next(Te[de++]),Ze.closed||this.schedule())})})}(Te,Qe);if((0,Se.t)(Te))return function oe(Te,Qe){return(0,f.Xf)(Te).pipe((0,O.R)(Qe),(0,Q.Q)(Qe))}(Te,Qe);if((0,ge.D)(Te))return Z(Te,Qe);if((0,Xe.T)(Te))return function G(Te,Qe){return new he.y(Ze=>{let de;return(0,H.f)(Ze,Qe,()=>{de=Te[ce.h](),(0,H.f)(Ze,Qe,()=>{let B,ee;try{({value:B,done:ee}=de.next())}catch(te){return void Ze.error(te)}ee?Ze.complete():Ze.next(B)},0,!0)}),()=>(0,le.m)(de?.return)&&de.return()})}(Te,Qe);if((0,Le.L)(Te))return function We(Te,Qe){return Z((0,Le.Q)(Te),Qe)}(Te,Qe)}throw(0,re.z)(Te)}(Te,Qe):(0,f.Xf)(Te)}},8421:(lt,we,k)=>{k.d(we,{Xf:()=>Ve});var f=k(5987),Q=k(1144),O=k(8239),ne=k(9751),oe=k(3670),he=k(2206),ae=k(4532),ce=k(6495),le=k(3260),H=k(576),G=k(7849),Z=k(8822);function Ve(Ue){if(Ue instanceof ne.y)return Ue;if(null!=Ue){if((0,oe.c)(Ue))return function Se(Ue){return new ne.y(Ye=>{const Te=Ue[Z.L]();if((0,H.m)(Te.subscribe))return Te.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,Q.z)(Ue))return function me(Ue){return new ne.y(Ye=>{for(let Te=0;Te<Ue.length&&!Ye.closed;Te++)Ye.next(Ue[Te]);Ye.complete()})}(Ue);if((0,O.t)(Ue))return function Xe(Ue){return new ne.y(Ye=>{Ue.then(Te=>{Ye.closed||(Ye.next(Te),Ye.complete())},Te=>Ye.error(Te)).then(null,G.h)})}(Ue);if((0,he.D)(Ue))return re(Ue);if((0,ce.T)(Ue))return function ge(Ue){return new ne.y(Ye=>{for(const Te of Ue)if(Ye.next(Te),Ye.closed)return;Ye.complete()})}(Ue);if((0,le.L)(Ue))return function Le(Ue){return re((0,le.Q)(Ue))}(Ue)}throw(0,ae.z)(Ue)}function re(Ue){return new ne.y(Ye=>{(function We(Ue,Ye){var Te,Qe,Ze,de;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Te=(0,f.KL)(Ue);!(Qe=yield Te.next()).done;)if(Ye.next(Qe.value),Ye.closed)return}catch(B){Ze={error:B}}finally{try{Qe&&!Qe.done&&(de=Te.return)&&(yield de.call(Te))}finally{if(Ze)throw Ze.error}}Ye.complete()})})(Ue,Ye).catch(Te=>Ye.error(Te))})}},6451:(lt,we,k)=>{k.d(we,{T:()=>he});var f=k(8189),Q=k(8421),O=k(515),ne=k(7669),oe=k(8996);function he(...ae){const ce=(0,ne.yG)(ae),le=(0,ne._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,Q.Xf)(H[0]):(0,f.J)(le)((0,oe.D)(H,ce)):O.E}},5403:(lt,we,k)=>{k.d(we,{Q:()=>Q});var f=k(2961);class Q extends f.Lv{constructor(ne,oe,he,ae,ce){super(ne),this.onFinalize=ce,this._next=oe?function(le){try{oe(le)}catch(H){ne.error(H)}}:super._next,this._error=ae?function(le){try{ae(le)}catch(H){ne.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(le){ne.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}},4004:(lt,we,k)=>{k.d(we,{U:()=>O});var f=k(4482),Q=k(5403);function O(ne,oe){return(0,f.e)((he,ae)=>{let ce=0;he.subscribe(new Q.Q(ae,le=>{ae.next(ne.call(oe,le,ce++))}))})}},8189:(lt,we,k)=>{k.d(we,{J:()=>O});var f=k(5577),Q=k(4671);function O(ne=1/0){return(0,f.z)(Q.y,ne)}},5577:(lt,we,k)=>{k.d(we,{z:()=>ce});var f=k(4004),Q=k(8421),O=k(4482),ne=k(9672),oe=k(5403),ae=k(576);function ce(le,H,G=1/0){return(0,ae.m)(H)?ce((Z,Ve)=>(0,f.U)((Se,me)=>H(Z,Se,Ve,me))((0,Q.Xf)(le(Z,Ve))),G):("number"==typeof H&&(G=H),(0,O.e)((Z,Ve)=>function he(le,H,G,Z,Ve,Se,me,Xe){const ge=[];let re=0,Le=0,We=!1;const Ue=()=>{We&&!ge.length&&!re&&H.complete()},Ye=Qe=>re<Z?Te(Qe):ge.push(Qe),Te=Qe=>{Se&&H.next(Qe),re++;let Ze=!1;(0,Q.Xf)(G(Qe,Le++)).subscribe(new oe.Q(H,de=>{Ve?.(de),Se?Ye(de):H.next(de)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(re--;ge.length&&re<Z;){const de=ge.shift();me?(0,ne.f)(H,me,()=>Te(de)):Te(de)}Ue()}catch(de){H.error(de)}}))};return le.subscribe(new oe.Q(H,Ye,()=>{We=!0,Ue()})),()=>{Xe?.()}}(Z,Ve,le,G)))}},5363:(lt,we,k)=>{k.d(we,{Q:()=>ne});var f=k(9672),Q=k(4482),O=k(5403);function ne(oe,he=0){return(0,Q.e)((ae,ce)=>{ae.subscribe(new O.Q(ce,le=>(0,f.f)(ce,oe,()=>ce.next(le),he),()=>(0,f.f)(ce,oe,()=>ce.complete(),he),le=>(0,f.f)(ce,oe,()=>ce.error(le),he)))})}},3099:(lt,we,k)=>{k.d(we,{B:()=>he});var f=k(8996),Q=k(5698),O=k(7579),ne=k(2961),oe=k(4482);function he(ce={}){const{connector:le=(()=>new O.x),resetOnError:H=!0,resetOnComplete:G=!0,resetOnRefCountZero:Z=!0}=ce;return Ve=>{let Se=null,me=null,Xe=null,ge=0,re=!1,Le=!1;const We=()=>{me?.unsubscribe(),me=null},Ue=()=>{We(),Se=Xe=null,re=Le=!1},Ye=()=>{const Te=Se;Ue(),Te?.unsubscribe()};return(0,oe.e)((Te,Qe)=>{ge++,!Le&&!re&&We();const Ze=Xe=Xe??le();Qe.add(()=>{ge--,0===ge&&!Le&&!re&&(me=ae(Ye,Z))}),Ze.subscribe(Qe),Se||(Se=new ne.Hp({next:de=>Ze.next(de),error:de=>{Le=!0,We(),me=ae(Ue,H,de),Ze.error(de)},complete:()=>{re=!0,We(),me=ae(Ue,G),Ze.complete()}}),(0,f.D)(Te).subscribe(Se))})(Ve)}}function ae(ce,le,...H){return!0===le?(ce(),null):!1===le?null:le(...H).pipe((0,Q.q)(1)).subscribe(()=>ce())}},9468:(lt,we,k)=>{k.d(we,{R:()=>Q});var f=k(4482);function Q(O,ne=0){return(0,f.e)((oe,he)=>{he.add(O.schedule(()=>oe.subscribe(he),ne))})}},5698:(lt,we,k)=>{k.d(we,{q:()=>ne});var f=k(515),Q=k(4482),O=k(5403);function ne(oe){return oe<=0?()=>f.E:(0,Q.e)((he,ae)=>{let ce=0;he.subscribe(new O.Q(ae,le=>{++ce<=oe&&(ae.next(le),oe<=ce&&ae.complete())}))})}},8505:(lt,we,k)=>{k.d(we,{b:()=>oe});var f=k(576),Q=k(4482),O=k(5403),ne=k(4671);function oe(he,ae,ce){const le=(0,f.m)(he)||ae||ce?{next:he,error:ae,complete:ce}:he;return le?(0,Q.e)((H,G)=>{var Z;null===(Z=le.subscribe)||void 0===Z||Z.call(le);let Ve=!0;H.subscribe(new O.Q(G,Se=>{var me;null===(me=le.next)||void 0===me||me.call(le,Se),G.next(Se)},()=>{var Se;Ve=!1,null===(Se=le.complete)||void 0===Se||Se.call(le),G.complete()},Se=>{var me;Ve=!1,null===(me=le.error)||void 0===me||me.call(le,Se),G.error(Se)},()=>{var Se,me;Ve&&(null===(Se=le.unsubscribe)||void 0===Se||Se.call(le)),null===(me=le.finalize)||void 0===me||me.call(le)}))}):ne.y}},4408:(lt,we,k)=>{k.d(we,{o:()=>oe});var f=k(727);class Q extends f.w0{constructor(ae,ce){super()}schedule(ae,ce=0){return this}}const O={setInterval(...he){const{delegate:ae}=O;return(ae?.setInterval||setInterval)(...he)},clearInterval(he){const{delegate:ae}=O;return(ae?.clearInterval||clearInterval)(he)},delegate:void 0};var ne=k(8737);class oe extends Q{constructor(ae,ce){super(ae,ce),this.scheduler=ae,this.work=ce,this.pending=!1}schedule(ae,ce=0){if(this.closed)return this;this.state=ae;const le=this.id,H=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(H,le,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(H,this.id,ce),this}requestAsyncId(ae,ce,le=0){return O.setInterval(ae.flush.bind(ae,this),le)}recycleAsyncId(ae,ce,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ce;O.clearInterval(ce)}execute(ae,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ae,ce);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ce){let H,le=!1;try{this.work(ae)}catch(G){le=!0,H=G||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ce}=this,{actions:le}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(le,this),null!=ae&&(this.id=this.recycleAsyncId(ce,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,we,k)=>{k.d(we,{v:()=>O});var f=k(6063);class Q{constructor(oe,he=Q.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,ae){return new this.schedulerActionCtor(this,oe).schedule(ae,he)}}Q.now=f.l.now;class O extends Q{constructor(oe,he=Q.now){super(oe,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let ae;this._active=!0;do{if(ae=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,ae){for(;oe=he.shift();)oe.unsubscribe();throw ae}}}},4986:(lt,we,k)=>{k.d(we,{z:()=>O});var f=k(4408);const O=new(k(7565).v)(f.o)},6063:(lt,we,k)=>{k.d(we,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(lt,we,k)=>{k.d(we,{z:()=>f});const f={setTimeout(...Q){const{delegate:O}=f;return(O?.setTimeout||setTimeout)(...Q)},clearTimeout(Q){const{delegate:O}=f;return(O?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(lt,we,k)=>{k.d(we,{h:()=>Q});const Q=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,we,k)=>{k.d(we,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,we,k)=>{k.d(we,{_6:()=>he,jO:()=>ne,yG:()=>oe});var f=k(576);function O(ae){return ae[ae.length-1]}function ne(ae){return(0,f.m)(O(ae))?ae.pop():void 0}function oe(ae){return function Q(ae){return ae&&(0,f.m)(ae.schedule)}(O(ae))?ae.pop():void 0}function he(ae,ce){return"number"==typeof O(ae)?ae.pop():ce}},8737:(lt,we,k)=>{function f(Q,O){if(Q){const ne=Q.indexOf(O);0<=ne&&Q.splice(ne,1)}}k.d(we,{P:()=>f})},3888:(lt,we,k)=>{function f(Q){const ne=Q(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(we,{d:()=>f})},2806:(lt,we,k)=>{k.d(we,{O:()=>ne,x:()=>O});var f=k(2416);let Q=null;function O(oe){if(f.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),oe(),he){const{errorThrown:ae,error:ce}=Q;if(Q=null,ae)throw ce}}else oe()}function ne(oe){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=oe)}},9672:(lt,we,k)=>{function f(Q,O,ne,oe=0,he=!1){const ae=O.schedule(function(){ne(),he?Q.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(Q.add(ae),!he)return ae}k.d(we,{f:()=>f})},4671:(lt,we,k)=>{function f(Q){return Q}k.d(we,{y:()=>f})},1144:(lt,we,k)=>{k.d(we,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(lt,we,k)=>{k.d(we,{D:()=>Q});var f=k(576);function Q(O){return Symbol.asyncIterator&&(0,f.m)(O?.[Symbol.asyncIterator])}},576:(lt,we,k)=>{function f(Q){return"function"==typeof Q}k.d(we,{m:()=>f})},3670:(lt,we,k)=>{k.d(we,{c:()=>O});var f=k(8822),Q=k(576);function O(ne){return(0,Q.m)(ne[f.L])}},6495:(lt,we,k)=>{k.d(we,{T:()=>O});var f=k(2202),Q=k(576);function O(ne){return(0,Q.m)(ne?.[f.h])}},8239:(lt,we,k)=>{k.d(we,{t:()=>Q});var f=k(576);function Q(O){return(0,f.m)(O?.then)}},3260:(lt,we,k)=>{k.d(we,{L:()=>ne,Q:()=>O});var f=k(5987),Q=k(576);function O(oe){return(0,f.FC)(this,arguments,function*(){const ae=oe.getReader();try{for(;;){const{value:ce,done:le}=yield(0,f.qq)(ae.read());if(le)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ce)}}finally{ae.releaseLock()}})}function ne(oe){return(0,Q.m)(oe?.getReader)}},4482:(lt,we,k)=>{k.d(we,{A:()=>Q,e:()=>O});var f=k(576);function Q(ne){return(0,f.m)(ne?.lift)}function O(ne){return oe=>{if(Q(oe))return oe.lift(function(he){try{return ne(he,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(lt,we,k)=>{k.d(we,{U:()=>O,z:()=>Q});var f=k(4671);function Q(...ne){return O(ne)}function O(ne){return 0===ne.length?f.y:1===ne.length?ne[0]:function(he){return ne.reduce((ae,ce)=>ce(ae),he)}}},7849:(lt,we,k)=>{k.d(we,{h:()=>O});var f=k(2416),Q=k(3410);function O(ne){Q.z.setTimeout(()=>{const{onUnhandledError:oe}=f.v;if(!oe)throw ne;oe(ne)})}},4532:(lt,we,k)=>{function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(we,{z:()=>f})},5987:(lt,we,k)=>{function ce(B,ee,te,_e){return new(te||(te=Promise))(function(Oe,vt){function Ut(wt){try{et(_e.next(wt))}catch(An){vt(An)}}function Rn(wt){try{et(_e.throw(wt))}catch(An){vt(An)}}function et(wt){wt.done?Oe(wt.value):function pe(Oe){return Oe instanceof te?Oe:new te(function(vt){vt(Oe)})}(wt.value).then(Ut,Rn)}et((_e=_e.apply(B,ee||[])).next())})}function ge(B){return this instanceof ge?(this.v=B,this):new ge(B)}function re(B,ee,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,_e=te.apply(B,ee||[]),Oe=[];return pe={},vt("next"),vt("throw"),vt("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function vt(Wt){_e[Wt]&&(pe[Wt]=function(Sn){return new Promise(function(on,hi){Oe.push([Wt,Sn,on,hi])>1||Ut(Wt,Sn)})})}function Ut(Wt,Sn){try{!function Rn(Wt){Wt.value instanceof ge?Promise.resolve(Wt.value.v).then(et,wt):An(Oe[0][2],Wt)}(_e[Wt](Sn))}catch(on){An(Oe[0][3],on)}}function et(Wt){Ut("next",Wt)}function wt(Wt){Ut("throw",Wt)}function An(Wt,Sn){Wt(Sn),Oe.shift(),Oe.length&&Ut(Oe[0][0],Oe[0][1])}}function We(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,ee=B[Symbol.asyncIterator];return ee?ee.call(B):(B=function Z(B){var ee="function"==typeof Symbol&&Symbol.iterator,te=ee&&B[ee],_e=0;if(te)return te.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&_e>=B.length&&(B=void 0),{value:B&&B[_e++],done:!B}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),te={},_e("next"),_e("throw"),_e("return"),te[Symbol.asyncIterator]=function(){return this},te);function _e(Oe){te[Oe]=B[Oe]&&function(vt){return new Promise(function(Ut,Rn){!function pe(Oe,vt,Ut,Rn){Promise.resolve(Rn).then(function(et){Oe({value:et,done:Ut})},vt)}(Ut,Rn,(vt=B[Oe](vt)).done,vt.value)})}}}k.d(we,{FC:()=>re,KL:()=>We,mG:()=>ce,qq:()=>ge})},4650:(lt,we,k)=>{k.d(we,{$8M:()=>Lu,$Z:()=>cv,AFp:()=>Sc,ALo:()=>Yi,AaK:()=>ce,CHM:()=>vl,CRH:()=>cu,CZH:()=>Rp,CqO:()=>si,D6c:()=>QI,EJc:()=>Gm,EpF:()=>zv,F$t:()=>wE,F4k:()=>qv,FYo:()=>ms,FiY:()=>Be,G48:()=>ZC,GfV:()=>bf,Gpc:()=>G,Hsn:()=>uc,JOm:()=>Oi,KtG:()=>Qs,LFG:()=>dn,LSH:()=>co,Lbi:()=>wh,Lck:()=>lC,MAs:()=>yE,MMx:()=>rt,NdJ:()=>Wv,O4$:()=>Ma,OlP:()=>fn,Oqu:()=>th,PXZ:()=>kI,Q6J:()=>ep,QGY:()=>tp,QP$:()=>qt,Qsj:()=>If,R0b:()=>Mt,RDi:()=>Ed,Rgc:()=>yh,SBq:()=>nu,Sil:()=>UC,Suo:()=>Q_,TTD:()=>Oo,TgZ:()=>Xg,VKq:()=>Et,W1O:()=>J_,WLB:()=>gh,X6Q:()=>WC,XFs:()=>He,Xpm:()=>Ee,Xts:()=>fo,Y36:()=>Vf,YKP:()=>Nm,YNc:()=>Jf,Yjl:()=>ve,Yz7:()=>on,Z0I:()=>Ts,ZZ4:()=>S0,_Bn:()=>yc,_UZ:()=>Xd,_Vd:()=>Ri,_c5:()=>R0,_uU:()=>SE,aQg:()=>M0,c2e:()=>FC,cJS:()=>xn,cg1:()=>hc,dDg:()=>kp,dqk:()=>Kt,eFA:()=>LI,ekj:()=>i_,eoX:()=>OI,f3M:()=>b,g9A:()=>d0,h0i:()=>Es,hGG:()=>sl,hij:()=>nh,iGM:()=>_h,ifc:()=>ot,ip1:()=>xI,jDz:()=>lI,kL8:()=>pp,kcU:()=>Jc,lG2:()=>q,lcZ:()=>q_,lqb:()=>Ni,lri:()=>Eo,n5z:()=>_r,n_E:()=>ca,oAB:()=>Ht,oxw:()=>tm,q4F:()=>wg,qLn:()=>S,qOj:()=>Lv,qZA:()=>Rr,rWj:()=>_0,sBO:()=>jI,sIi:()=>Yf,s_b:()=>Cp,soG:()=>Cn,tb:()=>h0,tp0:()=>_t,uIk:()=>Kg,vHH:()=>me,vpe:()=>ai,wAp:()=>yt,xp6:()=>Aw,z2F:()=>Dh,zSh:()=>yf,zs3:()=>Ql});var f=k(7579),Q=k(727),O=k(9751),ne=k(6451),oe=k(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=he({__forward_ref__:he});function G(i){return i.__forward_ref__=G,i.toString=function(){return ce(this())},i}function Z(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===G}class me extends Error{constructor(s,a){super(function Xe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function Ye(i,s){throw new me(-201,!1)}function et(i,s){null==i&&function wt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function on(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Xi(i){return Zr(i,Tr)||Zr(i,Me)}function Ts(i){return null!==Xi(i)}function Zr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Co(i){return i&&(i.hasOwnProperty(Lr)||i.hasOwnProperty(Vr))?i[Lr]:null}const Tr=he({\u0275prov:he}),Lr=he({\u0275inj:he}),Me=he({ngInjectableDef:he}),Vr=he({ngInjectorDef:he});var He=(()=>((He=He||{})[He.Default=0]="Default",He[He.Host=1]="Host",He[He.Self=2]="Self",He[He.SkipSelf=4]="SkipSelf",He[He.Optional=8]="Optional",He))();let mr;function er(i){const s=mr;return mr=i,s}function Vi(i,s,a){const l=Xi(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&He.Optional?null:void 0!==s?s:void Ye(ce(i))}function wn(i){return{toString:i}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),ot=(()=>{return(i=ot||(ot={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ot;var i})();const Kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kr={},nt=[],gn=he({\u0275cmp:he}),an=he({\u0275dir:he}),ts=he({\u0275pipe:he}),Zt=he({\u0275mod:he}),mn=he({\u0275fac:he}),yr=he({__NG_ELEMENT_ID__:he});let Je=0;function Ee(i){return wn(()=>{const a=!0===i.standalone,l={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||nt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ot.Emulated,id:"c"+Je++,styles:i.styles||nt,_:null,setInput:null,schemas:i.schemas||null,tView:null},g=i.dependencies,v=i.features;return c.inputs=V(i.inputs,l),c.outputs=V(i.outputs),v&&v.forEach(E=>E(c)),c.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ct).filter(Tt):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(dt).filter(Tt):null,c})}function Ct(i){return K(i)||$e(i)}function Tt(i){return null!==i}function Ht(i){return wn(()=>({type:i.type,bootstrap:i.bootstrap||nt,declarations:i.declarations||nt,imports:i.imports||nt,exports:i.exports||nt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function V(i,s){if(null==i)return Kr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),a[c]=l,s&&(s[c]=g)}return a}const q=Ee;function ve(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function K(i){return i[gn]||null}function $e(i){return i[an]||null}function dt(i){return i[ts]||null}function qt(i){const s=K(i)||$e(i)||dt(i);return null!==s&&s.standalone}function un(i,s){const a=i[Zt]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function hr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Qr(i){return Array.isArray(i)&&!0===i[1]}function _u(i){return 0!=(8&i.flags)}function wu(i){return 2==(2&i.flags)}function dl(i){return 1==(1&i.flags)}function Jr(i){return null!==i.template}function tr(i){return 0!=(256&i[2])}function Bi(i,s){return i.hasOwnProperty(mn)?i[mn]:null}class zh{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Oo(){return zc}function zc(i){return i.type.prototype.ngOnChanges&&(i.setInput=pl),Po}function Po(){const i=va(this),s=i?.current;if(s){const a=i.previous;if(a===Kr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function pl(i,s,a,l){const c=va(i)||function ji(i,s){return i[Iu]=s}(i,{previous:Kr,current:null}),g=c.current||(c.current={}),v=c.previous,E=this.declaredInputs[a],I=v[E];g[E]=new zh(I&&I.currentValue,s,v===Kr),i[l]=s}Oo.ngInherit=!0;const Iu="__ngSimpleChanges__";function va(i){return i[Iu]||null}function kn(i){for(;Array.isArray(i);)i=i[0];return i}function Xr(i,s){return kn(s[i])}function Bn(i,s){return kn(s[i.index])}function Ea(i,s){return i.data[s]}function Ti(i,s){return i[s]}function sn(i,s){const a=s[i];return hr(a)?a:a[0]}function jr(i){return 64==(64&i[2])}function Ar(i,s){return null==s?null:i[s]}function gl(i){i[18]=0}function jn(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Dt={lFrame:El(null),bindingsEnabled:!0};function xs(){return Dt.bindingsEnabled}function Ie(){return Dt.lFrame.lView}function Gt(){return Dt.lFrame.tView}function vl(i){return Dt.lFrame.contextLView=i,i[8]}function Qs(i){return Dt.lFrame.contextLView=null,i}function Hn(){let i=Da();for(;null!==i&&64===i.type;)i=i.parent;return i}function Da(){return Dt.lFrame.currentTNode}function $r(i,s){const a=Dt.lFrame;a.currentTNode=i,a.isParent=s}function Ca(){return Dt.lFrame.isParent}function ko(){Dt.lFrame.isParent=!1}function $n(){const i=Dt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xs(){return Dt.lFrame.bindingIndex++}function Yc(i,s){const a=Dt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Lo(s)}function Lo(i){Dt.lFrame.currentDirectiveIndex=i}function Aa(){return Dt.lFrame.currentQueryIndex}function Vo(i){Dt.lFrame.currentQueryIndex=i}function Sa(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function xa(i,s,a){if(a&He.SkipSelf){let c=s,g=i;for(;!(c=c.parent,null!==c||a&He.Host||(c=Sa(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;s=c,i=g}const l=Dt.lFrame=wl();return l.currentTNode=s,l.lView=i,!0}function xu(i){const s=wl(),a=i[1];Dt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function wl(){const i=Dt.lFrame,s=null===i?null:i.child;return null===s?El(i):s}function El(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Il(){const i=Dt.lFrame;return Dt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Qc=Il;function ss(){const i=Il();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function nr(){return Dt.lFrame.selectedIndex}function $i(i){Dt.lFrame.selectedIndex=i}function bn(){const i=Dt.lFrame;return Ea(i.tView,i.selectedIndex)}function Ma(){Dt.lFrame.currentNamespace="svg"}function Jc(){!function Na(){Dt.lFrame.currentNamespace=null}()}function Uo(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:N}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=N&&(i.destroyHooks||(i.destroyHooks=[])).push(a,N)}}function to(i,s,a){as(i,s,3,a)}function os(i,s,a,l){(3&i[2])===a&&as(i,s,a,l)}function Cl(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function as(i,s,a,l){const g=l??-1,v=s.length-1;let E=0;for(let I=void 0!==l?65535&i[18]:0;I<v;I++)if("number"==typeof s[I+1]){if(E=s[I],null!=l&&E>=l)break}else s[I]<0&&(i[18]+=65536),(E<g||-1==g)&&(Tl(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Tl(i,s,a,l){const c=a[l]<0,g=a[l+1],E=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Bo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ms(i,s,a){let l=0;for(;l<a.length;){const c=a[l];if("number"==typeof c){if(0!==c)break;l++;const g=a[l++],v=a[l++],E=a[l++];i.setAttribute(s,v,E,g)}else{const g=c,v=a[++l];Ns(g)?i.setProperty(s,g,v):i.setAttribute(s,g,v),l++}}return l}function Ou(i){return 3===i||4===i||6===i}function Ns(i){return 64===i.charCodeAt(0)}function Ho(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||td(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function td(i,s,a,l,c){let g=0,v=i.length;if(-1===s)v=-1;else for(;g<i.length;){const E=i[g++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=g-1;break}}}for(;g<i.length;){const E=i[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==c&&(i[g+1]=c));if(l===i[g+1])return void(i[g+2]=c)}g++,null!==l&&g++,null!==c&&g++}-1!==v&&(i.splice(v,0,s),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==c&&i.splice(g++,0,c)}function nd(i){return-1!==i}function rr(i){return 32767&i}function $o(i,s){let a=function rd(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let id=!0;function Oa(i){const s=id;return id=i,s}let Yh=0;const Gi={};function us(i,s){const a=Go(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ls(l.data,i),ls(s,null),ls(l.blueprint,null));const c=Pu(i,s),g=i.injectorIndex;if(nd(c)){const v=rr(c),E=$o(c,s),I=E[1].data;for(let A=0;A<8;A++)s[g+A]=E[v+A]|I[v+A]}return s[g+8]=c,g}function ls(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Go(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Pu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){if(l=zi(c),null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function no(i,s,a){!function Qh(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(yr)&&(l=a[yr]),null==l&&(l=a[yr]=Yh++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Pa(i,s,a){if(a&He.Optional||void 0!==i)return i;Ye()}function ku(i,s,a,l){if(a&He.Optional&&void 0===l&&(l=null),0==(a&(He.Self|He.Host))){const c=i[9],g=er(void 0);try{return c?c.get(s,l,a&He.Optional):Vi(s,l,a&He.Optional)}finally{er(g)}}return Pa(l,0,a)}function ka(i,s,a,l=He.Default,c){if(null!==i){if(1024&s[2]){const v=function Xh(i,s,a,l,c){let g=i,v=s;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=ud(g,v,a,l|He.Self,Gi);if(E!==Gi)return E;let I=g.parent;if(!I){const A=v[21];if(A){const N=A.get(a,Gi,l);if(N!==Gi)return N}I=zi(v),v=v[15]}g=I}return c}(i,s,a,l,Gi);if(v!==Gi)return v}const g=ud(i,s,a,l,Gi);if(g!==Gi)return g}return ku(s,a,l,c)}function ud(i,s,a,l,c){const g=function Jh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(yr)?i[yr]:void 0;return"number"==typeof s?s>=0?255&s:cd:s}(a);if("function"==typeof g){if(!xa(s,i,l))return l&He.Host?Pa(c,0,l):ku(s,a,l,c);try{const v=g(l);if(null!=v||l&He.Optional)return v;Ye()}finally{Qc()}}else if("number"==typeof g){let v=null,E=Go(i,s),I=-1,A=l&He.Host?s[16][6]:null;for((-1===E||l&He.SkipSelf)&&(I=-1===E?Pu(i,s):s[E+8],-1!==I&&ld(l,!1)?(v=s[1],E=rr(I),s=$o(I,s)):E=-1);-1!==E;){const N=s[1];if(Fu(g,E,N.data)){const P=Fa(E,s,a,v,l,A);if(P!==Gi)return P}I=s[E+8],-1!==I&&ld(l,s[1].data[E+8]===A)&&Fu(g,E,s)?(v=N,E=rr(I),s=$o(I,s)):E=-1}}return c}function Fa(i,s,a,l,c,g){const v=s[1],E=v.data[i+8],N=La(E,v,a,null==l?wu(E)&&id:l!=v&&0!=(3&E.type),c&He.Host&&g===E);return null!==N?Rs(s,v,N,E):Gi}function La(i,s,a,l,c){const g=i.providerIndexes,v=s.data,E=1048575&g,I=i.directiveStart,N=g>>20,$=c?E+N:i.directiveEnd;for(let Y=l?E:E+N;Y<$;Y++){const ye=v[Y];if(Y<I&&a===ye||Y>=I&&ye.type===a)return Y}if(c){const Y=v[I];if(Y&&Jr(Y)&&Y.type===a)return I}return null}function Rs(i,s,a,l){let c=i[a];const g=s.data;if(function Al(i){return i instanceof Bo}(c)){const v=c;v.resolving&&function Le(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new me(-200,`Circular dependency in DI detected for ${i}${a}`)}(function re(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}(g[a]));const E=Oa(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?er(v.injectImpl):null;xa(i,l,He.Default);try{c=i[a]=v.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Dl(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:g}=s.type.prototype;if(l){const v=zc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==I&&er(I),Oa(E),v.resolving=!1,Qc()}}return c}function Fu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ld(i,s){return!(i&He.Self||i&He.Host&&s)}class cs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ka(this._tNode,this._lView,s,l,a)}}function cd(){return new cs(Hn(),Ie())}function _r(i){return wn(()=>{const s=i.prototype.constructor,a=s[mn]||Va(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const g=c[mn]||Va(c);if(g&&g!==a)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function Va(i){return Ve(i)?()=>{const s=Va(Z(i));return s&&s()}:Bi(i)}function zi(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Lu(i){return function ad(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const g=a[c];if(Ou(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(g===s)return a[c+1];c+=2}}}return null}(Hn(),i)}const zo="__parameters__";function qo(i,s,a){return wn(()=>{const l=function Ba(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...g){if(this instanceof c)return l.apply(this,g),this;const v=new c(...g);return E.annotation=v,E;function E(I,A,N){const P=I.hasOwnProperty(zo)?I[zo]:Object.defineProperty(I,zo,{value:[]})[zo];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(v),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=on({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),cn(l,s)):s!==i&&s.push(l)}return s}function Si(i,s){i.forEach(a=>Array.isArray(a)?Si(a,s):s(a))}function ds(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function qn(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Wn(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function ei(i,s,a){let l=qi(i,s);return l>=0?i[1|l]=a:(l=~l,function fd(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Ha(i,s){const a=qi(i,s);if(a>=0)return i[1|a]}function qi(i,s){return function $a(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const g=l+(c-l>>1),v=i[g<<a];if(s===v)return g<<a;v>s?c=g:l=g+1}return~(c<<a)}(i,s,1)}const pi={},Nn="__NG_DI_FLAG__",ks="ngTempTokenPath",Zo=/\n/gm,za="__source";let qa;function Zi(i){const s=qa;return qa=i,s}function Ko(i,s=He.Default){if(void 0===qa)throw new me(-203,!1);return null===qa?Vi(i,void 0,s):qa.get(i,s&He.Optional?null:void 0,s)}function dn(i,s=He.Default){return(function Xn(){return mr}()||Ko)(Z(i),s)}function b(i,s=He.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),dn(i,s)}function T(i){const s=[];for(let a=0;a<i.length;a++){const l=Z(i[a]);if(Array.isArray(l)){if(0===l.length)throw new me(900,!1);let c,g=He.Default;for(let v=0;v<l.length;v++){const E=l[v],I=F(E);"number"==typeof I?-1===I?c=E.token:g|=I:c=E}s.push(dn(c,g))}else s.push(dn(l))}return s}function M(i,s){return i[Nn]=s,i.prototype[Nn]=s,i}function F(i){return i[Nn]}const Be=M(qo("Optional"),8),_t=M(qo("SkipSelf"),4);let Nl;function Ed(i){Nl=i}class Hu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ti(i){return i instanceof Hu?i.changingThisBreaksApplicationSecurity:i}const Cy=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function co(i){const s=function na(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Zn.URL,i)||"":function Xo(i,s){const a=function bd(i){return i instanceof Hu&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?ti(i):function ff(i){return(i=String(i)).match(Cy)?i:"unsafe:"+i}(ge(i))}const fo=new fn("ENVIRONMENT_INITIALIZER"),gf=new fn("INJECTOR",-1),Fl=new fn("INJECTOR_DEF_TYPES");class gg{get(s,a=pi){if(a===pi){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return a}}function mf(...i){return{\u0275providers:Ll(0,i)}}function Ll(i,...s){const a=[],l=new Set;let c;return Si(s,g=>{const v=g;zu(v,a,[],l)&&(c||(c=[]),c.push(v))}),void 0!==c&&Sd(c,a),a}function Sd(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];Si(c,g=>{s.push(g)})}}function zu(i,s,a,l){if(!(i=Z(i)))return!1;let c=null,g=Co(i);const v=!g&&K(i);if(g||v){if(v&&!v.standalone)return!1;c=i}else{const I=i.ngModule;if(g=Co(I),!g)return!1;c=I}const E=l.has(c);if(v){if(E)return!1;if(l.add(c),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of I)zu(A,s,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;l.add(c);try{Si(g.imports,N=>{zu(N,s,a,l)&&(A||(A=[]),A.push(N))})}finally{}void 0!==A&&Sd(A,s)}if(!E){const A=Bi(c)||(()=>new c);s.push({provide:c,useFactory:A,deps:nt},{provide:Fl,useValue:c,multi:!0},{provide:fo,useValue:()=>dn(c),multi:!0})}const I=g.providers;null==I||E||Si(I,N=>{s.push(N)})}}return c!==i&&void 0!==i.providers}const Ny=he({provide:String,useValue:he});function Vl(i){return null!==i&&"object"==typeof i&&Ny in i}function eu(i){return"function"==typeof i}const yf=new fn("Set Injector scope."),Md={},vf={};let tu;function Nd(){return void 0===tu&&(tu=new gg),tu}class Ni{}class Rd extends Ni{constructor(s,a,l,c){super(),this.parent=a,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wu(s,v=>this.processProvider(v)),this.records.set(gf,Us(void 0,this)),c.has("environment")&&this.records.set(Ni,Us(void 0,this));const g=this.records.get(yf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Fl.multi,nt,He.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Zi(this),l=er(void 0);try{return s()}finally{Zi(a),er(l)}}get(s,a=pi,l=He.Default){this.assertNotDestroyed();const c=Zi(this),g=er(void 0);try{if(!(l&He.SkipSelf)){let E=this.records.get(s);if(void 0===E){const I=function vg(i){return"function"==typeof i||"object"==typeof i&&i instanceof fn}(s)&&Xi(s);E=I&&this.injectableDefInScope(I)?Us(yg(s),Md):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&He.Self?Nd():this.parent).get(s,a=l&He.Optional&&a===pi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ks]=v[ks]||[]).unshift(ce(s)),c)throw v;return function W(i,s,a,l){const c=i[ks];throw s[za]&&c.unshift(s[za]),i.message=function se(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=ce(s);if(Array.isArray(s))c=s.map(ce).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}c=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Zo,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[ks]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{er(g),Zi(c)}}resolveInjectorInitializers(){const s=Zi(this),a=er(void 0);try{const l=this.get(fo.multi,nt,He.Self);for(const c of l)c()}finally{Zi(s),er(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ce(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(s){let a=eu(s=Z(s))?s:Z(s&&s.provide);const l=function Ry(i){return Vl(i)?Us(void 0,i.useValue):Us(_f(i),Md)}(s);if(eu(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=Us(void 0,Md,!0),c.factory=()=>T(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Md&&(a.value=vf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qu(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Z(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function yg(i){const s=Xi(i),a=null!==s?s.factory:Bi(i);if(null!==a)return a;if(i instanceof fn)throw new me(204,!1);if(i instanceof Function)return function Ul(i){const s=i.length;if(s>0)throw Wn(s,"?"),new me(204,!1);const a=function nn(i){const s=i&&(i[Tr]||i[Me]);if(s){const a=function On(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new me(204,!1)}function _f(i,s,a){let l;if(eu(i)){const c=Z(i);return Bi(c)||yg(c)}if(Vl(i))l=()=>Z(i.useValue);else if(function mg(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...T(i.deps||[]));else if(function Xa(i){return!(!i||!i.useExisting)}(i))l=()=>dn(Z(i.useExisting));else{const c=Z(i&&(i.useClass||i.provide));if(!function Bl(i){return!!i.deps}(i))return Bi(c)||yg(c);l=()=>new c(...T(i.deps))}return l}function Us(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function wf(i){return!!i.\u0275providers}function Wu(i,s){for(const a of i)Array.isArray(a)?Wu(a,s):wf(a)?Wu(a.\u0275providers,s):s(a)}class Ef{}class ri{resolveComponentFactory(s){throw function Oy(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ri=(()=>{class i{}return i.NULL=new ri,i})();function _g(){return ia(Hn(),Ie())}function ia(i,s){return new nu(Bn(i,s))}let nu=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=_g,i})();function Od(i){return i instanceof nu?i.nativeElement:i}class ms{}let If=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function gi(){const i=Ie(),a=sn(Hn().index,i);return(hr(a)?a:i)[11]}(),i})(),Hl=(()=>{class i{}return i.\u0275prov=on({token:i,providedIn:"root",factory:()=>null}),i})();class bf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wg=new bf("14.2.5"),Df={};function C(i){return i.ngOriginalError}class S{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&C(s);for(;a&&C(a);)a=C(a);return a||null}}const yi=new Map;let Fd=0;const Zu="__ngContext__";function or(i,s){hr(s)?(i[Zu]=s[20],function Ld(i){yi.set(i[20],i)}(s)):i[Zu]=s}function vs(i){return i instanceof Function?i():i}var Oi=(()=>((Oi=Oi||{})[Oi.Important=1]="Important",Oi[Oi.DashCase=2]="DashCase",Oi))();function jy(i,s){return undefined(i,s)}function Sf(i){const s=i[3];return Qr(s)?s[3]:s}function Hy(i){return cw(i[13])}function $y(i){return cw(i[4])}function cw(i){for(;null!==i&&!Qr(i);)i=i[4];return i}function jd(i,s,a,l,c){if(null!=l){let g,v=!1;Qr(l)?g=l:hr(l)&&(v=!0,l=l[0]);const E=kn(l);0===i&&null!==a?null==c?fw(s,a,E):Kl(s,a,E,c||null,!0):1===i&&null!==a?Kl(s,a,E,c||null,!0):2===i?function yw(i,s,a){const l=Rf(i,s);l&&function tD(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,E,v):3===i&&s.destroyNode(E),null!=g&&function rD(i,s,a,l,c){const g=a[7];g!==kn(a)&&jd(s,i,l,g,c);for(let E=10;E<a.length;E++){const I=a[E];kf(I[1],I,i,s,l,g)}}(s,i,g,a,c)}}function Gy(i,s,a){return i.createElement(s,a)}function dw(i,s){const a=i[9],l=a.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,jn(c,-1)),a.splice(l,1)}function zy(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&dw(c,l),s>0&&(i[a-1][4]=l[4]);const g=qn(i,10+s);!function Kb(i,s){kf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function qy(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&kf(i,s,a,3,null,null),function Jb(i){let s=i[13];if(!s)return Wy(i[1],i);for(;s;){let a=null;if(hr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)hr(s)&&Wy(s[1],s),s=s[3];null===s&&(s=i),hr(s)&&Wy(s[1],s),a=s&&s[4]}s=a}}(s)}}function Wy(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function hw(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Bo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=c[g[v]],I=g[v+1];try{I.call(E)}finally{}}else try{g.call(c)}finally{}}}}(i,s),function Zy(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(s):kn(s[v]),I=l[c=a[g+2]],A=a[g+3];"boolean"==typeof A?E.removeEventListener(a[g],I,A):A>=0?l[c=A]():l[c=-A].unsubscribe(),g+=2}else{const v=l[c=a[g+1]];a[g].call(v)}if(null!==l){for(let g=c+1;g<l.length;g++)(0,l[g])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Qr(s[3])){a!==s[3]&&dw(a,s);const l=s[19];null!==l&&l.detachView(i)}!function Ud(i){yi.delete(i[20])}(s)}}function Tg(i,s,a){return function Nf(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===ot.None||c===ot.Emulated)return null}return Bn(l,a)}(i,s.parent,a)}function Kl(i,s,a,l,c){i.insertBefore(s,a,l,c)}function fw(i,s,a){i.appendChild(s,a)}function pw(i,s,a,l,c){null!==l?Kl(i,s,a,l,c):fw(i,s,a)}function Rf(i,s){return i.parentNode(s)}function Of(i,s,a){return Yy(i,s,a)}let Yy=function Pf(i,s,a){return 40&i.type?Bn(i,a):null};function Ag(i,s,a,l){const c=Tg(i,l,s),g=s[11],E=Of(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)pw(g,c,a[I],E,!1);else pw(g,c,a,E,!1)}function Sg(i,s){if(null!==s){const a=s.type;if(3&a)return Bn(s,i);if(4&a)return Jy(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Sg(i,l);{const c=i[s.index];return Qr(c)?Jy(-1,c):kn(c)}}if(32&a)return jy(s,i)()||kn(i[s.index]);{const l=mw(i,s);return null!==l?Array.isArray(l)?l[0]:Sg(Sf(i[16]),l):Sg(i,s.next)}}return null}function mw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Jy(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Sg(l,c)}return s[7]}function $d(i,s,a,l,c,g,v){for(;null!=a;){const E=l[a.index],I=a.type;if(v&&0===s&&(E&&or(kn(E),l),a.flags|=4),64!=(64&a.flags))if(8&I)$d(i,s,a.child,l,c,g,!1),jd(s,i,c,E,g);else if(32&I){const A=jy(a,l);let N;for(;N=A();)jd(s,i,c,N,g);jd(s,i,c,E,g)}else 16&I?vw(i,s,l,a,c,g):jd(s,i,c,E,g);a=v?a.projectionNext:a.next}}function kf(i,s,a,l,c,g){$d(a,l,i.firstChild,s,c,g,!1)}function vw(i,s,a,l,c,g){const v=a[16],I=v[6].projection[l.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)jd(s,i,c,I[A],g);else $d(i,s,I,v[3],c,g,!0)}function _w(i,s,a){i.setAttribute(s,"style",a)}function Xy(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function ev(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const g=s.length;if(c+g===l||i.charCodeAt(c+g)<=32)return c}a=c+1}}const tv="ng-template";function ww(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==ev(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function nv(i){return 4===i.type&&i.value!==tv}function Ew(i,s,a){return s===(4!==i.type||a?i.value:tv)}function Iw(i,s,a){let l=4;const c=i.attrs||[],g=function aD(i){for(let s=0;s<i.length;s++)if(Ou(i[s]))return s;return i.length}(c);let v=!1;for(let E=0;E<s.length;E++){const I=s[E];if("number"!=typeof I){if(!v)if(4&l){if(l=2|1&l,""!==I&&!Ew(i,I,a)||""===I&&1===s.length){if(po(l))return!1;v=!0}}else{const A=8&l?I:s[++E];if(8&l&&null!==i.attrs){if(!ww(i.attrs,A,a)){if(po(l))return!1;v=!0}continue}const P=sD(8&l?"class":I,c,nv(i),a);if(-1===P){if(po(l))return!1;v=!0;continue}if(""!==A){let $;$=P>g?"":c[P+1].toLowerCase();const Y=8&l?$:null;if(Y&&-1!==ev(Y,A,0)||2&l&&A!==$){if(po(l))return!1;v=!0}}}}else{if(!v&&!po(l)&&!po(I))return!1;if(v&&po(I))continue;v=!1,l=I|1&l}}return po(l)||v}function po(i){return 0==(1&i)}function sD(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let g=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=g?1:2}return-1}return function uD(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function bw(i,s,a=!1){for(let l=0;l<s.length;l++)if(Iw(i,s[l],a))return!0;return!1}function Dw(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function xg(i,s){return i?":not("+s.trim()+")":s}function Cw(i){let s=i[0],a=1,l=2,c="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const E=i[++a];c+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!po(v)&&(s+=xg(g,c),c=""),l=v,g=g||!po(l);a++}return""!==c&&(s+=xg(g,c)),s}const kt={};function Aw(i){Sw(Gt(),Ie(),nr()+i,!1)}function Sw(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&to(s,g,a)}else{const g=i.preOrderHooks;null!==g&&os(s,g,0,a)}$i(a)}function Rw(i,s=null,a=null,l){const c=Ow(i,s,a,l);return c.resolveInjectorInitializers(),c}function Ow(i,s=null,a=null,l,c=new Set){const g=[a||nt,mf(i)];return l=l||("object"==typeof i?void 0:ce(i)),new Rd(g,s||Nd(),l||null,c)}let Ql=(()=>{class i{static create(a,l){if(Array.isArray(a))return Rw({name:""},l,a,"");{const c=a.name??"";return Rw({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=pi,i.NULL=new gg,i.\u0275prov=on({token:i,providedIn:"any",factory:()=>dn(gf)}),i.__NG_ELEMENT_ID__=-1,i})();function Vf(i,s=He.Default){const a=Ie();return null===a?dn(i,s):ka(Hn(),a,Z(i),s)}function cv(){throw new Error("invalid")}function Fg(i,s){return i<<17|s<<2}function Hs(i){return i>>17&32767}function dv(i){return 2|i}function iu(i){return(131068&i)>>2}function hv(i,s){return-131069&i|s<<2}function pv(i){return 1|i}function Ug(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];Vo(c),v.contentQueries(2,s[g],g)}}}function Bg(i,s,a,l,c,g,v,E,I,A,N){const P=s.blueprint.slice();return P[0]=c,P[2]=76|l,(null!==N||i&&1024&i[2])&&(P[2]|=1024),gl(P),P[3]=P[15]=i,P[8]=a,P[10]=v||i&&i[10],P[11]=E||i&&i[11],P[12]=I||i&&i[12]||null,P[9]=A||i&&i[9]||null,P[6]=g,P[20]=function Cf(){return Fd++}(),P[21]=N,P[16]=2==s.type?i[16]:P,P}function ec(i,s,a,l,c){let g=i.data[s];if(null===g)g=function _v(i,s,a,l,c){const g=Da(),v=Ca(),I=i.data[s]=function TD(i,s,a,l,c,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(i,s,a,l,c),function Kc(){return Dt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=c;const v=function Tu(){const i=Dt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return $r(g,!0),g}function qd(i,s,a,l){if(0===a)return-1;const c=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function wv(i,s,a){xu(s);try{const l=i.viewQuery;null!==l&&Ov(1,l,a);const c=i.template;null!==c&&vi(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ug(i,s),i.staticViewQueries&&Ov(2,i.viewQuery,a);const g=i.components;null!==g&&function DD(i,s){for(let a=0;a<s.length;a++)ND(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ss()}}function jg(i,s,a,l){const c=s[2];if(128!=(128&c)){xu(s);try{gl(s),function Fo(i){return Dt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&vi(i,s,a,2,l);const v=3==(3&c);if(v){const A=i.preOrderCheckHooks;null!==A&&to(s,A,null)}else{const A=i.preOrderHooks;null!==A&&os(s,A,0,null),Cl(s,0)}if(function Nv(i){for(let s=Hy(i);null!==s;s=$y(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],g=c[3];0==(512&c[2])&&jn(g,1),c[2]|=512}}}(s),function Mv(i){for(let s=Hy(i);null!==s;s=$y(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];jr(l)&&jg(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Ug(i,s),v){const A=i.contentCheckHooks;null!==A&&to(s,A)}else{const A=i.contentHooks;null!==A&&os(s,A,1),Cl(s,1)}!function Vg(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)$i(~c);else{const g=c,v=a[++l],E=a[++l];Yc(v,g),E(2,s[g])}}}finally{$i(-1)}}(i,s);const E=i.components;null!==E&&function bD(i,s){for(let a=0;a<s.length;a++)Rv(i,s[a])}(s,E);const I=i.viewQuery;if(null!==I&&Ov(2,I,l),v){const A=i.viewCheckHooks;null!==A&&to(s,A)}else{const A=i.viewHooks;null!==A&&os(s,A,2),Cl(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,jn(s[3],-1))}finally{ss()}}}function vi(i,s,a,l,c){const g=nr(),v=2&l;try{$i(-1),v&&s.length>22&&Sw(i,s,22,!1),a(l,c)}finally{$i(g)}}function Hg(i,s,a){!xs()||(function Jw(i,s,a,l){const c=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||us(a,s),or(l,s);const v=a.initialInputs;for(let E=c;E<g;E++){const I=i.data[E],A=Jr(I);A&&tE(s,a,I);const N=Rs(s,i,E,a);or(N,s),null!==v&&xD(0,E-c,N,I,0,v),A&&(sn(a.index,s)[8]=N)}}(i,s,a,Bn(a,s)),128==(128&a.flags)&&function Tv(i,s,a){const l=a.directiveStart,c=a.directiveEnd,g=a.index,v=function Kh(){return Dt.lFrame.currentDirectiveIndex}();try{$i(g);for(let E=l;E<c;E++){const I=i.data[E],A=s[E];Lo(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Av(I,A)}}finally{$i(-1),Lo(v)}}(i,s,a))}function Hf(i,s,a=Bn){const l=s.localNames;if(null!==l){let c=s.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(s,i):i[v];i[c++]=E}}}function $f(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Gf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Gf(i,s,a,l,c,g,v,E,I,A){const N=22+l,P=N+c,$=function Ev(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:kt);return a}(N,P),Y="function"==typeof A?A():A;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:E,declTNode:s,data:$.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function Kw(i,s,a,l){const c=rE(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&iE(i).push(l,c.length-1))}function Yw(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Wd(i,s){const l=s.directiveEnd,c=i.data,g=s.attrs,v=[];let E=null,I=null;for(let A=s.directiveStart;A<l;A++){const N=c[A],P=N.inputs,$=null===g||nv(s)?null:MD(P,g);v.push($),E=Yw(P,A,E),I=Yw(N.outputs,A,I)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=E,s.outputs=I}function Iv(i,s){const a=sn(s,i);16&a[2]||(a[2]|=32)}function bv(i,s,a,l){let c=!1;if(xs()){const g=function zf(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];bw(a,v.selectors,!1)&&(c||(c=[]),no(us(a,s),i,v.type),Jr(v)?(Xw(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===l?null:{"":-1};if(null!==g){c=!0,eE(a,i.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let E=!1,I=!1,A=qd(i,s,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];a.mergedAttrs=Ho(a.mergedAttrs,P.hostAttrs),$g(i,a,s,A,P),xv(A,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const $=P.type.prototype;!E&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!I&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),A++}Wd(i,a)}v&&function Sv(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const g=a[s[c+1]];if(null==g)throw new me(-301,!1);l.push(s[c],g)}}}(a,l,v)}return a.mergedAttrs=Ho(a.mergedAttrs,a.attrs),c}function Dv(i,s,a,l,c,g){const v=g.hostBindings;if(v){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const I=~s.index;(function Cv(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=I&&E.push(I),E.push(l,c,v)}}function Av(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Xw(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function xv(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Jr(s)&&(a[""]=i)}}function eE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function $g(i,s,a,l,c){i.data[l]=c;const g=c.factory||(c.factory=Bi(c.type)),v=new Bo(g,Jr(c),Vf);i.blueprint[l]=v,a[l]=v,Dv(i,s,0,l,qd(i,a,c.hostVars,kt),c)}function tE(i,s,a){const l=Bn(s,i),c=$f(a),g=i[10],v=ou(i,Bg(i,c,null,a.onPush?32:16,l,s,g,g.createRenderer(l,a),null,null,null));i[s.index]=v}function go(i,s,a,l,c,g){const v=Bn(i,s);!function qf(i,s,a,l,c,g,v){if(null==g)i.removeAttribute(s,c,a);else{const E=null==v?ge(g):v(g,l||"",c);i.setAttribute(s,c,E,a)}}(s[11],v,g,i.value,a,l,c)}function xD(i,s,a,l,c,g){const v=g[s];if(null!==v){const E=l.setInput;for(let I=0;I<v.length;){const A=v[I++],N=v[I++],P=v[I++];null!==E?l.setInput(a,P,A,N):a[N]=P}}}function MD(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Wf(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Rv(i,s){const a=sn(s,i);if(jr(a)){const l=a[1];48&a[2]?jg(l,a,l.template,a[8]):a[5]>0&&Gg(a)}}function Gg(i){for(let l=Hy(i);null!==l;l=$y(l))for(let c=10;c<l.length;c++){const g=l[c];if(jr(g))if(512&g[2]){const v=g[1];jg(v,g,v.template,g[8])}else g[5]>0&&Gg(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=sn(a[l],i);jr(c)&&c[5]>0&&Gg(c)}}function ND(i,s){const a=sn(s,i),l=a[1];(function nE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),wv(l,a,a[8])}function ou(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function zg(i){for(;i;){i[2]|=32;const s=Sf(i);if(tr(i)&&!s)return i;i=s}return null}function qg(i,s,a,l=!0){const c=s[10];c.begin&&c.begin();try{jg(i,s,i.template,a)}catch(v){throw l&&oE(s,v),v}finally{c.end&&c.end()}}function Ov(i,s,a){Vo(0),s(i,a)}function rE(i){return i[7]||(i[7]=[])}function iE(i){return i.cleanup||(i.cleanup=[])}function oE(i,s){const a=i[9],l=a?a.get(S,null):null;l&&l.handleError(s)}function Pv(i,s,a,l,c){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],I=s[v],A=i.data[v];null!==A.setInput?A.setInput(I,c,l,E):I[E]=c}}function Zf(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?g=E:1==g?c=le(c,E):2==g&&(l=le(l,E+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function Kf(i,s,a,l,c=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(kn(g)),Qr(g))for(let E=10;E<g.length;E++){const I=g[E],A=I[1].firstChild;null!==A&&Kf(I[1],I,A,l)}const v=a.type;if(8&v)Kf(i,s,a.child,l);else if(32&v){const E=jy(a,s);let I;for(;I=E();)l.push(I)}else if(16&v){const E=mw(s,a);if(Array.isArray(E))l.push(...E);else{const I=Sf(s[16]);Kf(I[1],I,E,l,!0)}}a=c?a.projectionNext:a.next}return l}class tc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Kf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Qr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(zy(s,l),qn(a,l))}this._attachedToViewContainer=!1}qy(this._lView[1],this._lView)}onDestroy(s){Kw(this._lView[1],this._lView,null,s)}markForCheck(){zg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qb(i,s){kf(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=s}}class RD extends tc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;qg(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class kv extends Ri{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=K(s);return new Zd(a,this.ngModule)}}function aE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class lE{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const c=this.injector.get(s,Df,l);return c!==Df||a===Df?c:this.parentInjector.get(s,a,l)}}class Zd extends Ef{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Tw(i){return i.map(Cw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return aE(this.componentDef.inputs)}get outputs(){return aE(this.componentDef.outputs)}create(s,a,l,c){let g=(c=c||this.ngModule)instanceof Ni?c:c?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new lE(s,g):s,E=v.get(ms,null);if(null===E)throw new me(407,!1);const I=v.get(Hl,null),A=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",P=l?function CD(i,s,a){return i.selectRootElement(s,a===ot.ShadowDom)}(A,l,this.componentDef.encapsulation):Gy(E.createRenderer(null,this.componentDef),N,function uE(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(N)),$=this.componentDef.onPush?288:272,Y=Gf(0,null,null,1,0,null,null,null,null,null),ye=Bg(null,Y,null,$,null,null,E,A,I,v,null);let Fe,Ge;xu(ye);try{const st=function OS(i,s,a,l,c,g){const v=a[1];a[22]=i;const I=ec(v,22,2,"#host",null),A=I.mergedAttrs=s.hostAttrs;null!==A&&(Zf(I,A,!0),null!==i&&(Ms(c,i,A),null!==I.classes&&Xy(c,i,I.classes),null!==I.styles&&_w(c,i,I.styles)));const N=l.createRenderer(i,s),P=Bg(a,$f(s),null,s.onPush?32:16,a[22],I,l,N,g||null,null,null);return v.firstCreatePass&&(no(us(I,a),v,s.type),Xw(v,I),eE(I,a.length,1)),ou(a,P),a[22]=P}(P,this.componentDef,ye,E,A);if(P)if(l)Ms(A,P,["ng-version",wg.full]);else{const{attrs:ft,classes:Ce}=function yS(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===c?""!==g&&s.push(g,i[++l]):8===c&&a.push(g);else{if(!po(c))break;c=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ft&&Ms(A,P,ft),Ce&&Ce.length>0&&Xy(A,P,Ce.join(" "))}if(Ge=Ea(Y,22),void 0!==a){const ft=Ge.projection=[];for(let Ce=0;Ce<this.ngContentSelectors.length;Ce++){const It=a[Ce];ft.push(null!=It?Array.from(It):null)}}Fe=function PS(i,s,a,l){const c=a[1],g=function SD(i,s,a){const l=Hn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),$g(i,l,s,qd(i,s,1,null),a),Wd(i,l));const c=Rs(s,i,l.directiveStart,l);or(c,s);const g=Bn(l,s);return g&&or(g,s),c}(c,a,s);if(i[8]=a[8]=g,null!==l)for(const E of l)E(g,s);if(s.contentQueries){const E=Hn();s.contentQueries(1,g,E.directiveStart)}const v=Hn();return!c.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||($i(v.index),Dv(a[1],v,0,v.directiveStart,v.directiveEnd,s),Av(s,g)),g}(st,this.componentDef,ye,[Fv]),wv(Y,ye,null)}finally{ss()}return new NS(this.componentType,Fe,ia(Ge,ye),ye,Ge)}}class NS extends class ra{}{constructor(s,a,l,c,g){super(),this.location=l,this._rootLView=c,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new RD(c),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const g=this._rootLView;Pv(g[1],g,c,s,a),Iv(g,this._tNode.index)}}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Fv(){const i=Hn();Uo(Ie()[1],i)}function Lv(i){let s=function PD(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(Jr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new me(903,!1);c=s.\u0275dir}if(c){if(a){l.push(c);const v=i;v.inputs=Vv(i.inputs),v.declaredInputs=Vv(i.declaredInputs),v.outputs=Vv(i.outputs);const E=c.hostBindings;E&&Bv(i,E);const I=c.viewQuery,A=c.contentQueries;if(I&&hE(i,I),A&&Uv(i,A),ae(i.inputs,c.inputs),ae(i.declaredInputs,c.declaredInputs),ae(i.outputs,c.outputs),Jr(c)&&c.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(i),E===Lv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function dE(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Ho(c.hostAttrs,a=Ho(a,c.hostAttrs))}}(l)}function Vv(i){return i===Kr?{}:i===nt?[]:i}function hE(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Uv(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,g)=>{s(l,c,g),a(l,c,g)}:s}function Bv(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Wg=null;function Kd(){if(!Wg){const i=Kt.Symbol;if(i&&i.iterator)Wg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Wg=l)}}}return Wg}function Yf(i){return!!Hv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Kd()in i)}function Hv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function au(i,s,a){return i[s]=a}function Pi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Kg(i,s,a,l){const c=Ie();return Pi(c,Xs(),s)&&(Gt(),go(bn(),c,i,s,a,l)),Kg}function Jf(i,s,a,l,c,g,v,E){const I=Ie(),A=Gt(),N=i+22,P=A.firstCreatePass?function Jg(i,s,a,l,c,g,v,E,I){const A=s.consts,N=ec(s,i,4,v||null,Ar(A,E));bv(s,a,N,Ar(A,I)),Uo(s,N);const P=N.tViews=Gf(2,N,l,c,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,N),P.queries=s.queries.embeddedTView(N)),N}(N,A,I,s,a,l,c,g,v):A.data[N];$r(P,!1);const $=I[11].createComment("");Ag(A,I,$,P),or($,I),ou(I,I[N]=Wf($,I,$,P)),dl(P)&&Hg(A,I,P),null!=v&&Hf(I,P,E)}function yE(i){return Ti(function Ta(){return Dt.lFrame.contextLView}(),22+i)}function ep(i,s,a){const l=Ie();return Pi(l,Xs(),s)&&function _i(i,s,a,l,c,g,v,E){const I=Bn(s,a);let N,A=s.inputs;!E&&null!=A&&(N=A[l])?(Pv(i,a,N,l,c),wu(s)&&Iv(a,s.index)):3&s.type&&(l=function Qw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=v?v(c,s.value||"",l):c,g.setProperty(I,l,c))}(Gt(),bn(),l,i,s,l[11],a,!1),ep}function $v(i,s,a,l,c){const v=c?"class":"style";Pv(i,a,s.inputs[v],v,l)}function Xg(i,s,a,l){const c=Ie(),g=Gt(),v=22+i,E=c[11],I=c[v]=Gy(E,s,function Nu(){return Dt.lFrame.currentNamespace}()),A=g.firstCreatePass?function FD(i,s,a,l,c,g,v){const E=s.consts,A=ec(s,i,2,c,Ar(E,g));return bv(s,a,A,Ar(E,v)),null!==A.attrs&&Zf(A,A.attrs,!1),null!==A.mergedAttrs&&Zf(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(v,g,c,0,s,a,l):g.data[v];$r(A,!0);const N=A.mergedAttrs;null!==N&&Ms(E,I,N);const P=A.classes;null!==P&&Xy(E,I,P);const $=A.styles;return null!==$&&_w(E,I,$),64!=(64&A.flags)&&Ag(g,c,I,A),0===function yl(){return Dt.lFrame.elementDepthCount}()&&or(I,c),function Ia(){Dt.lFrame.elementDepthCount++}(),dl(A)&&(Hg(g,c,A),function jf(i,s,a){if(_u(s)){const c=s.directiveEnd;for(let g=s.directiveStart;g<c;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,c)),null!==l&&Hf(c,A),Xg}function Rr(){let i=Hn();Ca()?ko():(i=i.parent,$r(i,!1));const s=i;!function Cu(){Dt.lFrame.elementDepthCount--}();const a=Gt();return a.firstCreatePass&&(Uo(a,i),_u(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function jo(i){return 0!=(16&i.flags)}(s)&&$v(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ed(i){return 0!=(32&i.flags)}(s)&&$v(a,s,Ie(),s.stylesWithoutHost,!1),Rr}function Xd(i,s,a,l){return Xg(i,s,a,l),Rr(),Xd}function zv(){return Ie()}function tp(i){return!!i&&"function"==typeof i.then}function qv(i){return!!i&&"function"==typeof i.subscribe}const si=qv;function Wv(i,s,a,l){const c=Ie(),g=Gt(),v=Hn();return function em(i,s,a,l,c,g,v,E){const I=dl(l),N=i.firstCreatePass&&iE(i),P=s[8],$=rE(s);let Y=!0;if(3&l.type||E){const Ge=Bn(l,s),st=E?E(Ge):Ge,ft=$.length,Ce=E?Qt=>E(kn(Qt[l.index])):l.index;let It=null;if(!E&&I&&(It=function _E(i,s,a,l){const c=i.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const v=c[g];if(v===a&&c[g+1]===l){const E=s[7],I=c[g+2];return E.length>I?E[I]:null}"string"==typeof v&&(g+=2)}return null}(i,s,c,l.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=g,It.__ngLastListenerFn__=g,Y=!1;else{g=mo(l,s,P,g,!1);const Qt=a.listen(st,c,g);$.push(g,Qt),N&&N.push(c,Ce,ft,ft+1)}}else g=mo(l,s,P,g,!1);const ye=l.outputs;let Fe;if(Y&&null!==ye&&(Fe=ye[c])){const Ge=Fe.length;if(Ge)for(let st=0;st<Ge;st+=2){const Tn=s[Fe[st]][Fe[st+1]].subscribe(g),bo=$.length;$.push(g,Tn),N&&N.push(c,l.index,bo,-(bo+1))}}}(g,c,c[11],v,i,s,0,l),Wv}function rp(i,s,a,l){try{return!1!==a(l)}catch(c){return oE(i,c),!1}}function mo(i,s,a,l,c){return function g(v){if(v===Function)return l;zg(2&i.flags?sn(i.index,s):s);let I=rp(s,0,l,v),A=g.__ngNextListenerFn__;for(;A;)I=rp(s,0,A,v)&&I,A=A.__ngNextListenerFn__;return c&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function tm(i=1){return function eo(i){return(Dt.lFrame.contextLView=function Mu(i,s){for(;i>0;)s=s[15],i--;return s}(i,Dt.lFrame.contextLView))[8]}(i)}function LD(i,s){let a=null;const l=function oD(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const g=s[c];if("*"!==g){if(null===l?bw(i,g,!0):Dw(l,g))return c}else a=c}return a}function wE(i){const s=Ie()[16][6];if(!s.projection){const l=s.projection=Wn(i?i.length:1,null),c=l.slice();let g=s.child;for(;null!==g;){const v=i?LD(g,i):0;null!==v&&(c[v]?c[v].projectionNext=g:l[v]=g,c[v]=g),g=g.next}}}function uc(i,s=0,a){const l=Ie(),c=Gt(),g=ec(c,22+i,16,null,a||null);null===g.projection&&(g.projection=s),ko(),64!=(64&g.flags)&&function nD(i,s,a){vw(s[11],0,s,a,Tg(i,a,s),Of(a.parent||s[6],a,s))}(c,l,g)}function DE(i,s,a,l,c){const g=i[a+1],v=null===s;let E=l?Hs(g):iu(g),I=!1;for(;0!==E&&(!1===I||v);){const N=i[E+1];op(i[E],s)&&(I=!0,i[E+1]=l?pv(N):dv(N)),E=l?Hs(N):iu(N)}I&&(i[a+1]=l?dv(g):pv(g))}function op(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&qi(i,s)>=0}function i_(i,s){return function _o(i,s,a,l){const c=Ie(),g=Gt(),v=function Hi(i){const s=Dt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function lm(i,s,a,l){const c=i.data;if(null===c[a+1]){const g=c[nr()],v=function um(i,s){return s>=i.expandoStartIndex}(i,a);(function c_(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!v&&(s=!1),s=function zr(i,s,a,l){const c=function _l(i){const s=Dt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=up(a=a_(null,i,s,a,l),s.attrs,l),g=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=a_(c,i,s,a,l),null===g){let I=function oi(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==iu(l))return i[Hs(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=a_(null,i,s,I[1],l),I=up(I,s.attrs,l),function cm(i,s,a,l){i[Hs(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else g=function o_(i,s,a){let l;const c=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<c;g++)l=up(l,i[g].hostAttrs,a);return up(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(c,g,s,l),function Qv(i,s,a,l,c,g){let v=g?s.classBindings:s.styleBindings,E=Hs(v),I=iu(v);i[l]=a;let N,A=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||qi(P,N)>0)&&(A=!0)}else N=a;if(c)if(0!==I){const $=Hs(i[E+1]);i[l+1]=Fg($,E),0!==$&&(i[$+1]=hv(i[$+1],l)),i[E+1]=function vD(i,s){return 131071&i|s<<17}(i[E+1],l)}else i[l+1]=Fg(E,0),0!==E&&(i[E+1]=hv(i[E+1],l)),E=l;else i[l+1]=Fg(I,0),0===E?E=l:i[I+1]=hv(i[I+1],l),I=l;A&&(i[l+1]=dv(i[l+1])),DE(i,N,l,!0),DE(i,N,l,!1),function bE(i,s,a,l,c){const g=c?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&qi(g,s)>=0&&(a[l+1]=pv(a[l+1]))}(s,N,i,l,g),v=Fg(E,I),g?s.classBindings=v:s.styleBindings=v}(c,g,s,a,v,l)}}(g,i,v,l),s!==kt&&Pi(c,v,s)&&function u_(i,s,a,l,c,g,v,E){if(!(3&s.type))return;const I=i.data,A=I[E+1];hm(function fv(i){return 1==(1&i)}(A)?dm(I,s,a,c,iu(A),v):void 0)||(hm(g)||function Hw(i){return 2==(2&i)}(A)&&(g=dm(I,null,a,c,E,v)),function iD(i,s,a,l,c){if(s)c?i.addClass(a,l):i.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:Oi.DashCase;null==c?i.removeStyle(a,l,g):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),g|=Oi.Important),i.setStyle(a,l,c,g))}}(l,v,Xr(nr(),a),c,g))}(g,g.data[nr()],c,c[11],i,c[v+1]=function l_(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(ti(i)))),i}(s,a),l,v)}(i,s,null,!0),i_}function a_(i,s,a,l,c){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=s[E],l=up(l,g.hostAttrs,c),g!==i);)E++;return null!==i&&(a.directiveStylingLast=E),l}function up(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?c=v:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ei(i,v,!!a||s[++g]))}return void 0===i?null:i}function dm(i,s,a,l,c,g){const v=null===s;let E;for(;c>0;){const I=i[c],A=Array.isArray(I),N=A?I[1]:I,P=null===N;let $=a[c+1];$===kt&&($=P?nt:void 0);let Y=P?Ha($,l):N===l?$:void 0;if(A&&!hm(Y)&&(Y=Ha(I,l)),hm(Y)&&(E=Y,v))return E;const ye=i[c+1];c=v?Hs(ye):iu(ye)}if(null!==s){let I=g?s.residualClasses:s.residualStyles;null!=I&&(E=Ha(I,l))}return E}function hm(i){return void 0!==i}function SE(i,s=""){const a=Ie(),l=Gt(),c=i+22,g=l.firstCreatePass?ec(l,c,1,s,null):l.data[c],v=a[c]=function xf(i,s){return i.createText(s)}(a[11],s);Ag(l,a,v,g),$r(g,!1)}function th(i){return nh("",i,""),th}function nh(i,s,a){const l=Ie(),c=function rc(i,s,a,l){return Pi(i,Xs(),a)?s+ge(a)+l:kt}(l,i,s,a);return c!==kt&&function Gs(i,s,a){const l=Xr(s,i);!function Mf(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,nr(),c),nh}const uu=void 0;var VE=["en",[["a","p"],["AM","PM"],uu],[["AM","PM"],uu,uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uu,"{1} 'at' {0}",uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LE(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let dc={};function hc(i){const s=function WD(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ah(s);if(a)return a;const l=s.split("-")[0];if(a=ah(l),a)return a;if("en"===l)return VE;throw new me(701,!1)}function pp(i){return hc(i)[yt.PluralCase]}function ah(i){return i in dc||(dc[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),dc[i]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const fc="en-US";let __=fc;function F_(i,s,a,l,c){if(i=Z(i),Array.isArray(i))for(let g=0;g<i.length;g++)F_(i[g],s,a,l,c);else{const g=Gt(),v=Ie();let E=eu(i)?i:Z(i.provide),I=_f(i);const A=Hn(),N=1048575&A.providerIndexes,P=A.directiveStart,$=A.providerIndexes>>20;if(eu(i)||!i.multi){const Y=new Bo(I,c,Vf),ye=U_(E,s,c?N:N+$,P);-1===ye?(no(us(A,v),g,E),L_(g,i,s.length),s.push(E),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(Y),v.push(Y)):(a[ye]=Y,v[ye]=Y)}else{const Y=U_(E,s,N+$,P),ye=U_(E,s,N,N+$),Fe=Y>=0&&a[Y],Ge=ye>=0&&a[ye];if(c&&!Ge||!c&&!Fe){no(us(A,v),g,E);const st=function qr(i,s,a,l,c){const g=new Bo(i,a,Vf);return g.multi=[],g.index=s,g.componentProviders=0,V_(g,c,l&&!a),g}(c?uC:xm,a.length,c,l,I);!c&&Ge&&(a[ye].providerFactory=st),L_(g,i,s.length,0),s.push(E),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(st),v.push(st)}else L_(g,i,Y>-1?Y:ye,V_(a[c?ye:Y],I,!c&&l));!c&&l&&Ge&&a[ye].componentProviders++}}}function L_(i,s,a,l){const c=eu(s),g=function xd(i){return!!i.useClass}(s);if(c||g){const I=(g?Z(s.useClass):s).prototype.ngOnDestroy;if(I){const A=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const N=A.indexOf(a);-1===N?A.push(a,[l,I]):A[N+1].push(l,I)}else A.push(a,I)}}}function V_(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function U_(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function xm(i,s,a,l){return Mm(this.multi,[])}function uC(i,s,a,l){const c=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Rs(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),Mm(c,g);for(let I=v;I<E.length;I++)g.push(E[I])}else g=[],Mm(c,g);return g}function Mm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function yc(i,s=[]){return a=>{a.providersResolver=(l,c)=>function k_(i,s,a){const l=Gt();if(l.firstCreatePass){const c=Jr(i);F_(a,l.data,l.blueprint,c,!0),F_(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Es{}class Nm{}function lC(i,s){return new ar(i,s??null)}class ar extends Es{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const l=un(s);this._bootstrapComponents=vs(l.bootstrap),this._r3Injector=Ow(s,a,[{provide:Es,useValue:this},{provide:Ri,useValue:this.componentFactoryResolver}],ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class lu extends Nm{constructor(s){super(),this.moduleType=s}create(s){return new ar(this.moduleType,s)}}class B_ extends Es{constructor(s,a,l){super(),this.componentFactoryResolver=new kv(this),this.instance=null;const c=new Rd([...s,{provide:Es,useValue:this},{provide:Ri,useValue:this.componentFactoryResolver}],a||Nd(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function rt(i,s,a=null){return new B_(i,s,a).injector}let bt=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Ll(0,a.type),c=l.length>0?rt([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=on({token:i,providedIn:"environment",factory:()=>new i(dn(Ni))}),i})();function lI(i){i.getStandaloneInjector=s=>s.get(bt).getOrCreateStandaloneInjector(i)}function Et(i,s,a,l){return Dp(Ie(),$n(),i,s,a,l)}function gh(i,s,a,l,c){return function fI(i,s,a,l,c,g,v){const E=s+a;return function Yd(i,s,a,l){const c=Pi(i,s,a);return Pi(i,s+1,l)||c}(i,E,c,g)?au(i,E+2,v?l.call(v,c,g):l(c,g)):bp(i,E+2)}(Ie(),$n(),i,s,a,l,c)}function bp(i,s){const a=i[s];return a===kt?void 0:a}function Dp(i,s,a,l,c,g){const v=s+a;return Pi(i,v,c)?au(i,v+1,g?l.call(g,c):l(c)):bp(i,v+1)}function Yi(i,s){const a=Gt();let l;const c=i+22;a.firstCreatePass?(l=function z_(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const g=l.factory||(l.factory=Bi(l.type)),v=er(Vf);try{const E=Oa(!1),I=g();return Oa(E),function Xf(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ie(),c,I),I}finally{er(v)}}function q_(i,s,a){const l=i+22,c=Ie(),g=Ti(c,l);return function Fi(i,s){return i[1].data[s].pure}(c,l)?Dp(c,$n(),s,g.transform,a,g):g.transform(a)}function _c(i){return s=>{setTimeout(i,void 0,s)}}const ai=class _C extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let c=s,g=a||(()=>null),v=l;if(s&&"object"==typeof s){const I=s;c=I.next?.bind(I),g=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(g=_c(g),c&&(c=_c(c)),v&&(v=_c(v)));const E=super.subscribe({next:c,error:g,complete:v});return s instanceof Q.w0&&s.add(E),E}};function wC(){return this._results[Kd()]()}class ca{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Kd(),l=ca.prototype;l[a]||(l[a]=wC)}get changes(){return this._changes||(this._changes=new ai)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=cn(s);(this._changesDetected=!function wr(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],g=s[l];if(a&&(c=a(c),g=a(g)),g!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yh=(()=>{class i{}return i.__NG_ELEMENT_ID__=IC,i})();const Z_=yh,EC=class extends Z_{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,c=Bg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);c[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(c[19]=v.createEmbeddedView(l)),wv(l,c,s),new tc(c)}};function IC(){return ui(Hn(),Ie())}function ui(i,s){return 4&i.type?new EC(s,i,ia(i,s)):null}let Cp=(()=>{class i{}return i.__NG_ELEMENT_ID__=wc,i})();function wc(){return pn(Hn(),Ie())}const pI=Cp,Yn=class extends pI{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Pu(this._hostTNode,this._hostLView);if(nd(s)){const a=$o(s,this._hostLView),l=rr(s);return new cs(a[1].data[l+8],a)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Tp(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let c,g;"number"==typeof l?c=l:null!=l&&(c=l.index,g=l.injector);const v=s.createEmbeddedView(a||{},g);return this.insert(v,c),v}createComponent(s,a,l,c,g){const v=s&&!function ln(i){return"function"==typeof i}(s);let E;if(v)E=a;else{const P=a||{};E=P.index,l=P.injector,c=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const I=v?s:new Zd(K(s)),A=l||this.parentInjector;if(!g&&null==I.ngModule){const $=(v?A:this.parentInjector).get(Ni,null);$&&(g=$)}const N=I.create(A,c,void 0,g);return this.insert(N.hostView,E),N}insert(s,a){const l=s._lView,c=l[1];if(function Ys(i){return Qr(i[3])}(l)){const N=this.indexOf(s);if(-1!==N)this.detach(N);else{const P=l[3],$=new Yn(P,P[6],P[3]);$.detach($.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function Xb(i,s,a,l){const c=10+l,g=a.length;l>0&&(a[c-1][4]=s),l<g-10?(s[4]=a[c],ds(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function eD(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=64}(c,l,v,g);const E=Jy(g,v),I=l[11],A=Rf(I,v[7]);return null!==A&&function Yb(i,s,a,l,c,g){l[0]=c,l[6]=s,kf(i,l,a,1,c,g)}(c,v[6],I,l,A,E),s.attachToViewContainerRef(),ds(Pr(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Tp(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=zy(this._lContainer,a);l&&(qn(Pr(this._lContainer),a),qy(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=zy(this._lContainer,a);return l&&null!=qn(Pr(this._lContainer),a)?new tc(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Tp(i){return i[8]}function Pr(i){return i[8]||(i[8]=[])}function pn(i,s){let a;const l=s[i.index];if(Qr(l))a=l;else{let c;if(8&i.type)c=kn(l);else{const g=s[11];c=g.createComment("");const v=Bn(i,s);Kl(g,Rf(g,v),c,function gw(i,s){return i.nextSibling(s)}(g,v),!1)}s[i.index]=a=Wf(l,s,c,i),ou(s,a)}return new Yn(a,i,s)}class K_{constructor(s){this.queryList=s,this.matches=null}clone(){return new K_(this.queryList)}setDirty(){this.queryList.setDirty()}}class pr{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);c.push(this.queries[v.indexInDeclarationView].clone())}return new pr(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==du(s,a).matches&&this.queries[a].setDirty()}}class mI{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class da{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,c);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new da(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class zn{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new zn(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const g=l[c];this.matchTNodeWithReadOption(s,a,Ec(a,g)),this.matchTNodeWithReadOption(s,a,La(a,s,g,!1,!1))}else l===yh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,La(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===nu||c===Cp||c===yh&&4&a.type)this.addMatch(a.index,-2);else{const g=La(a,s,c,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Ec(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function yI(i,s,a,l){return-1===a?function Y_(i,s){return 11&i.type?ia(i,s):4&i.type?ui(i,s):null}(s,i):-2===a?function Ap(i,s,a){return a===nu?ia(s,i):a===yh?ui(s,i):a===Cp?pn(s,i):void 0}(i,s,l):Rs(i,i[1],a,s)}function vI(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const g=i.data,v=a.matches,E=[];for(let I=0;I<v.length;I+=2){const A=v[I];E.push(A<0?null:yI(s,g[A],v[I+1],a.metadata.read))}c.matches=E}return c.matches}function ha(i,s,a,l){const c=i.queries.getByIndex(a),g=c.matches;if(null!==g){const v=vI(i,s,c,a);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)l.push(v[E/2]);else{const A=g[E+1],N=s[-I];for(let P=10;P<N.length;P++){const $=N[P];$[17]===$[3]&&ha($[1],$,A,l)}if(null!==N[9]){const P=N[9];for(let $=0;$<P.length;$++){const Y=P[$];ha(Y[1],Y,A,l)}}}}}return l}function _h(i){const s=Ie(),a=Gt(),l=Aa();Vo(l+1);const c=du(a,l);if(i.dirty&&function bu(i){return 4==(4&i[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const g=c.crossesNgTemplate?ha(a,s,l,[]):vI(a,s,c,l);i.reset(g,Od),i.notifyOnChanges()}return!0}return!1}function Q_(i,s,a,l){const c=Gt();if(c.firstCreatePass){const g=Hn();(function wo(i,s,a){null===i.queries&&(i.queries=new da),i.queries.track(new zn(s,a))})(c,new mI(s,a,l),g.index),function xp(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function el(i,s,a){const l=new ca(4==(4&a));Kw(i,s,l,l.destroy),null===s[19]&&(s[19]=new pr),s[19].queries.push(new K_(l))}(c,Ie(),a)}function cu(){return function Pm(i,s){return i[19].queries[s].queryList}(Ie(),Aa())}function du(i,s){return i.queries.getByIndex(s)}function J_(i,s){return ui(i,s)}function Ac(...i){}const xI=new fn("Application Initializer");let Rp=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ac,this.reject=Ac,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(tp(g))a.push(g);else if(si(g)){const v=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(dn(xI,8))},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Sc=new fn("AppId",{providedIn:"root",factory:function nl(){return`${gu()}${gu()}${gu()}`}});function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const d0=new fn("Platform Initializer"),wh=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new fn("appBootstrapListener");let FC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Cn=new fn("LocaleId",{providedIn:"root",factory:()=>b(Cn,He.Optional|He.SkipSelf)||function LC(){return typeof $localize<"u"&&$localize.locale||fc}()}),Gm=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Op{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let UC=(()=>{class i{compileModuleSync(a){return new lu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=vs(un(a).declarations).reduce((v,E)=>{const I=K(E);return I&&v.push(new Zd(I)),v},[]);return new Op(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const m0=(()=>Promise.resolve(0))();function y0(i){typeof Zone>"u"?m0.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Mt{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ai(!1),this.onMicrotaskEmpty=new ai(!1),this.onStable=new ai(!1),this.onError=new ai(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Cr(){let i=Kt.requestAnimationFrame,s=Kt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function jC(i){const s=()=>{!function rl(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ei(i),i.isCheckStableRunning=!0,zm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ei(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,g,v,E)=>{try{return v0(i),a.invokeTask(c,g,v,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Eh(i)}},onInvoke:(a,l,c,g,v,E,I)=>{try{return v0(i),a.invoke(c,g,v,E,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Eh(i)}},onHasTask:(a,l,c,g)=>{a.hasTask(c,g),l===c&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Ei(i),zm(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,c,g)=>(a.handleError(c,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new me(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+c,s,NI,Ac,Ac);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const NI={};function zm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ei(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function v0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Eh(i){i._nesting--,zm(i)}class RI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ai,this.onMicrotaskEmpty=new ai,this.onStable=new ai,this.onError=new ai}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}const Eo=new fn(""),_0=new fn("");let Lt,kp=(()=>{class i{constructor(a,l,c){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lt||(function HC(i){Lt=i}(c),c.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(dn(Mt),dn(OI),dn(_0))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})(),OI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Lt?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),il=null;const Fp=new fn("AllowMultipleToken"),xc=new fn("PlatformDestroyListeners");class kI{constructor(s,a){this.name=s,this.token=a}}function LI(i,s,a=[]){const l=`Platform: ${s}`,c=new fn(l);return(g=[])=>{let v=E0();if(!v||v.injector.get(Fp,!1)){const E=[...a,...g,{provide:c,useValue:!0}];i?i(E):function GC(i){if(il&&!il.get(Fp,!1))throw new me(400,!1);il=i;const s=i.get(kr);(function w0(i){const s=i.get(d0,null);s&&s.forEach(a=>a())})(i)}(function Ih(i=[],s){return Ql.create({name:s,providers:[{provide:yf,useValue:"platform"},{provide:xc,useValue:new Set([()=>il=null])},...i]})}(E,l))}return function zC(i){const s=E0();if(!s)throw new me(401,!1);return s}()}}function E0(){return il?.get(kr)??null}let kr=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const c=function I0(i,s){let a;return a="noop"===i?new RI:("zone.js"===i?void 0:i)||new Mt(s),a}(l?.ngZone,function Wm(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:Mt,useValue:c}];return c.run(()=>{const v=Ql.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(v),I=E.injector.get(S,null);if(!I)throw new me(402,!1);return c.runOutsideAngular(()=>{const A=c.onError.subscribe({next:N=>{I.handleError(N)}});E.onDestroy(()=>{Lp(this._modules,E),A.unsubscribe()})}),function bh(i,s,a){try{const l=a();return tp(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(I,c,()=>{const A=E.injector.get(Rp);return A.runInitializers(),A.donePromise.then(()=>(function Ln(i){et(i,"Expected localeId to be defined"),"string"==typeof i&&(__=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Cn,fc)||fc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const c=Io({},l);return function qm(i,s,a){const l=new lu(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(a){const l=a.injector.get(Dh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new me(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(xc,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(dn(Ql))},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Io(i,s){return Array.isArray(s)?s.reduce(Io,i):{...i,...s}}let Dh=(()=>{class i{constructor(a,l,c){this._zone=a,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ne.T)(g,v.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const c=a instanceof Ef;if(!this._injector.get(Rp).done)throw!c&&qt(a),new me(405,false);let v;v=c?a:this._injector.get(Ri).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function PI(i){return i.isBoundToModule}(v)?void 0:this._injector.get(Es),A=v.create(Ql.NULL,[],l||v.selector,E),N=A.location.nativeElement,P=A.injector.get(Eo,null);return P?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),Lp(this.components,A),P?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Lp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(h0,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Lp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new me(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(dn(Mt),dn(Ni),dn(S))},i.\u0275prov=on({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Lp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let b0=!0,D0=!1;function WC(){return D0=!0,b0}function ZC(){if(D0)throw new Error("Cannot enable prod mode after platform setup.");b0=!1}let jI=(()=>{class i{}return i.__NG_ELEMENT_ID__=C0,i})();function C0(i){return function HI(i,s,a){if(wu(i)&&!a){const l=sn(i.index,s);return new tc(l,l)}return 47&i.type?new tc(s[16],s):null}(Hn(),Ie(),16==(16&i))}class zI{constructor(){}supports(s){return Yf(s)}create(s){return new XC(s)}}const JC=(i,s)=>s;class XC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||JC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<WI(l,c,g)?a:l,E=WI(v,c,g),I=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{g||(g=[]);const A=E-c,N=I-c;if(A!=N){for(let $=0;$<A;$++){const Y=$<g.length?g[$]:g[$]=0,ye=Y+$;N<=ye&&ye<A&&(g[$]=Y+1)}g[v.previousIndex]=N-A}}E!==I&&s(v,E,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Yf(s))throw new me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,g,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else c=0,function US(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Kd()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,E=>{v=this._trackByFn(c,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,c)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,c)):s=this._addAfter(new eT(a,l),g,c),s}_verifyReinsertion(s,a,l,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,g=s._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new qI),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class eT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class qI{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new tT,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WI(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class ZI{constructor(){}supports(s){return s instanceof Map||Hv(s)}create(){return new nT}}class nT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Hv(s)))throw new me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const g=c._prev,v=c._next;return g&&(g._next=v),v&&(v._prev=g),c._next=null,c._prev=null,c}const l=new rT(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class rT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new S0([new zI])}let S0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||A0()),deps:[[i,new _t,new Be]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new me(901,!1)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:A0}),i})();function x0(){return new M0([new ZI])}let M0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||x0()),deps:[[i,new _t,new Be]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new me(901,!1)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:x0}),i})();const R0=LI(null,"core",[]);let sl=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(dn(Dh))},i.\u0275mod=Ht({type:i}),i.\u0275inj=xn({}),i})();function QI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(lt,we,k)=>{k.d(we,{Z:()=>me});var f=k(2090),Q=k(4859),O=k(9681),ne=k(1877);class oe{constructor(ge,re){this._delegate=ge,this.firebase=re,(0,O._addComponent)(ge,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ge,re=O._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(ge);return!We.isInitialized()&&"EXPLICIT"===(null===(Le=We.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&We.initialize(),We.getImmediate({identifier:re})}_removeServiceInstance(ge,re=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(re)}_addComponent(ge){(0,O._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,O._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function le(){const Xe=function ce(Xe){const ge={},re={__esModule:!0,initializeApp:function Ue(Ze,de={}){const B=O.initializeApp(Ze,de);if((0,f.r3)(ge,B.name))return ge[B.name];const ee=new Xe(B,re);return ge[B.name]=ee,ee},app:We,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Te(Ze){const de=Ze.name,B=de.replace("-compat","");if(O._registerComponent(Ze)&&"PUBLIC"===Ze.type){const ee=(te=We())=>{if("function"!=typeof te[B])throw ae.create("invalid-app-argument",{appName:de});return te[B]()};void 0!==Ze.serviceProps&&(0,f.ZB)(ee,Ze.serviceProps),re[B]=ee,Xe.prototype[B]=function(...te){return this._getService.bind(this,de).apply(this,Ze.multipleInstances?te:[])}}return"PUBLIC"===Ze.type?re[B]:null},removeApp:function Le(Ze){delete ge[Ze]},useAsService:function Qe(Ze,de){return"serverAuth"===de?null:de},modularAPIs:O}};function We(Ze){if(!(0,f.r3)(ge,Ze=Ze||O._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Ze});return ge[Ze]}return re.default=re,Object.defineProperty(re,"apps",{get:function Ye(){return Object.keys(ge).map(Ze=>ge[Ze])}}),We.App=Xe,re}(oe);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function ge(re){(0,f.ZB)(Xe,re)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Xe}(),G=new ne.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=H;!function Se(Xe){(0,O.registerVersion)("@firebase/app-compat","0.1.37",Xe)}()},9681:(lt,we,k)=>{k.r(we),k.d(we,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Co,_DEFAULT_ENTRY_NAME:()=>et,_addComponent:()=>Sn,_addOrOverwriteComponent:()=>on,_apps:()=>An,_clearComponents:()=>Ts,_components:()=>Wt,_getProvider:()=>xn,_registerComponent:()=>hi,_removeServiceInstance:()=>Xi,deleteApp:()=>Vr,getApp:()=>Lr,getApps:()=>Me,initializeApp:()=>Tr,onLog:()=>Xn,registerVersion:()=>mr,setLogLevel:()=>er});var f=k(5861),Q=k(4859),O=k(1877),ne=k(2090),oe=k(8766);class he{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function ae(Je){return"VERSION"===Je.getComponent()?.type}(Ke)){const Ct=Ke.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ce="@firebase/app",H=new O.Yd("@firebase/app"),et="[DEFAULT]",wt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,Wt=new Map;function Sn(Je,Ee){try{Je.container.addComponent(Ee)}catch(Ke){H.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Je.name}`,Ke)}}function on(Je,Ee){Je.container.addOrOverwriteComponent(Ee)}function hi(Je){const Ee=Je.name;if(Wt.has(Ee))return H.debug(`There were multiple attempts to register component ${Ee}.`),!1;Wt.set(Ee,Je);for(const Ke of An.values())Sn(Ke,Je);return!0}function xn(Je,Ee){const Ke=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Je.container.getProvider(Ee)}function Xi(Je,Ee,Ke=et){xn(Je,Ee).clearInstance(Ke)}function Ts(){Wt.clear()}const nn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(Ee,Ke,Ct){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const Co="9.12.1";function Tr(Je,Ee={}){let Ke=Je;"object"!=typeof Ee&&(Ee={name:Ee});const Ct=Object.assign({name:et,automaticDataCollectionEnabled:!1},Ee),Tt=Ct.name;if("string"!=typeof Tt||!Tt)throw nn.create("bad-app-name",{appName:String(Tt)});if(Ke||(Ke=(0,ne.aH)()),!Ke)throw nn.create("no-options");const Ht=An.get(Tt);if(Ht){if((0,ne.vZ)(Ke,Ht.options)&&(0,ne.vZ)(Ct,Ht.config))return Ht;throw nn.create("duplicate-app",{appName:Tt})}const j=new Q.H0(Tt);for(const q of Wt.values())j.addComponent(q);const V=new On(Ke,Ct,j);return An.set(Tt,V),V}function Lr(Je=et){const Ee=An.get(Je);if(!Ee&&Je===et)return Tr();if(!Ee)throw nn.create("no-app",{appName:Je});return Ee}function Me(){return Array.from(An.values())}function Vr(Je){return He.apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(Je){const Ee=Je.name;An.has(Ee)&&(An.delete(Ee),yield Promise.all(Je.container.getProviders().map(Ke=>Ke.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function mr(Je,Ee,Ke){var Ct;let Tt=null!==(Ct=wt[Je])&&void 0!==Ct?Ct:Je;Ke&&(Tt+=`-${Ke}`);const Ht=Tt.match(/\s|\//),j=Ee.match(/\s|\//);if(Ht||j){const V=[`Unable to register library "${Tt}" with version "${Ee}":`];return Ht&&V.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Ht&&j&&V.push("and"),j&&V.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void H.warn(V.join(" "))}hi(new Q.wA(`${Tt}-version`,()=>({library:Tt,version:Ee}),"VERSION"))}function Xn(Je,Ee){if(null!==Je&&"function"!=typeof Je)throw nn.create("invalid-log-argument");(0,O.Am)(Je,Ee)}function er(Je){(0,O.Ub)(Je)}const wn="firebase-heartbeat-store";let Vn=null;function En(){return Vn||(Vn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(Je,Ee)=>{0===Ee&&Je.createObjectStore(wn)}}).catch(Je=>{throw nn.create("idb-open",{originalErrorMessage:Je.message})})),Vn}function ot(){return(ot=(0,f.Z)(function*(Je){var Ee;try{return(yield En()).transaction(wn).objectStore(wn).get(lr(Je))}catch(Ke){if(Ke instanceof ne.ZR)H.warn(Ke.message);else{const Ct=nn.create("idb-get",{originalErrorMessage:null===(Ee=Ke)||void 0===Ee?void 0:Ee.message});H.warn(Ct.message)}}})).apply(this,arguments)}function Kt(Je,Ee){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(Je,Ee){var Ke;try{const Tt=(yield En()).transaction(wn,"readwrite");return yield Tt.objectStore(wn).put(Ee,lr(Je)),Tt.done}catch(Ct){if(Ct instanceof ne.ZR)H.warn(Ct.message);else{const Tt=nn.create("idb-set",{originalErrorMessage:null===(Ke=Ct)||void 0===Ke?void 0:Ke.message});H.warn(Tt.message)}}})).apply(this,arguments)}function lr(Je){return`${Je.name}!${Je.options.appId}`}class gn{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Zt(Ke),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var Ee=this;return(0,f.Z)(function*(){const Ct=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=an();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!Ee._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Tt))return Ee._heartbeatsCache.heartbeats.push({date:Tt,agent:Ct}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Ht=>{const j=new Date(Ht.date).valueOf();return Date.now()-j<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,f.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const Ke=an(),{heartbeatsToSend:Ct,unsentEntries:Tt}=function ts(Je,Ee=1024){const Ke=[];let Ct=Je.slice();for(const Tt of Je){const Ht=Ke.find(j=>j.agent===Tt.agent);if(Ht){if(Ht.dates.push(Tt.date),mn(Ke)>Ee){Ht.dates.pop();break}}else if(Ke.push({agent:Tt.agent,dates:[Tt.date]}),mn(Ke)>Ee){Ke.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:Ct}}(Ee._heartbeatsCache.heartbeats),Ht=(0,ne.L)(JSON.stringify({version:2,heartbeats:Ct}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Ke,Tt.length>0?(Ee._heartbeatsCache.heartbeats=Tt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Ht})()}}function an(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,f.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function gt(Je){return ot.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var Ke=this;return(0,f.Z)(function*(){var Ct;if(yield Ke._canUseIndexedDBPromise){const Ht=yield Ke.read();return Kt(Ke.app,{lastSentHeartbeatDate:null!==(Ct=Ee.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ht.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Ke=this;return(0,f.Z)(function*(){var Ct;if(yield Ke._canUseIndexedDBPromise){const Ht=yield Ke.read();return Kt(Ke.app,{lastSentHeartbeatDate:null!==(Ct=Ee.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Ee.heartbeats]})}})()}}function mn(Je){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function yr(Je){hi(new Q.wA("platform-logger",Ee=>new he(Ee),"PRIVATE")),hi(new Q.wA("heartbeat",Ee=>new gn(Ee),"PRIVATE")),mr(ce,"0.8.2",Je),mr(ce,"0.8.2","esm2017"),mr("fire-js","")}("")},4859:(lt,we,k)=>{k.d(we,{H0:()=>ce,wA:()=>O});var f=k(5861),Q=k(2090);class O{constructor(H,G,Z){this.name=H,this.instanceFactory=G,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ne="[DEFAULT]";class oe{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Z=new Q.BH;if(this.instancesDeferred.set(G,Z),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:G});Ve&&Z.resolve(Ve)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Z=this.normalizeInstanceIdentifier(H?.identifier),Ve=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(le){return"EAGER"===le.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[G,Z]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});Z.resolve(Se)}catch{}}}}clearInstance(H=ne){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,f.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...G.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ne){return this.instances.has(H)}getOptions(H=ne){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Z=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Z,options:G});for(const[Se,me]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(Se)&&me.resolve(Ve);return Ve}onInit(H,G){var Z;const Ve=this.normalizeInstanceIdentifier(G),Se=null!==(Z=this.onInitCallbacks.get(Ve))&&void 0!==Z?Z:new Set;Se.add(H),this.onInitCallbacks.set(Ve,Se);const me=this.instances.get(Ve);return me&&H(me,Ve),()=>{Se.delete(H)}}invokeOnInitCallbacks(H,G){const Z=this.onInitCallbacks.get(G);if(Z)for(const Ve of Z)try{Ve(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Z=this.instances.get(H);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(le=H,le===ne?void 0:le),options:G}),this.instances.set(H,Z),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Z,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Z)}catch{}var le;return Z||null}normalizeInstanceIdentifier(H=ne){return this.component?this.component.multipleInstances?H:ne:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new oe(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,we,k)=>{k.d(we,{Am:()=>le,Ub:()=>ce,Yd:()=>ae,in:()=>Q});const f=[];var Q=(()=>{return(H=Q||(Q={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Q;var H})();const O={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ne=Q.INFO,oe={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(H,G,...Z)=>{if(G<H.logLevel)return;const Ve=(new Date).toISOString(),Se=oe[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${Ve}]  ${H.name}:`,...Z)};class ae{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=he,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in Q))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?O[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...G),this._logHandler(this,Q.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...G),this._logHandler(this,Q.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...G),this._logHandler(this,Q.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...G),this._logHandler(this,Q.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...G),this._logHandler(this,Q.ERROR,...G)}}function ce(H){f.forEach(G=>{G.setLogLevel(H)})}function le(H,G){for(const Z of f){let Ve=null;G&&G.level&&(Ve=O[G.level]),Z.userLogHandler=null===H?null:(Se,me,...Xe)=>{const ge=Xe.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch{return null}}).filter(re=>re).join(" ");me>=(Ve??Se.logLevel)&&H({level:Q[me].toLowerCase(),message:ge,args:Xe,type:Se.name})}}}},8766:(lt,we,k)=>{k.d(we,{Lj:()=>Ue,X3:()=>We});var f=k(5861);let O,ne;const ae=new WeakMap,ce=new WeakMap,le=new WeakMap,H=new WeakMap,G=new WeakMap;let Se={get(de,B,ee){if(de instanceof IDBTransaction){if("done"===B)return ce.get(de);if("objectStoreNames"===B)return de.objectStoreNames||le.get(de);if("store"===B)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return re(de[B])},set:(de,B,ee)=>(de[B]=ee,!0),has:(de,B)=>de instanceof IDBTransaction&&("done"===B||"store"===B)||B in de};function ge(de){return"function"==typeof de?function Xe(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...B){return de.apply(Le(this),B),re(ae.get(this))}:function(...B){return re(de.apply(Le(this),B))}:function(B,...ee){const te=de.call(Le(this),B,...ee);return le.set(te,B.sort?B.sort():[B]),re(te)}}(de):(de instanceof IDBTransaction&&function Ve(de){if(ce.has(de))return;const B=new Promise((ee,te)=>{const _e=()=>{de.removeEventListener("complete",pe),de.removeEventListener("error",Oe),de.removeEventListener("abort",Oe)},pe=()=>{ee(),_e()},Oe=()=>{te(de.error||new DOMException("AbortError","AbortError")),_e()};de.addEventListener("complete",pe),de.addEventListener("error",Oe),de.addEventListener("abort",Oe)});ce.set(de,B)}(de),((de,B)=>B.some(ee=>de instanceof ee))(de,function oe(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Se):de)}function re(de){if(de instanceof IDBRequest)return function Z(de){const B=new Promise((ee,te)=>{const _e=()=>{de.removeEventListener("success",pe),de.removeEventListener("error",Oe)},pe=()=>{ee(re(de.result)),_e()},Oe=()=>{te(de.error),_e()};de.addEventListener("success",pe),de.addEventListener("error",Oe)});return B.then(ee=>{ee instanceof IDBCursor&&ae.set(ee,de)}).catch(()=>{}),G.set(B,de),B}(de);if(H.has(de))return H.get(de);const B=ge(de);return B!==de&&(H.set(de,B),G.set(B,de)),B}const Le=de=>G.get(de);function We(de,B,{blocked:ee,upgrade:te,blocking:_e,terminated:pe}={}){const Oe=indexedDB.open(de,B),vt=re(Oe);return te&&Oe.addEventListener("upgradeneeded",Ut=>{te(re(Oe.result),Ut.oldVersion,Ut.newVersion,re(Oe.transaction))}),ee&&Oe.addEventListener("blocked",()=>ee()),vt.then(Ut=>{pe&&Ut.addEventListener("close",()=>pe()),_e&&Ut.addEventListener("versionchange",()=>_e())}).catch(()=>{}),vt}function Ue(de,{blocked:B}={}){const ee=indexedDB.deleteDatabase(de);return B&&ee.addEventListener("blocked",()=>B()),re(ee).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Qe=new Map;function Ze(de,B){if(!(de instanceof IDBDatabase)||B in de||"string"!=typeof B)return;if(Qe.get(B))return Qe.get(B);const ee=B.replace(/FromIndex$/,""),te=B!==ee,_e=Te.includes(ee);if(!(ee in(te?IDBIndex:IDBObjectStore).prototype)||!_e&&!Ye.includes(ee))return;const pe=function(){var Oe=(0,f.Z)(function*(vt,...Ut){const Rn=this.transaction(vt,_e?"readwrite":"readonly");let et=Rn.store;return te&&(et=et.index(Ut.shift())),(yield Promise.all([et[ee](...Ut),_e&&Rn.done]))[0]});return function(Ut){return Oe.apply(this,arguments)}}();return Qe.set(B,pe),pe}!function me(de){Se=de(Se)}(de=>({...de,get:(B,ee,te)=>Ze(B,ee)||de.get(B,ee,te),has:(B,ee)=>!!Ze(B,ee)||de.has(B,ee)}))},5861:(lt,we,k)=>{function f(O,ne,oe,he,ae,ce,le){try{var H=O[ce](le),G=H.value}catch(Z){return void oe(Z)}H.done?ne(G):Promise.resolve(G).then(he,ae)}function Q(O){return function(){var ne=this,oe=arguments;return new Promise(function(he,ae){var ce=O.apply(ne,oe);function le(G){f(ce,he,ae,le,H,"next",G)}function H(G){f(ce,he,ae,le,H,"throw",G)}le(void 0)})}}k.d(we,{Z:()=>Q})}},lt=>{lt(lt.s=8471)}]);